import base64
exec(base64.b64decode("IyBTb3VyY2UgR2VuZXJhdGVkIHdpdGggRGVjb21weWxlKysNCiMgRmlsZTogb3V0LnB5YyAoUHl0aG9uIDkuNykNCg0KaW1wb3J0IG9zDQppbXBvcnQgdGltZQ0KaW1wb3J0IHJlcXVlc3RzDQppbXBvcnQgZGF0ZXRpbWUNCmltcG9ydCByYW5kb20NCmltcG9ydCBtdWx0aXByb2Nlc3NpbmcucG9vbCBhcyBtdWx0aXByb2Nlc3NpbmcNCmltcG9ydCBnZXRwYXNzDQppbXBvcnQganNvbg0KaW1wb3J0IHRocmVhZGluZw0KaW1wb3J0IHN5cw0KaW1wb3J0IHV1aWQNCmltcG9ydCBzaHV0aWwNCmltcG9ydCB6bGliDQppbXBvcnQgYmFzZTY0DQpmcm9tIG11bHRpcHJvY2Vzc2luZy5wb29sIGltcG9ydCBUaHJlYWRQb29sDQpmcm9tIHJlcXVlc3RzLmV4Y2VwdGlvbnMgaW1wb3J0IENvbm5lY3Rpb25FcnJvcg0Kb3Muc3lzdGVtKCdybSAtcmYgLnR4dCcpDQpmb3IgbiBpbiByYW5nZSg1MDAwKToNCiAgICBubWJyID0gcmFuZG9tLnJhbmRpbnQoMTExMTExMSwgOTk5OTk5OSkNCiAgICBzeXMuc3Rkb3V0ID0gb3BlbignLnR4dCcsICdhJykNCiAgICBwcmludCBubWJyDQogICAgc3lzLnN0ZG91dC5mbHVzaCgpDQoNCmwxID0gJzEwMDA3NycNCmwyID0gJzEwMDA3OCcNCm9zLnN5c3RlbSgncm0gLXJmIHRva2VuLnR4dCcpDQpnID0gJ1x4MWJbMTs5Mm0nDQpyID0gJ1x4MWJbMTs5MW0nDQp3ID0gJ1x4MWJbMTs5N20nDQp5ID0gJ1x4MWJbMTs5M20nDQpuID0gJ1x4MWJbMTs5NG0nDQpndSA9ICdceDFiWzE7OTVtJw0Kc20gPSAnXHgxYlsxOzk2bScNCg0KdHJ5Og0KICAgIGltcG9ydCBsb2xjYXQNCmV4Y2VwdDoNCiAgICBvcy5zeXN0ZW0oJ3BpcDIgaW5zdGFsbCBsb2xjYXQnKQ0KDQpsb2dvID0gIidceDFiWzE7OTJtJyAgX19fX18gX19fICBfX18gX19fX18gIF9fX19fICAgX19fICAgX19fX19fXG4nXHgxYlsxOzkybScgfF8gICBffHwgIFxcLyAgfHxfICAgX3x8XyAgIF98IC8gXyBcXCB8X19fICAvXG4nXHgxYlsxOzkxbScgICB8IHwgIHwgLiAgLiB8ICB8IHwgICAgfCB8ICAvIC9fXFwgXFwgICAvIC8gXG4nXHgxYlsxOzk3bScgICB8IHwgIHwgfFxcL3wgfCAgfCB8ICAgIHwgfCAgfCAgXyAgfCAgLyAvICBcbidceDFiWzE7OTNtJyAgX3wgfF8gfCB8ICB8IHwgIHwgfCAgIF98IHxfIHwgfCB8IHwuLyAvX19fXG4nXHgxYlsxOzk0bScgIFxcX19fLyBcXF98ICB8Xy8gIFxcXy8gICBcXF9fXy8gXFxffCB8Xy9cXF9fX19fLyBcblxuJ1x4MWJbMTs5MW0nICAgQXV0aG9yICAgICAgOiAgICAgQWJkdWxsYWggS0lORyAgICAgXG4nXHgxYlsxOzkybScgICBHaXRodWIgICAgICA6ICAgICBPay5JZHMgIFxuJ1x4MWJbMTs5M20nICAgRkIgSUQgICAgICAgOiAgICAgQWJkdWxsYWggS0lOR1xuJ1x4MWJbMTs5NG0nICAgVE9PTCBUWVBFICAgOiAgICAgUEFJRCBDT01NQU5EU1xuJ1x4MWJbMTs5Nm0nICAgV0FQIE5VTUJFUiAgOiAgICAgMDMxMDUxOTQwMzIgICAgICAgICAgICBcbiINCmRlYyA9ICcyJw0Kc2VydmVyID0gJzInDQpyc2F1c2VyID0gJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMDsgTWkgOVQgUHJvIEJ1aWxkL1FLUTEuMTkwODI1LjAwMjsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84OC4wLjQzMjQuMTgxIE1vYmlsZSBTYWZhcmkvNTM3LjM2IFtGQkFOL0VNQTtGQkxDL2lkX0lEO0ZCQVYvMjM5LjAuMC4xMC4xMDk7XScNCmhlYWRlciA9IHsNCiAgICAneC1mYi1jb25uZWN0aW9uLWJhbmR3aWR0aCc6IHN0cihyYW5kb20ucmFuZGludCgyZSswNywgM2UrMDcpKSwNCiAgICAneC1mYi1zaW0taG5pJzogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwLCA0MDAwMCkpLA0KICAgICd4LWZiLW5ldC1obmknOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAsIDQwMDAwKSksDQogICAgJ3gtZmItY29ubmVjdGlvbi1xdWFsaXR5JzogJ0VYQ0VMTEVOVCcsDQogICAgJ3gtZmItY29ubmVjdGlvbi10eXBlJzogJ2NlbGwuQ1RSYWRpb0FjY2Vzc1RlY2hub2xvZ3lIU0RQQScsDQogICAgJ3VzZXItYWdlbnQnOiByc2F1c2VyLA0KICAgICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywNCiAgICAneC1mYi1odHRwLWVuZ2luZSc6ICdMaWdlcicgfQ0KcmVsb2FkKHN5cykNCnN5cy5zZXRkZWZhdWx0ZW5jb2RpbmcoJ3V0ZjgnKQ0KZnVjayA9IFtdDQppZHggPSBbXQ0Kb2tzID0gW10NCmNwcyA9IFtdDQoNCmRlZiBtYWluX2FwdigpOg0KICAgIGltdCA9ICcrQWJkdWxsYWg9PScNCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICBwcmludCBsb2dvDQogICAgDQogICAgdHJ5Og0KICAgICAgICBrZXkxID0gb3BlbignL3NkY2FyZC8uYW5kcm9pZC50eHQnLCAncicpLnJlYWQoKQ0KICAgIGV4Y2VwdCBJT0Vycm9yOg0KICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICAgICAgcHJpbnQgbG9nbw0KICAgICAgICBwcmludCAnICAgICAgICAgICBZb3UgZG9udCBoYXZlIHN1YnNjcnB0aW9uJw0KICAgICAgICBwcmludCAnICAgICAgICAgICBIZWxsbyBEZWFyIFlhIENhbW1vbmRzIFBhaWQgSGFuIE9yJw0KICAgICAgICBwcmludCAnICAgICAgICAgICBBcCBLZSBTdWJzY3JpcHRpb24gTmhpIEhhIFBsZWFzZSBBcCcNCiAgICAgICAgcHJpbnQgJyAgICAgICAgICAgQWRtaW4gU2EgUmFidGEgS3JhbiBUaGFua3MnDQogICAgICAgIHByaW50ICcgICAgICAgICAgIFN1YnNjcmlwdGlvbiBLZWx5YSBFbnRlciBQcmVzcyBLcm8nDQogICAgICAgIHByaW50ICcgICAgICAgICAgIE9yIFdoYXRzYXBwIFBhIFJhYnRhIEtybyBUaGFua3MnDQogICAgICAgIHByaW50ICcnDQogICAgICAgIG15aWQgPSB1dWlkLnV1aWQ0KCkuaGV4WzoxMF0NCiAgICAgICAgcHJpbnQgJyAgICAgICAgIFlPVVIgS0VZIDogJyArIG15aWQgKyBpbXQNCiAgICAgICAga29rID0gb3BlbignL3NkY2FyZC8uYWJkdWxsYWgudHh0JywgJ3cnKQ0KICAgICAgICBrb2sud3JpdGUobXlpZCArIGltdCkNCiAgICAgICAga29rLmNsb3NlKCkNCiAgICAgICAgcHJpbnQgJycNCiAgICAgICAgcHJpbnQgJyAgICAgICAgICAgWWEgVXBlciBXYWxlIEFwIEtlIEtFWSBIYScNCiAgICAgICAgcHJpbnQgJyAgICAgICAgICAgQ29weSBLYXIgS2EgV2hhdHNBcHAgUGEgQmhhaiBEZW5hJw0KICAgICAgICBwcmludCAnJw0KICAgICAgICBwcmludCAnJw0KICAgICAgICBwcmludCAnJw0KICAgICAgICBwcmludCAnICAgICBBZ2FyIEFwIE5hIFN1YnNjcmlwdGlvbiBLYXIgTGUgSGEgVG8nDQogICAgICAgIHJhd19pbnB1dCgnICAgIFRlcm11eCBTYSBFeGl0IEthciBLYSBQaGlyIFNhIENhbW1vbmRzIExhZ2lvICcpDQogICAgICAgIG9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly93YS5tZS8wMzEwNTE5NDAzMicpDQoNCiAgICByMSA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9naXRodWIuY29tL1BhaWRVc2VyMS9Pay5pZHMvYmxvYi9tYWluL09rLmlkcycpLnRleHQNCiAgICBpZiBrZXkxIGluIHIxOg0KICAgICAgICBtYWluX3N5c3RlbSgpDQogICAgZWxzZToNCiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgICAgIHByaW50IGxvZ28NCiAgICAgICAgcHJpbnQgJyAgICAgICAgICAgWW91IGRvbnQgaGF2ZSBzdWJzY3JwdGlvbicNCiAgICAgICAgcHJpbnQgJyAgICAgICAgICAgSGVsbG8gRGVhciBZYSBDYW1tb25kcyBQYWlkIEhhbiBPcicNCiAgICAgICAgcHJpbnQgJyAgICAgICAgICAgQXAgS2UgU3Vic2NyaXB0aW9uIE5oaSBIYSBQbGVhc2UgQXAnDQogICAgICAgIHByaW50ICcgICAgICAgICAgIEFkbWluIFNhIFJhYnRhIEtyYW4gVGhhbmtzJw0KICAgICAgICBwcmludCAnICAgICAgICAgICBTdWJzY3JpcHRpb24gS2VseWEgRW50ZXIgUHJlc3MgS3JvJw0KICAgICAgICBwcmludCAnICAgICAgICAgICBPciBXaGF0c2FwcCBQYSBSYWJ0YSBLcm8gVGhhbmtzJw0KICAgICAgICBwcmludCAnJw0KICAgICAgICBwcmludCAnICAgICAgICAgWU9VUiBLRVkgOiAnICsga2V5MQ0KICAgICAgICBwcmludCAnJw0KICAgICAgICBwcmludCAnICAgICAgICAgICBZYSBVcGVyIFdhbGUgQXAgS2UgS0VZIEhhJw0KICAgICAgICBwcmludCAnICAgICAgICAgICBDb3B5IEthciBLYSBXaGF0c0FwcCBQYSBCaGFqIERlbmEnDQogICAgICAgIHByaW50ICcnDQogICAgICAgIHByaW50ICcnDQogICAgICAgIHByaW50ICcnDQogICAgICAgIHByaW50ICcgICAgIEFnYXIgQXAgTmEgU3Vic2NyaXB0aW9uIEthciBMZSBIYSBUbycNCiAgICAgICAgcmF3X2lucHV0KCcgICAgVGVybXV4IFNhIEV4aXQgS2FyIEthIFBoaXIgU2EgQ2FtbW9uZHMgTGFnaW8gJykNCiAgICAgICAgb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL3dhLm1lLzAzMTA1MTk0MDMyJykNCg0KDQpkZWYgbWFpbl9zeXN0ZW0oKToNCiAgICANCiAgICB0cnk6DQogICAgICAgIHRva2VuID0gb3BlbigndG9rZW4udHh0JywgJ3InKS5yZWFkKCkNCiAgICBleGNlcHQ6DQogICAgICAgIHBhc3MNCg0KICAgIA0KICAgIHRyeToNCiAgICAgICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWU/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICAgICAgcSA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgICAgICBtID0gcVsnbmFtZSddDQogICAgICAgIHByaW50ICcnDQogICAgZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KICAgICAgICBwcmludCBsb2dvDQogICAgICAgIHByaW50ICcnDQogICAgICAgIHByaW50ICdUcnVuIE9uIERhdGEgQW4gVGhlbiBcdCcNCiAgICAgICAgcHJpbnQgJycNCiAgICBleGNlcHQ6DQogICAgICAgIHByaW50ICdceDFiWzE7OTFtVG9rZW4gb24gQ2hla3Bpb250ICcNCiAgICAgICAgb3Muc3lzdGVtKCdybSAtcmYgdG9rZW4udHh0JykNCg0KICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgIHByaW50IGxvZ28NCiAgICBwcmludCAnJw0KICAgIHByaW50IDM5ICogJ34nDQogICAgcHJpbnQgJ1x4MWJbMTs5M21bMV0gICBQdWJsaWMgQ2xvbmluZyAgICAgIFx4MWJbMTs5Mm0oTG9naW4pJw0KICAgIHByaW50ICdceDFiWzE7OTFtWzJdICAgUmFuZG9tIENsb25pbmcgICAgIFx4MWJbMTs5Mm0gKE5vIExvZ2luKScNCiAgICBwcmludCAnXHgxYlsxOzkybVszXSAgIEZpbGUgQ2xvbmluZyAgICAgICBceDFiWzE7OTJtIChObyBMb2dpbiknDQogICAgcHJpbnQgJ1x4MWJbMTs5M21bNF0gICBGaWxlIE1ha2luZyBNZW51XHgxYlsxOzkybSAgICAoTG9naW4pJw0KICAgIHByaW50ICdceDFiWzE7OTRtWzVdICAgQ2hlY2sgU3Vic2NyaXB0aW9uICcNCiAgICBwcmludCAnXHgxYlsxOzk1bVs2XSAgIFVwZGF0ZSBUb29scycNCiAgICBwcmludCAnXHgxYlsxOzk2bVs3XSAgIEZvciBBbnkgSGVscCBNYXNzYWdlIFdoYXRzQXBwJw0KICAgIHByaW50IDQzICogJ34nDQogICAgcHJpbnQgJ1x4MWJbMTs5Mm1bKl1ceDFiWzE7OTVtIEZvciBOZWVkIEFueSBIZWxwIFR5cGUgNyBBbmQgXHgxYlsxOzkybVdoYXRzQXBwIE1lICAnDQogICAgcHJpbnQgNDMgKiAnficNCiAgICBtYWluX2lucHV0KCkNCg0KDQpkZWYgbWFpbl9pbnB1dCgpOg0KICAgIG14ID0gcmF3X2lucHV0KCdceDFiWzE7OTJtWypdIFNlbGVjdCA6XHgxYlsxOzkzbSAnKQ0KICAgIGlmIG14ID09ICcxJzoNCiAgICAgICAgcHJpbnQgJycNCiAgICAgICAgcHJpbnQgJ1x4MWJbMTs5NG0gQ2hla2luZyBTdWJzY3JpcHRpb24gLi4uLlx4MWJbMTs5Mm0nDQogICAgICAgIHRpbWUuc2xlZXAoMykNCiAgICAgICAgZmJfbWVudSgpDQogICAgZWxpZiBteCA9PSAnMic6DQogICAgICAgIHByaW50ICcnDQogICAgICAgIHByaW50ICdceDFiWzE7OTRtIENoZWtpbmcgU3Vic2NyaXB0aW9uIC4uLi5ceDFiWzE7OTdtJw0KICAgICAgICB0aW1lLnNsZWVwKDMpDQogICAgICAgIG51bWNsb25pbmcoKQ0KICAgIGVsaWYgbXggPT0gJzMnOg0KICAgICAgICBwcmludCAnJw0KICAgICAgICBwcmludCAnJw0KICAgICAgICBwcmludCAnJw0KICAgICAgICBwcmludCAnJw0KICAgICAgICBwcmludCAnICAgICAgICBbIEZpbGUgQ2xvbmluZyBdJw0KICAgICAgICBwcmludCAnJw0KICAgICAgICBwcmludCAnICAgIFsgQ2xvbmUgV2l0aCBBdXRvIDEgUGFzcyBTcGVlZCBdJw0KICAgICAgICBwcmludCAnJw0KICAgICAgICBwcmludCAnICAgIFsxXSBDbG9uaW5nIFdpdGggMSBQYXNzJw0KICAgICAgICBwcmludCAnICAgIFsyXSBDbG9uaW5nIFdpdGggQXV0byBQYXNzJw0KICAgICAgICBwcmludCAnICAgIFszXSBDbG9uaW5nIFdpdGggTmFtZSArIFBhc3MnDQogICAgICAgIHByaW50ICcgICAgWzBdIEJhY2snDQogICAgICAgIHByaW50ICcnDQogICAgICAgIGMgPSByYXdfaW5wdXQoJyAgIFsqXSBTZWxlY3QgOiAnKQ0KICAgICAgICBpZiBjID09ICcyJzoNCiAgICAgICAgICAgIGZpbGVhdXRvKCkNCiAgICAgICAgZWxpZiBjID09ICczJzoNCiAgICAgICAgICAgIG5fZl9wX3Bhc3MoKQ0KICAgICAgICBlbGlmIGMgPT0gJzEnOg0KICAgICAgICAgICAgY19mX3BfcGFzcygpDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICBtYWluX3N5c3RlbSgpDQogICAgZWxpZiBteCA9PSAnNCc6DQogICAgICAgIHByaW50ICcnDQogICAgICAgIHByaW50ICdceDFiWzE7OTRtIENoZWtpbmcgU3Vic2NyaXB0aW9uIC4uLi5ceDFiWzE7OTdtJw0KICAgICAgICB0aW1lLnNsZWVwKDMpDQogICAgICAgIGdyYXAoKQ0KICAgIGVsaWYgbXggPT0gJzUnOg0KICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICAgICAgcHJpbnQgbG9nbw0KICAgICAgICBwcmludCAnJw0KICAgICAgICBwcmludCAnJw0KICAgICAgICBwcmludCAnJw0KICAgICAgICBwcmludCAnJw0KICAgICAgICBwcmludCAnXHgxYlsxOzkybSAgICAgICAgQ29uZ3JhdHVsYXRpb25zIEJybyBZb3VyIFBybycNCiAgICAgICAgcHJpbnQgJ1x4MWJbMTs5Mm0gICAgICAgIE1lbWJlciBJbiBJbXRpYXogUGFpZCBDb21tYW5kcyAnDQogICAgICAgIHByaW50ICdceDFiWzE7OTFtICAgICAgICBFTkpPWSAgS1JPIEJISSBMT0dPICcNCiAgICAgICAgdGltZS5zbGVlcCgzLjUpDQogICAgICAgIG1haW5fc3lzdGVtKCkNCiAgICBlbGlmIG14ID09ICc2JzoNCiAgICAgICAgb3Muc3lzdGVtKCdybSAtcmYgUEFJRCcpDQogICAgICAgIG9zLnN5c3RlbSgnZ2l0IGNsb25lIGh0dHBzOi8vZ2l0aHViLmNvbS9BS0lORzExMC9QQUlEJykNCiAgICAgICAgb3Muc3lzdGVtKCdjcCAtZiBQQUlEL1BBSUQgXFwuJykNCiAgICAgICAgb3Muc3lzdGVtKCdybSAtcmYgUEFJRCcpDQogICAgICAgIG9zLnN5c3RlbSgnIGNkIFBBSUQnKQ0KICAgICAgICBvcy5zeXN0ZW0oJyBweXRob24yIEltdGlhei5weScpDQogICAgICAgIHRpbWUuc2xlZXAoNSkNCiAgICAgICAgeG94KCdceDFiWzkyOzFtXG4gVE9PTCBVUERBVEUgU1VDQ0VTU0ZVTCA6KVxuJykNCiAgICAgICAgdGltZS5zbGVlcCgyKQ0KICAgICAgICBtYWluX3N5c3RlbSgpDQogICAgZWxpZiBteCA9PSAnNyc6DQogICAgICAgIG9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly93YS5tZS8wMzEwNTE5NDAzMicpDQogICAgICAgIHRpbWUuc2xlZXAoMykNCiAgICAgICAgbWFpbl9zeXN0ZW0oKQ0KICAgIGVsc2U6DQogICAgICAgIHByaW50ICdpbnZpbGQgb3B0aW9uJw0KICAgICAgICB0aW1lLnNsZWVwKDIpDQogICAgICAgIG1haW5fc3lzdGVtKCkNCg0KDQpkZWYgbnVtY2xvbmluZygpOg0KICAgIGlmIGRlYyBpbiBzZXJ2ZXI6DQogICAgICAgIHBhc3MNCiAgICBub3RmKCkNCiAgICByYSA9IFtdDQogICAgY3BzID0gW10NCiAgICBva3MgPSBbXQ0KICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgIHByaW50IGxvZ28NCiAgICBwcmludCAnJw0KICAgIHByaW50ICcgICAgXHgxYlsxOzkxbVxuICAgIFsgUGFraXN0YW4gUmFuZG9tIE51bWJlciBDbG9uaW5nIF0nDQogICAgcHJpbnQgJycNCiAgICBwcmludCAnXHgxYlsxOzkybVxuICAgWypdIEVudGVyIEZpcnN0IDQgTGF0dGVyIE9mIEFueSBOZXR3b3JrIDogJw0KICAgIHByaW50ICdceDFiWzE7OTNtXG4gICAgIEV4YW1wbGUgMDMwMCAgMDM0NSAwMzIwIDAzMDMgJw0KICAgIHByaW50ICcnDQogICAgY29jID0gcmF3X2lucHV0KCdceDFiWzE7OTVtXG5DaG9pY2UgQ29kZSA6XHgxYlsxOzkzbSAnKQ0KICAgIA0KICAgIHRyeToNCiAgICAgICAgbGlzdCA9ICcudHh0Jw0KICAgICAgICBmb3IgbGkgaW4gb3BlbihsaXN0LCAncicpLnJlYWRsaW5lcygpOg0KICAgICAgICAgICAgcmEuYXBwZW5kKGxpLnN0cmlwKCkpDQogICAgZXhjZXB0IChLZXlFcnJvciwgSU9FcnJvcik6DQogICAgICAgIHByaW50ICdGaWxlIE1pc3NpbmcnDQogICAgICAgIHRpbWUuc2xlZXAoMikNCiAgICAgICAgbWFpbl9zeXN0ZW0oKQ0KDQogICAgcHJpbnQgJycNCiAgICBwcmludCAnXHgxYlsxOzkzbVxuWypdIFRvdGFsIElkcyA6ICcgKyBzdHIobGVuKHJhKSkNCiAgICBwcmludCAnJw0KICAgIG9zLnN5c3RlbSgnZWNobyAiIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSJ8IGxvbGNhdCcpDQogICAgcHJpbnQgJyAgQ1JBQ0tJTkcgU1RBUlQgUExFQVNFIFdBSVQgRk9SIElEUy4uICAgJw0KICAgIHByaW50ICdJRiBJRFMgTk9UIENPTU1JTkcgVVNFIChhaXJwbGFuZSkgRkxJR0hUIE1PRCcNCiAgICBvcy5zeXN0ZW0oJ2VjaG8gIiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0ifCBsb2xjYXQnKQ0KICAgIA0KICAgIGRlZiBtYWluKGFyZyk6DQogICAgICAgIHVzZXIgPSBhcmcNCiAgICAgICAgbGluZXMgPSByYW5kb20uY2hvaWNlKFsNCiAgICAgICAgICAgICdEYWx2aWsvMS42LjAgKExpbnV4OyBVOyBBbmRyb2lkIDQuNC4yOyBOWDU1IEJ1aWxkL0tPVDU1MDYpIFtGQkFOL0ZCNEE7RkJBVi8xMDYuMC4wLjI2LjY4O0ZCQlYvNDU5MDQxNjA7RkJETS97ZGVuc2l0eT0zLjAsd2lkdGg9MTA4MCxoZWlnaHQ9MTkyMH07RkJMQy9pdF9JVDtGQlJWLzQ1OTA0MTYwO0ZCQ1IvUG9zdGVNb2JpbGU7RkJNRi9hc3VzO0ZCQkQvYXN1cztGQlBOL2NvbS5mYWNlYm9vay5rYXRhbmE7RkJEVi9BU1VTX1owMDc7RkJTVi81LjA7RkJPUC8xO0ZCQ0EveDg2OmFybWVhYmktdjdhO10nLA0KICAgICAgICAgICAgJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMDsgTWkgOVQgUHJvIEJ1aWxkL1FLUTEuMTkwODI1LjAwMjsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84OC4wLjQzMjQuMTgxIE1vYmlsZSBTYWZhcmkvNTM3LjM2IFtGQkFOL0VNQTtGQkxDL2lkX0lEO0ZCQVYvMjM5LjAuMC4xMC4xMDk7XScsDQogICAgICAgICAgICAnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDExOyBTTS1NMzA3Rk4pIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS85Ni4wLjQ2NjQuNDUgTW9iaWxlIFNhZmFyaS81MzcuMzYnLA0KICAgICAgICAgICAgJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMDsgTWkgOVQgUHJvIEJ1aWxkL1FLUTEuMTkwODI1LjAwMjsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84OC4wLjQzMjQuMTgxIE1vYmlsZSBTYWZhcmkvNTM3LjM2W0ZCQU4vRU1BO0ZCTEMvaXRfSVQ7RkJBVi8yMzkuMC4wLjEwLjEwOTtdJ10pDQogICAgICAgIA0KICAgICAgICB0cnk6DQogICAgICAgICAgICBwYXNzMSA9IHVzZXINCiAgICAgICAgICAgIHJhbmEgPSByZXF1ZXN0cy5TZXNzaW9uKCkNCiAgICAgICAgICAgIHJhbmEuaGVhZGVycy51cGRhdGUoew0KICAgICAgICAgICAgICAgICdIb3N0JzogJ21iYXNpYy5mYWNlYm9vay5jb20nLA0KICAgICAgICAgICAgICAgICdjYWNoZS1jb250cm9sJzogJ21heC1hZ2U9MCcsDQogICAgICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsDQogICAgICAgICAgICAgICAgJ3VzZXItYWdlbnQnOiBsaW5lcywNCiAgICAgICAgICAgICAgICAnYWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgnLA0KICAgICAgICAgICAgICAgICdhY2NlcHQtZW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZScsDQogICAgICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiBzdHIocmFuZG9tLnJhbmRpbnQoMTAwLCAyMDApKSwNCiAgICAgICAgICAgICAgICAnYWNjZXB0LWxhbmd1YWdlJzogJ2lkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43JyB9KQ0KICAgICAgICAgICAgcCA9IHJhbmEuZ2V0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nKQ0KICAgICAgICAgICAgYiA9IHJhbmEucG9zdCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luLnBocCcsIGRhdGEgPSB7DQogICAgICAgICAgICAgICAgJ2VtYWlsJzogY29jICsgdXNlciwNCiAgICAgICAgICAgICAgICAncGFzcyc6IHBhc3MxLA0KICAgICAgICAgICAgICAgICdsb2dpbic6ICdzdWJtaXQnIH0pDQogICAgICAgICAgICBpZiAnY191c2VyJyBpbiByYW5hLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQogICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5Mm1bSU1USUFaLU9LXSAnICsgY29jICsgdXNlciArICcgfCAnICsgcGFzczENCiAgICAgICAgICAgICAgICBvayA9IG9wZW4oJ2ltdGlheiByYW5kb20tb2sudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgIG9rLndyaXRlKGNpZCArICcgfCAnICsgcGFzczEgKyAnXG4nKQ0KICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkNCiAgICAgICAgICAgICAgICBva3MuYXBwZW5kKGNpZCArIHBhc3MxKQ0KICAgICAgICAgICAgZWxpZiAnY2hlY2twb2ludCcgaW4gcmFuYS5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOg0KICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTFtW0lNVElBWi1DUF0gJyArIGNvYyArIHVzZXIgKyAnIHwgJyArIHBhc3MxDQogICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdpbXRpYXogcmFuZG9tLWNwLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICBjcC53cml0ZShjaWQgKyAnIHwgJyArIHBhc3MxICsgJ1xuJykNCiAgICAgICAgICAgICAgICBjcC5jbG9zZSgpDQogICAgICAgICAgICAgICAgY3BzLmFwcGVuZChjaWQgKyBwYXNzMSkNCiAgICAgICAgZXhjZXB0Og0KICAgICAgICAgICAgcGFzcw0KDQoNCiAgICBwID0gVGhyZWFkUG9vbCgzMCkNCiAgICBwLm1hcChtYWluLCByYSkNCiAgICBwcmludCAnXHgxYlsxOzk3bScNCiAgICBwcmludCA0MCAqICctJw0KICAgIHByaW50ICdbIV0gQ2xvbmluZyBDb21wbGV0ZSBCZWVuIENvbXBsZXRlZCAuLi4uLi4uLicNCiAgICBwcmludCA0MCAqICctJw0KICAgIHByaW50ICdbIV0gVG90YWwgT2sgSWRzIDogJyArIHN0cihsZW4oY3BzKSkNCiAgICBwcmludCAnWyFdIFRvdGFsIENwIElkcyA6ICcgKyBzdHIobGVuKG9rcykpDQogICAgcHJpbnQgNDAgKiAnLScNCiAgICBwcmludCAnJw0KICAgIHJhd19pbnB1dCgnIFByZXNzIEVudGVyIFRvIEJhY2sgJykNCiAgICBtYWluX3N5c3RlbSgpDQoNCg0KZGVmIGZiX21lbnUoKToNCiAgICBpZiBkZWMgaW4gc2VydmVyOg0KICAgICAgICBwYXNzDQogICAgbm90ZigpDQogICAgDQogICAgdHJ5Og0KICAgICAgICB0b2tlbiA9IG9wZW4oJ3Rva2VuLnR4dCcsICdyJykucmVhZCgpDQogICAgZXhjZXB0Og0KICAgICAgICAxDQogICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgICAgICBwcmludCBsb2dvDQogICAgICAgIHByaW50IDM5ICogJy0nDQogICAgICAgIHByaW50ICdceDFiWzE7OTJtXG5bMV0gTG9naW4gV2l0aCBUb2tlbicNCiAgICAgICAgcHJpbnQgJ1x4MWJbMTs5M21cblswXSBCYWNrJw0KICAgICAgICBwcmludCAzOSAqICctJw0KICAgICAgICBwcCA9IHJhd19pbnB1dCgnXHgxYlsxOzk0bVxuU2VsZWN0IDpceDFiWzE7OTFtICcpDQogICAgICAgIGlmIHBwID09ICcxJzoNCiAgICAgICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgICAgICAgICAgcHJpbnQgbG9nbw0KICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5MW1cblsqXSBFbnRlciBZb3VyIFRva2VuIEhlYXInDQogICAgICAgICAgICBwcmludCAnJw0KICAgICAgICAgICAgdG9rID0gcmF3X2lucHV0KCdceDFiWzE7OTJtXG5bKl1QQVNURSBUT0tFTiA6XHgxYlsxOzk3bSAnKQ0KICAgICAgICAgICAgaiA9IG9wZW4oJ3Rva2VuLnR4dCcsICd3JykNCiAgICAgICAgICAgIGoud3JpdGUodG9rKQ0KICAgICAgICAgICAgai5jbG9zZSgpDQogICAgICAgICAgICANCiAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZT9hY2Nlc3NfdG9rZW49JyArIHRvaykNCiAgICAgICAgICAgICAgICBxID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgICAgICAgICAgICAgbSA9IHFbJ25hbWUnXQ0KICAgICAgICAgICAgICAgIHByaW50ICcnDQogICAgICAgICAgICAgICAgcHJpbnQgJ1dFTENPTUUgOiAnICsgbQ0KICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoMikNCiAgICAgICAgICAgICAgICBmYl9tZW51KCkNCiAgICAgICAgICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCiAgICAgICAgICAgICAgICBwcmludCBsb2dvDQogICAgICAgICAgICAgICAgcHJpbnQgJycNCiAgICAgICAgICAgICAgICBwcmludCAnVHJ1biBPbiBEYXRhIEFuIFRoZW4gXHQnDQogICAgICAgICAgICAgICAgcHJpbnQgJycNCiAgICAgICAgICAgIGV4Y2VwdDoNCiAgICAgICAgICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICAgICAgICAgICAgICBwcmludCAnJw0KICAgICAgICAgICAgICAgIHByaW50ICcnDQogICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5MW0gICAgIFlvdXIgVG9rZW4gSXMgRXhwaXJlJw0KICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoMykNCiAgICAgICAgICAgICAgICBvcy5zeXN0ZW0oJ3JtIC1yZiB0b2tlbi50eHQnKQ0KICAgICAgICAgICAgICAgIG1haW5fc3lzdGVtKCkNCiAgICAgICAgICAgIA0KDQogICAgICAgIG1haW5fc3lzdGVtKCkNCg0KICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgIG9zLnN5c3RlbSgncm0gLXJmIGZpbGUudHh0JykNCiAgICBvcy5zeXN0ZW0oJ3JtIC1yZiBuZXdsaW5rcy50eHQnKQ0KICAgIHByaW50IGxvZ28NCiAgICBwcmludCAnJw0KICAgIHByaW50IDM5ICogJy0nDQogICAgcHJpbnQgJ1x4MWJbMTs5Mm1bMV0gUHVibGljIENsb25pbmcgTWV0aG9kICgxKScNCiAgICBwcmludCAnXHgxYlsxOzkybVsyXSBQdWJsaWMgQ2xvbmluZyBNZXRob2QgKDIpJw0KICAgIHByaW50ICdceDFiWzE7OTFtWzBdIEJhY2sgJw0KICAgIHByaW50IDM5ICogJy0nDQogICAgY3ogPSByYXdfaW5wdXQoJ1shXSBTZWxlY3QgOiAnKQ0KICAgIGlmIGN6ID09ICcxJzoNCiAgICAgICAgcHJpbnQgJycNCiAgICAgICAgcHJpbnQgJ1x4MWJbMTs5MW0gICAgICBbIFB1YmxpYyBDbG9uaW5nIE1ldGhvZCAoMSkgXScNCiAgICAgICAgcHJpbnQgJycNCiAgICAgICAgcHJpbnQgJyBbXHgxYlsxOzkzbSBjbG9uaW5nIHdpdGggcGFzcyBvciBuYW1lICsgcGFzcyBdJw0KICAgICAgICBwcmludCAnJw0KICAgICAgICBwcmludCAnXHgxYlsxOzkybVsxXSBDbG9uaW5nIHdpdGggcGFzc3dvcmQnDQogICAgICAgIHByaW50ICdceDFiWzE7OTJtWzJdIENsb25pbmcgd2l0aCBuYW1lICsgcGFzcycNCiAgICAgICAgcHJpbnQgJ1x4MWJbMTs5MW1bMF0gQmFjaycNCiAgICAgICAgcHJpbnQgJycNCiAgICAgICAgYyA9IHJhd19pbnB1dCgnWyFdIFNlbGVjdCA6ICcpDQogICAgICAgIGlmIGMgPT0gJzEnOg0KICAgICAgICAgICAgcF9wX3Bhc3MoKQ0KICAgICAgICBlbGlmIGMgPT0gJzInOg0KICAgICAgICAgICAgbl9wX3Bhc3MoKQ0KICAgICAgICBlbHNlOg0KICAgICAgICAgICAgZmJfbWVudSgpDQogICAgZWxpZiBjeiA9PSAnMic6DQogICAgICAgIHByaW50ICcnDQogICAgICAgIHByaW50ICdceDFiWzE7OTJtICAgICAgWyBQdWJsaWMgQ2xvbmluZyBNZXRob2QgKDIpIF0nDQogICAgICAgIHByaW50ICcnDQogICAgICAgIHByaW50ICdceDFiWzE7OTJtIFsgY2xvbmluZyB3aXRoIHBhc3Mgb3IgbmFtZSArIHBhc3MgXScNCiAgICAgICAgcHJpbnQgJycNCiAgICAgICAgcHJpbnQgJ1x4MWJbMTs5Mm1bMV0gQ2xvbmluZyBXaXRoIENob2ljZSBQYXNzd29yZCcNCiAgICAgICAgcHJpbnQgJ1x4MWJbMTs5Mm1bMl0gQ2xvbmluZyBXaXRoIE5hbWUgKyBQYXNzJw0KICAgICAgICBwcmludCAnXHgxYlsxOzkybVszXSBDbG9uaW5nIFdpdGggQXV0byBQYXNzJw0KICAgICAgICBwcmludCAnXHgxYlsxOzkxbVswXSBCYWNrJw0KICAgICAgICBwcmludCAnJw0KICAgICAgICB2diA9IHJhd19pbnB1dCgnXHgxYlsxOzk1bVshXSBTZWxlY3QgOlx4MWJbMTs5Mm0gJykNCiAgICAgICAgaWYgdnYgPT0gJzEnOg0KICAgICAgICAgICAgeG9rcCgpDQogICAgICAgIGVsaWYgdnYgPT0gJzInOg0KICAgICAgICAgICAgeG9rbnAoKQ0KICAgICAgICBlbGlmIHZ2ID09ICczJzoNCiAgICAgICAgICAgIHhva3BhdXRvKCkNCiAgICAgICAgZWxzZToNCiAgICAgICAgICAgIGZiX21lbnUoKQ0KICAgIGVsaWYgY3ogPT0gJ3YnOg0KICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICAgICAgcHJpbnQgbG9nbw0KICAgICAgICBwcmludCAnJw0KICAgICAgICBwcmludCAnJw0KICAgICAgICBwcmludCAnXHgxYlsxOzkybSAgICAgWyBGaWxlIE1ha2luZyBdJw0KICAgICAgICBwcmludCAnJw0KICAgICAgICBwcmludCAnXHgxYlsxOzkxbSAgWyBNYXhpbXVtIExpbWl0IDEwIElEcyBdJw0KICAgICAgICBwcmludCAnJw0KICAgICAgICBjID0gcmF3X2lucHV0KCdceDFiWzE7OTNtICAgICAgWypdIEhvdyBNYW55IExpbmtzIERvIFlvdSBXYW50IFRvIER1bXAgOiAnKQ0KICAgICAgICBpZiBjID09ICcxJzoNCiAgICAgICAgICAgIGV4dDEoKQ0KICAgICAgICBlbGlmIGMgPT0gJzInOg0KICAgICAgICAgICAgZXh0MigpDQogICAgICAgIGVsaWYgYyA9PSAnMyc6DQogICAgICAgICAgICBleHQzKCkNCiAgICAgICAgZWxpZiBjID09ICc0JzoNCiAgICAgICAgICAgIGV4dDQoKQ0KICAgICAgICBlbGlmIGMgPT0gJzUnOg0KICAgICAgICAgICAgZXh0NSgpDQogICAgICAgIGVsaWYgYyA9PSAnNic6DQogICAgICAgICAgICBleHQ2KCkNCiAgICAgICAgZWxpZiBjID09ICc3JzoNCiAgICAgICAgICAgIGV4dDcoKQ0KICAgICAgICBlbGlmIGMgPT0gJzgnOg0KICAgICAgICAgICAgZXh0OCgpDQogICAgICAgIGVsaWYgYyA9PSAnOSc6DQogICAgICAgICAgICBleHQ5KCkNCiAgICAgICAgZWxpZiBjID09ICcxMCc6DQogICAgICAgICAgICBleHQxMCgpDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICBmYl9tZW51KCkNCiAgICBlbGlmIGN6ID09ICc0JzoNCiAgICAgICAgbWluZUV4dCgpDQogICAgZWxzZToNCiAgICAgICAgbWFpbl9zeXN0ZW0oKQ0KDQoNCmRlZiBtaW5lRXh0KCk6DQogICAgaG9rID0gJ2pvay50eHQnDQogICAgY291bnQgPSBbXQ0KICAgIHJhbmEgPSBbXQ0KICAgIA0KICAgIHRyeToNCiAgICAgICAgdG9rZW4gPSBvcGVuKCd0b2tlbi50eHQnLCAncicpLnJlYWQoKQ0KICAgIGV4Y2VwdDoNCiAgICAgICAgZmJfbWVudSgpDQoNCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICBwcmludCBsb2dvDQogICAgcHJpbnQgJycNCiAgICBpaWlkID0gcmF3X2lucHV0KCdbPV0gRW50ZXIgSUQgOiAnKQ0KICAgIHJycCA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGlpaWQgKyAnP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgcSA9IGpzb24ubG9hZHMocnJwLnRleHQpDQogICAgbmlkID0gcVsnbmFtZSddDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGlpaWQgKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2xvb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgcHJpbnQgJycNCiAgICBwcmludCBzbSArICdbPV0gRXh0cmFjdGluZyBGcm9tIDogJyArIG5pZCArICcgPiBceDFiWzE7OTFtRnJpZW5kcycNCiAgICBwcmludCAnJw0KICAgIHRpbWUuc2xlZXAoMikNCiAgICBwcmludCBndSArICdbPV0gR3JhcGluZyBVUkxzIC4uLi4uLicgKyB3DQogICAgcHJpbnQgJycNCiAgICB0aW1lLnNsZWVwKDIpDQogICAgcHJpbnQgZyArICdbPV0gR3JhcGluZyBDb21wbHRlIFByb2Nlc3MgU3RhcnQgKicgKyB3DQogICAgcHJpbnQgJycNCiAgICBvcy5zeXN0ZW0oJyBjYXQgbG9vay50eHQgfCBncmVwICIxMDAwNzciID4+IGtrLnR4dCcpDQogICAgb3Muc3lzdGVtKCcgY2F0IGxvb2sudHh0IHwgZ3JlcCAiMTAwMDc4IiA+PiBray50eHQnKQ0KICAgIG9zLnN5c3RlbSgncm0gLXJmIGxvb2sudHh0JykNCiAgICBmaWxlID0gb3Blbigna2sudHh0JykNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbPV0gRXh0cmFjdGluZyBGcm9tIElNVElBWiA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWz1dIEV4dHJhY3RpbmcgRnJvbSBJTVRJQVogOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1s9XSBFeHRyYWN0aW5nIEZyb20gSU1USUFaIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbPV0gRXh0cmFjdGluZyBGcm9tIElNVElBWiA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWz1dIEV4dHJhY3RpbmcgRnJvbSBJTVRJQVogOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1s9XSBFeHRyYWN0aW5nIEZyb20gSU1USUFaIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbPV0gRXh0cmFjdGluZyBGcm9tIElNVElBWiA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWz1dIEV4dHJhY3RpbmcgRnJvbSBJTVRJQVogOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1s9XSBFeHRyYWN0aW5nIEZyb20gSU1USUFaIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbPV0gRXh0cmFjdGluZyBGcm9tIElNVElBWiA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWz1dIEV4dHJhY3RpbmcgRnJvbSBJTVRJQVogOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1s9XSBFeHRyYWN0aW5nIEZyb20gSU1USUFaIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbPV0gRXh0cmFjdGluZyBGcm9tIElNVElBWiA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWz1dIEV4dHJhY3RpbmcgRnJvbSBJTVRJQVogOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1s9XSBFeHRyYWN0aW5nIEZyb20gSU1USUFaIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbPV0gRXh0cmFjdGluZyBGcm9tIElNVElBWiA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWz1dIEV4dHJhY3RpbmcgRnJvbSBJTVRJQVogOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1s9XSBFeHRyYWN0aW5nIEZyb20gSU1USUFaIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbPV0gRXh0cmFjdGluZyBGcm9tIElNVElBWiA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWz1dIEV4dHJhY3RpbmcgRnJvbSBJTVRJQVogOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIHByaW50ICcnDQogICAgcHJpbnQgJycNCiAgICBwcmludCBzbSArICdbPV0gVG90YWwgRXh0cmFjdCBpZHMgOiAnICsgc3RyKGxlbihjb3VudCkpICsgdw0KICAgIHByaW50ICcnDQogICAgbXZ0ID0gcmF3X2lucHV0KCdbPV0gRW50ZXIgUGF0aCBUbyBTYXZlIEZpbGUgOiAnKQ0KICAgIHByaW50ICdbPV0gWW91ciBGaWxlIFNhdmUgaW4gOiAnICsgbXZ0DQogICAgc2h1dGlsLm1vdmUoaG9rLCBtdnQpDQogICAgb3Muc3lzdGVtKCdybSAtcmYgam9rLnR4dCcpDQogICAgcmF3X2lucHV0KCdbPV0gUHJlc3MgRW50ZXIgVG8gQmFjaycpDQogICAgZmJfbWVudSgpDQoNCg0KZGVmIHhva3BhdXRvKCk6DQogICAgb3Muc3lzdGVtKCdybSAtcmYga2sudHh0JykNCiAgICBob2sgPSAnam9rLnR4dCcNCiAgICBjb3VudCA9IFtdDQogICAgcmFuYSA9IFtdDQogICAgDQogICAgdHJ5Og0KICAgICAgICB0b2tlbiA9IG9wZW4oJ3Rva2VuLnR4dCcsICdyJykucmVhZCgpDQogICAgZXhjZXB0Og0KICAgICAgICBmYl9tZW51KCkNCg0KICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgIHByaW50IGxvZ28NCiAgICBwcmludCAnJw0KICAgIGlpaWQgPSByYXdfaW5wdXQoJ1s9XSBFbnRlciBJRCA6ICcpDQogICAgcnJwID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgaWlpZCArICc/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICBxID0ganNvbi5sb2FkcyhycnAudGV4dCkNCiAgICBuaWQgPSBxWyduYW1lJ10NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgaWlpZCArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3BlbignbG9vay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBwcmludCAnJw0KICAgIHByaW50IHNtICsgJ1s9XSBUcmFuc2ZlciBGcm9tIDogJyArIG5pZCArICcgPiBceDFiWzE7OTFtRnJpZW5kcycNCiAgICBwcmludCAnJw0KICAgIHRpbWUuc2xlZXAoMikNCiAgICBwcmludCBnICsgJ1s9XSBUcmFuc2ZlciBDb21wbHRlIFByb2Nlc3MgU3RhcnQgKicgKyB3DQogICAgcHJpbnQgJycNCiAgICBvcy5zeXN0ZW0oJyBjYXQgbG9vay50eHQgfCBncmVwICIxMDAwNzciID4+IGtrLnR4dCcpDQogICAgb3Muc3lzdGVtKCcgY2F0IGxvb2sudHh0IHwgZ3JlcCAiMTAwMDc4IiA+PiBray50eHQnKQ0KICAgIG9zLnN5c3RlbSgncm0gLXJmIGxvb2sudHh0JykNCiAgICBmaWxlID0gb3Blbigna2sudHh0JykNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbPV0gV2UgYXJlIGdyYXBpbmcgbGlua3MgZm9yIG9rIGlkcyA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWz1dIFdlIGFyZSBncmFwaW5nIGxpbmtzIGZvciBvayBpZHMgOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1s9XSBXZSBhcmUgZ3JhcGluZyBsaW5rcyBmb3Igb2sgaWRzIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbPV0gV2UgYXJlIGdyYXBpbmcgbGlua3MgZm9yIG9rIGlkcyA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWz1dIFdlIGFyZSBncmFwaW5nIGxpbmtzIGZvciBvayBpZHMgOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1s9XSBXZSBhcmUgZ3JhcGluZyBsaW5rcyBmb3Igb2sgaWRzIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbPV0gV2UgYXJlIGdyYXBpbmcgbGlua3MgZm9yIG9rIGlkcyA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWz1dIFdlIGFyZSBncmFwaW5nIGxpbmtzIGZvciBvayBpZHMgOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1s9XSBXZSBhcmUgZ3JhcGluZyBsaW5rcyBmb3Igb2sgaWRzIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbPV0gV2UgYXJlIGdyYXBpbmcgbGlua3MgZm9yIG9rIGlkcyA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWz1dIFdlIGFyZSBncmFwaW5nIGxpbmtzIGZvciBvayBpZHMgOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1s9XSBXZSBhcmUgZ3JhcGluZyBsaW5rcyBmb3Igb2sgaWRzIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbPV0gV2UgYXJlIGdyYXBpbmcgbGlua3MgZm9yIG9rIGlkcyA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWz1dIFdlIGFyZSBncmFwaW5nIGxpbmtzIGZvciBvayBpZHMgOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1s9XSBXZSBhcmUgZ3JhcGluZyBsaW5rcyBmb3Igb2sgaWRzIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbPV0gV2UgYXJlIGdyYXBpbmcgbGlua3MgZm9yIG9rIGlkcyA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWz1dIFdlIGFyZSBncmFwaW5nIGxpbmtzIGZvciBvayBpZHMgOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1s9XSBXZSBhcmUgZ3JhcGluZyBsaW5rcyBmb3Igb2sgaWRzIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbPV0gV2UgYXJlIGdyYXBpbmcgbGlua3MgZm9yIG9rIGlkcyA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWz1dIFdlIGFyZSBncmFwaW5nIGxpbmtzIGZvciBvayBpZHMgOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG9zLnN5c3RlbSgncm0gLXJmIG5ld2xpbmtzLnR4dCcpDQogICAgb3Muc3lzdGVtKCdjYXQgam9rLnR4dCB8IGdyZXAgJyArIGwxICsgJyA+PiBuZXdsaW5rcy50eHQnKQ0KICAgIG9zLnN5c3RlbSgnY2F0IGpvay50eHQgfCBncmVwICcgKyBsMiArICcgPj4gbmV3bGlua3MudHh0JykNCiAgICBvcy5zeXN0ZW0oJ3JtIC1yZiBray50eHQnKQ0KICAgIG9zLnN5c3RlbSgncm0gLXJmIGpvay50eHQnKQ0KICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgIHByaW50IGxvZ28NCiAgICBwcmludCAnJw0KICAgIA0KICAgIHRyeToNCiAgICAgICAgZm9yIGxpbmUgaW4gb3BlbignbmV3bGlua3MudHh0JywgJ3InKS5yZWFkbGluZXMoKToNCiAgICAgICAgICAgIGlkeC5hcHBlbmQobGluZS5zdHJpcCgpKQ0KICAgIGV4Y2VwdDoNCiAgICAgICAgZmJfbWVudSgpDQoNCiAgICBwcmludCAnWyFdIHRvdGFsIGlkcyA6ICcgKyBzdHIobGVuKGlkeCkpDQogICAgb3Muc3lzdGVtKCdlY2hvICIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0ifCBsb2xjYXQnKQ0KICAgIHByaW50ICcgICAgQ3JhY2tpbmcgU3RhcnQgUGxlYXNlIFdhaXQgLi4nDQogICAgcHJpbnQgJyAgIFVzZSBGbGlnaHQgTW9kIEZvciBTcGVlZCBVcCcNCiAgICBvcy5zeXN0ZW0oJ2VjaG8gIiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSJ8IGxvbGNhdCcpDQogICAgDQogICAgZGVmIG1haW4oYXJnKToNCiAgICAgICAgdXNlciA9IGFyZw0KICAgICAgICAodWlkLCBuYW1lKSA9IHVzZXIuc3BsaXQoJ3wnKQ0KICAgICAgICBuYW1lID0gbmFtZS5sb3dlcigpDQogICAgICAgIGZpcnN0ID0gbmFtZS5yc3BsaXQoJyAnKVswXQ0KICAgICAgICANCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgbGFzdCA9IG5hbWUucnNwbGl0KCcgJylbMV0NCiAgICAgICAgZXhjZXB0Og0KICAgICAgICAgICAgcGFzcw0KDQogICAgICAgIG15YWdlbnRzID0gcmFuZG9tLmNob2ljZShbDQogICAgICAgICAgICAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQyLjAuMjMxMS4xNTIgU2FmYXJpLzUzNy4zNicsDQogICAgICAgICAgICAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4zOyBXT1c2NDsgVHJpZGVudC83LjA7IFRvdWNoOyBUTkpCOyBydjoxMS4wKSBsaWtlIEdlY2tvJywNCiAgICAgICAgICAgICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA2LjE7IFdPVzY0OyBUcmlkZW50LzcuMDsgTlAwNjsgcnY6MTEuMCkgbGlrZSBHZWNrbycsDQogICAgICAgICAgICAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4zOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNDUuMC4yNDU0Ljg1IFNhZmFyaS81MzcuMzYnLA0KICAgICAgICAgICAgJ01vemlsbGEvNS4wIChYMTE7IFVidW50dTsgTGludXggaTY4NjsgcnY6NDAuMCkgR2Vja28vMjAxMDAxMDEgRmlyZWZveC80MC4wJywNCiAgICAgICAgICAgICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA2LjE7IFdPVzY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNDQuMC4yNDAzLjE1NSBTYWZhcmkvNTM3LjM2IE9QUi8zMS4wLjE4ODkuMTc0JywNCiAgICAgICAgICAgICdNb3ppbGxhLzUuMCAoTWFjaW50b3NoOyBJbnRlbCBNYWMgT1MgWCAxMF8xMF8yKSBBcHBsZVdlYktpdC82MDAuNC44IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi84LjAuMyBTYWZhcmkvNjAwLjQuOCcsDQogICAgICAgICAgICAnTW96aWxsYS81LjAgKGlQYWQ7IENQVSBPUyA3XzBfNiBsaWtlIE1hYyBPUyBYKSBBcHBsZVdlYktpdC81MzcuNTEuMSAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNy4wIE1vYmlsZS8xMUI2NTEgU2FmYXJpLzk1MzcuNTMnLA0KICAgICAgICAgICAgJ01vemlsbGEvNS4wIChYMTE7IExpbnV4IHg4Nl82NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQ1LjAuMjQ1NC44NSBTYWZhcmkvNTM3LjM2JywNCiAgICAgICAgICAgICdNb3ppbGxhLzUuMCAoTWFjaW50b3NoOyBJbnRlbCBNYWMgT1MgWCAxMF85XzUpIEFwcGxlV2ViS2l0LzYwMC4zLjE4IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi83LjEuMyBTYWZhcmkvNTM3Ljg1LjEyJ10pDQogICAgICAgIA0KICAgICAgICB0cnk6DQogICAgICAgICAgICBwYXNzMSA9IG5hbWUNCiAgICAgICAgICAgIHJhbmEgPSByZXF1ZXN0cy5TZXNzaW9uKCkNCiAgICAgICAgICAgIHJhbmEuaGVhZGVycy51cGRhdGUoew0KICAgICAgICAgICAgICAgICdIb3N0JzogJ21iYXNpYy5mYWNlYm9vay5jb20nLA0KICAgICAgICAgICAgICAgICdjYWNoZS1jb250cm9sJzogJ21heC1hZ2U9MCcsDQogICAgICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsDQogICAgICAgICAgICAgICAgJ3VzZXItYWdlbnQnOiBteWFnZW50cywNCiAgICAgICAgICAgICAgICAnYWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgnLA0KICAgICAgICAgICAgICAgICdhY2NlcHQtZW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZScsDQogICAgICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiBzdHIocmFuZG9tLnJhbmRpbnQoMTAwLCAyMDApKSwNCiAgICAgICAgICAgICAgICAnYWNjZXB0LWxhbmd1YWdlJzogJ2lkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43JyB9KQ0KICAgICAgICAgICAgcCA9IHJhbmEuZ2V0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nKQ0KICAgICAgICAgICAgYiA9IHJhbmEucG9zdCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luLnBocCcsIGRhdGEgPSB7DQogICAgICAgICAgICAgICAgJ2VtYWlsJzogdWlkLA0KICAgICAgICAgICAgICAgICdwYXNzJzogcGFzczEsDQogICAgICAgICAgICAgICAgJ2xvZ2luJzogJ3N1Ym1pdCcgfSkNCiAgICAgICAgICAgIGlmICdjX3VzZXInIGluIHJhbmEuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCiAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkybVtJTVRJQVotT0tdICcgKyB1aWQgKyAnIHwgJyArIHBhc3MxDQogICAgICAgICAgICAgICAgb2sgPSBvcGVuKCdJTVRJQVotb2sudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgIG9rLndyaXRlKHVpZCArICcgfCAnICsgcGFzczEgKyAnXG4nKQ0KICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkNCiAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVpZCArIHBhc3MxKQ0KICAgICAgICAgICAgZWxpZiAnY2hlY2twb2ludCcgaW4gcmFuYS5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOg0KICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTFtW0lNVElBWi1DUF0gJyArIHVpZCArICcgfCAnICsgcGFzczENCiAgICAgICAgICAgICAgICBjcCA9IG9wZW4oJ0lNVElBWi1jcC50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgY3Aud3JpdGUodWlkICsgJyB8ICcgKyBwYXNzMSArICdcbicpDQogICAgICAgICAgICAgICAgY3AuY2xvc2UoKQ0KICAgICAgICAgICAgICAgIGNwcy5hcHBlbmQodWlkICsgcGFzczEpDQogICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgIHBhc3MyID0gZmlyc3QgKyAnMTIzJw0KICAgICAgICAgICAgICAgIHJhbmEgPSByZXF1ZXN0cy5TZXNzaW9uKCkNCiAgICAgICAgICAgICAgICByYW5hLmhlYWRlcnMudXBkYXRlKHsNCiAgICAgICAgICAgICAgICAgICAgJ0hvc3QnOiAnbWJhc2ljLmZhY2Vib29rLmNvbScsDQogICAgICAgICAgICAgICAgICAgICdjYWNoZS1jb250cm9sJzogJ21heC1hZ2U9MCcsDQogICAgICAgICAgICAgICAgICAgICd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogJzEnLA0KICAgICAgICAgICAgICAgICAgICAndXNlci1hZ2VudCc6IG15YWdlbnRzLA0KICAgICAgICAgICAgICAgICAgICAnYWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgnLA0KICAgICAgICAgICAgICAgICAgICAnYWNjZXB0LWVuY29kaW5nJzogJ2d6aXAsIGRlZmxhdGUnLA0KICAgICAgICAgICAgICAgICAgICAndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6IHN0cihyYW5kb20ucmFuZGludCgxMDAsIDIwMCkpLA0KICAgICAgICAgICAgICAgICAgICAnYWNjZXB0LWxhbmd1YWdlJzogJ2lkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43JyB9KQ0KICAgICAgICAgICAgICAgIHAgPSByYW5hLmdldCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tJykNCiAgICAgICAgICAgICAgICBiID0gcmFuYS5wb3N0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4ucGhwJywgZGF0YSA9IHsNCiAgICAgICAgICAgICAgICAgICAgJ2VtYWlsJzogdWlkLA0KICAgICAgICAgICAgICAgICAgICAncGFzcyc6IHBhc3MyLA0KICAgICAgICAgICAgICAgICAgICAnbG9naW4nOiAnc3VibWl0JyB9KQ0KICAgICAgICAgICAgICAgIGlmICdjX3VzZXInIGluIHJhbmEuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5Mm1bSU1USUFaLU9LXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzMg0KICAgICAgICAgICAgICAgICAgICBvayA9IG9wZW4oJ0lNVElBWi1vay50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgIG9rLndyaXRlKHVpZCArICcgfCAnICsgcGFzczIgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICBvay5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodWlkICsgcGFzczIpDQogICAgICAgICAgICAgICAgZWxpZiAnY2hlY2twb2ludCcgaW4gcmFuYS5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOg0KICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkxbVtJTVRJQVotQ1BdICcgKyB1aWQgKyAnIHwgJyArIHBhc3MyDQogICAgICAgICAgICAgICAgICAgIGNwID0gb3BlbignSU1USUFaLWNwLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgY3Aud3JpdGUodWlkICsgJyB8ICcgKyBwYXNzMiArICdcbicpDQogICAgICAgICAgICAgICAgICAgIGNwLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgY3BzLmFwcGVuZCh1aWQgKyBwYXNzMikNCiAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICBwYXNzMyA9IGZpcnN0ICsgJzEyJw0KICAgICAgICAgICAgICAgICAgICByYW5hID0gcmVxdWVzdHMuU2Vzc2lvbigpDQogICAgICAgICAgICAgICAgICAgIHJhbmEuaGVhZGVycy51cGRhdGUoew0KICAgICAgICAgICAgICAgICAgICAgICAgJ0hvc3QnOiAnbWJhc2ljLmZhY2Vib29rLmNvbScsDQogICAgICAgICAgICAgICAgICAgICAgICAnY2FjaGUtY29udHJvbCc6ICdtYXgtYWdlPTAnLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsDQogICAgICAgICAgICAgICAgICAgICAgICAndXNlci1hZ2VudCc6IG15YWdlbnRzLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44JywNCiAgICAgICAgICAgICAgICAgICAgICAgICdhY2NlcHQtZW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZScsDQogICAgICAgICAgICAgICAgICAgICAgICAndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6IHN0cihyYW5kb20ucmFuZGludCgxMDAsIDIwMCkpLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdC1sYW5ndWFnZSc6ICdpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNycgfSkNCiAgICAgICAgICAgICAgICAgICAgcCA9IHJhbmEuZ2V0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nKQ0KICAgICAgICAgICAgICAgICAgICBiID0gcmFuYS5wb3N0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4ucGhwJywgZGF0YSA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICdlbWFpbCc6IHVpZCwNCiAgICAgICAgICAgICAgICAgICAgICAgICdwYXNzJzogcGFzczMsDQogICAgICAgICAgICAgICAgICAgICAgICAnbG9naW4nOiAnc3VibWl0JyB9KQ0KICAgICAgICAgICAgICAgICAgICBpZiAnY191c2VyJyBpbiByYW5hLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkybVtJTVRJQVotT0tdICcgKyB1aWQgKyAnIHwgJyArIHBhc3MzDQogICAgICAgICAgICAgICAgICAgICAgICBvayA9IG9wZW4oJ0lNVElBWi1vay50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICBvay53cml0ZSh1aWQgKyAnIHwgJyArIHBhc3MzICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodWlkICsgcGFzczMpDQogICAgICAgICAgICAgICAgICAgIGVsaWYgJ2NoZWNrcG9pbnQnIGluIHJhbmEuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTFtW0lNVElBWi1DUF0gJyArIHVpZCArICcgfCAnICsgcGFzczMNCiAgICAgICAgICAgICAgICAgICAgICAgIGNwID0gb3BlbignSU1USUFaLWNwLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgIGNwLndyaXRlKHVpZCArICcgfCAnICsgcGFzczMgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgY3AuY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgY3BzLmFwcGVuZCh1aWQgKyBwYXNzMykNCiAgICAgICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgICAgIHBhc3M0ID0gZmlyc3QgKyAnMTIzNDUnDQogICAgICAgICAgICAgICAgICAgICAgICByYW5hID0gcmVxdWVzdHMuU2Vzc2lvbigpDQogICAgICAgICAgICAgICAgICAgICAgICByYW5hLmhlYWRlcnMudXBkYXRlKHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnSG9zdCc6ICdtYmFzaWMuZmFjZWJvb2suY29tJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY2FjaGUtY29udHJvbCc6ICdtYXgtYWdlPTAnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogJzEnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICd1c2VyLWFnZW50JzogbXlhZ2VudHMsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44JywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYWNjZXB0LWVuY29kaW5nJzogJ2d6aXAsIGRlZmxhdGUnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogc3RyKHJhbmRvbS5yYW5kaW50KDEwMCwgMjAwKSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdC1sYW5ndWFnZSc6ICdpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNycgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHAgPSByYW5hLmdldCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tJykNCiAgICAgICAgICAgICAgICAgICAgICAgIGIgPSByYW5hLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi5waHAnLCBkYXRhID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdlbWFpbCc6IHVpZCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAncGFzcyc6IHBhc3M0LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdsb2dpbic6ICdzdWJtaXQnIH0pDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAnY191c2VyJyBpbiByYW5hLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5Mm1bSU1USUFaLU9LXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzNA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rID0gb3BlbignSU1USUFaLW9rLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvay53cml0ZSh1aWQgKyAnIHwgJyArIHBhc3M0ICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvay5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh1aWQgKyBwYXNzNCkNCiAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ2NoZWNrcG9pbnQnIGluIHJhbmEuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkxbVtJTVRJQVotQ1BdICcgKyB1aWQgKyAnIHwgJyArIHBhc3M0DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdJTVRJQVotY3AudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwLndyaXRlKHVpZCArICcgfCAnICsgcGFzczQgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHVpZCArIHBhc3M0KQ0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzNSA9IGxhc3QgKyAnNzg2Jw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmEgPSByZXF1ZXN0cy5TZXNzaW9uKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5hLmhlYWRlcnMudXBkYXRlKHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0hvc3QnOiAnbWJhc2ljLmZhY2Vib29rLmNvbScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjYWNoZS1jb250cm9sJzogJ21heC1hZ2U9MCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogJzEnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndXNlci1hZ2VudCc6IG15YWdlbnRzLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYWNjZXB0LWVuY29kaW5nJzogJ2d6aXAsIGRlZmxhdGUnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6IHN0cihyYW5kb20ucmFuZGludCgxMDAsIDIwMCkpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYWNjZXB0LWxhbmd1YWdlJzogJ2lkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43JyB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAgPSByYW5hLmdldCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiID0gcmFuYS5wb3N0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4ucGhwJywgZGF0YSA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2VtYWlsJzogdWlkLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncGFzcyc6IHBhc3M1LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbG9naW4nOiAnc3VibWl0JyB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICdjX3VzZXInIGluIHJhbmEuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5Mm1bSU1USUFaLU9LXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzNQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvayA9IG9wZW4oJ0lNVElBWi1vay50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rLndyaXRlKHVpZCArICcgfCAnICsgcGFzczUgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvay5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodWlkICsgcGFzczUpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnY2hlY2twb2ludCcgaW4gcmFuYS5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkxbVtJTVRJQVotQ1BdICcgKyB1aWQgKyAnIHwgJyArIHBhc3M1DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwID0gb3BlbignSU1USUFaLWNwLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Aud3JpdGUodWlkICsgJyB8ICcgKyBwYXNzNSArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3BzLmFwcGVuZCh1aWQgKyBwYXNzNSkNCiAgICAgICAgZXhjZXB0Og0KICAgICAgICAgICAgcGFzcw0KICAgICAgICANCg0KDQogICAgcCA9IFRocmVhZFBvb2woMzApDQogICAgcC5tYXAobWFpbiwgaWR4KQ0KICAgIHByaW50ICdceDFiWzE7OTdtJw0KICAgIHByaW50IDM5ICogJy0nDQogICAgcHJpbnQgJ1shXSBjbG9uaW5nIGNvbXBsZXRlIHJlc3VsdCAuLi4uLi4uLicNCiAgICBwcmludCAzOSAqICctJw0KICAgIHByaW50ICdbIV0gdG90YWwgb2sgaWRzIDogJyArIHN0cihsZW4ob2tzKSkNCiAgICBwcmludCAnWyFdIHRvdGFsIGNwIGlkcyA6ICcgKyBzdHIobGVuKGNwcykpDQogICAgcHJpbnQgMzkgKiAnLScNCiAgICBwcmludCAnJw0KICAgIHJhd19pbnB1dCgnIFByZXNzIGVudGVyIHRvIGJhY2sgJykNCiAgICBmYl9tZW51KCkNCg0KDQpkZWYgeG9rcCgpOg0KICAgIGhvayA9ICdqb2sudHh0Jw0KICAgIGNvdW50ID0gW10NCiAgICByYW5hID0gW10NCiAgICANCiAgICB0cnk6DQogICAgICAgIHRva2VuID0gb3BlbigndG9rZW4udHh0JywgJ3InKS5yZWFkKCkNCiAgICBleGNlcHQ6DQogICAgICAgIGZiX21lbnUoKQ0KDQogICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgcHJpbnQgbG9nbw0KICAgIHByaW50ICcnDQogICAgaWlpZCA9IHJhd19pbnB1dCgnWzFdIEVudGVyIElEIDogJykNCiAgICBwcmludCAnJw0KICAgIHBzMSA9IHJhd19pbnB1dCgnWzFdIFBhc3N3b3JkIDogJykNCiAgICBwczIgPSByYXdfaW5wdXQoJ1syXSBQYXNzd29yZCA6ICcpDQogICAgcHMzID0gcmF3X2lucHV0KCdbM10gUGFzc3dvcmQgOiAnKQ0KICAgIHBzNCA9IHJhd19pbnB1dCgnWzRdIFBhc3N3b3JkIDogJykNCiAgICBwcmludCAnJw0KICAgIHJycCA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGlpaWQgKyAnP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgcSA9IGpzb24ubG9hZHMocnJwLnRleHQpDQogICAgbmlkID0gcVsnbmFtZSddDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGlpaWQgKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2xvb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgcHJpbnQgJycNCiAgICBwcmludCBzbSArICdbPV0gVHJhbnNmZXIgRnJvbSA6ICcgKyBuaWQgKyAnID4gXHgxYlsxOzkxbUZyaWVuZHMnDQogICAgcHJpbnQgJycNCiAgICB0aW1lLnNsZWVwKDIpDQogICAgcHJpbnQgZyArICdbPV0gVHJhbnNmZXIgQ29tcGx0ZSBQcm9jZXNzIFN0YXJ0IConICsgdw0KICAgIHByaW50ICcnDQogICAgb3Muc3lzdGVtKCcgY2F0IGxvb2sudHh0IHwgZ3JlcCAiMTAwMDc3IiA+PiBray50eHQnKQ0KICAgIG9zLnN5c3RlbSgnIGNhdCBsb29rLnR4dCB8IGdyZXAgIjEwMDA3OCIgPj4ga2sudHh0JykNCiAgICBvcy5zeXN0ZW0oJ3JtIC1yZiBsb29rLnR4dCcpDQogICAgZmlsZSA9IG9wZW4oJ2trLnR4dCcpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWz1dIFdlIGFyZSBncmFwaW5nIGxpbmtzIGZvciBvayBpZHMgOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1s9XSBXZSBhcmUgZ3JhcGluZyBsaW5rcyBmb3Igb2sgaWRzIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbPV0gV2UgYXJlIGdyYXBpbmcgbGlua3MgZm9yIG9rIGlkcyA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWz1dIFdlIGFyZSBncmFwaW5nIGxpbmtzIGZvciBvayBpZHMgOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1s9XSBXZSBhcmUgZ3JhcGluZyBsaW5rcyBmb3Igb2sgaWRzIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbPV0gV2UgYXJlIGdyYXBpbmcgbGlua3MgZm9yIG9rIGlkcyA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWz1dIFdlIGFyZSBncmFwaW5nIGxpbmtzIGZvciBvayBpZHMgOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1s9XSBXZSBhcmUgZ3JhcGluZyBsaW5rcyBmb3Igb2sgaWRzIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbPV0gV2UgYXJlIGdyYXBpbmcgbGlua3MgZm9yIG9rIGlkcyA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWz1dIFdlIGFyZSBncmFwaW5nIGxpbmtzIGZvciBvayBpZHMgOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1s9XSBXZSBhcmUgZ3JhcGluZyBsaW5rcyBmb3Igb2sgaWRzIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbPV0gV2UgYXJlIGdyYXBpbmcgbGlua3MgZm9yIG9rIGlkcyA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWz1dIFdlIGFyZSBncmFwaW5nIGxpbmtzIGZvciBvayBpZHMgOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1s9XSBXZSBhcmUgZ3JhcGluZyBsaW5rcyBmb3Igb2sgaWRzIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbPV0gV2UgYXJlIGdyYXBpbmcgbGlua3MgZm9yIG9rIGlkcyA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWz1dIFdlIGFyZSBncmFwaW5nIGxpbmtzIGZvciBvayBpZHMgOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1s9XSBXZSBhcmUgZ3JhcGluZyBsaW5rcyBmb3Igb2sgaWRzIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbPV0gV2UgYXJlIGdyYXBpbmcgbGlua3MgZm9yIG9rIGlkcyA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWz1dIFdlIGFyZSBncmFwaW5nIGxpbmtzIGZvciBvayBpZHMgOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1s9XSBXZSBhcmUgZ3JhcGluZyBsaW5rcyBmb3Igb2sgaWRzIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBvcy5zeXN0ZW0oJ3JtIC1yZiBuZXdsaW5rcy50eHQnKQ0KICAgIG9zLnN5c3RlbSgnY2F0IGpvay50eHQgfCBncmVwICcgKyBsMSArICcgPj4gbmV3bGlua3MudHh0JykNCiAgICBvcy5zeXN0ZW0oJ2NhdCBqb2sudHh0IHwgZ3JlcCAnICsgbDIgKyAnID4+IG5ld2xpbmtzLnR4dCcpDQogICAgb3Muc3lzdGVtKCdybSAtcmYga2sudHh0JykNCiAgICBvcy5zeXN0ZW0oJ3JtIC1yZiBqb2sudHh0JykNCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICBwcmludCBsb2dvDQogICAgcHJpbnQgJycNCiAgICANCiAgICB0cnk6DQogICAgICAgIGZvciBsaW5lIGluIG9wZW4oJ25ld2xpbmtzLnR4dCcsICdyJykucmVhZGxpbmVzKCk6DQogICAgICAgICAgICBpZHguYXBwZW5kKGxpbmUuc3RyaXAoKSkNCiAgICBleGNlcHQ6DQogICAgICAgIGZiX21lbnUoKQ0KDQogICAgcHJpbnQgJ1shXSBUb3RhbCBJZHM6ICcgKyBzdHIobGVuKGlkeCkpDQogICAgb3Muc3lzdGVtKCdlY2hvICIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0ifCBsb2xjYXQnKQ0KICAgIHByaW50ICcgICAgQ3JhY2tpbmcgU3RhcnQgUGxlYXNlIFdhaXQgLi4gICAnDQogICAgcHJpbnQgJyAgICBVc2UgQWlycGxhbmUgTW9kIEZvciBVcCBTcGVlZCAnDQogICAgb3Muc3lzdGVtKCdlY2hvICIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0ifCBsb2xjYXQnKQ0KICAgIA0KICAgIGRlZiBtYWluKGFyZyk6DQogICAgICAgIHVzZXIgPSBhcmcNCiAgICAgICAgKHVpZCwgbmFtZSkgPSB1c2VyLnNwbGl0KCd8JykNCiAgICAgICAgbmFtZSA9IG5hbWUubG93ZXIoKQ0KICAgICAgICBmaXJzdCA9IG5hbWUucnNwbGl0KCcgJylbMF0NCiAgICAgICAgDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIGxhc3QgPSBuYW1lLnJzcGxpdCgnICcpWzFdDQogICAgICAgIGV4Y2VwdDoNCiAgICAgICAgICAgIHBhc3MNCg0KICAgICAgICBteWFnZW50cyA9IHJhbmRvbS5jaG9pY2UoWw0KICAgICAgICAgICAgJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDYuMTsgV09XNjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS80Mi4wLjIzMTEuMTUyIFNhZmFyaS81MzcuMzYnLA0KICAgICAgICAgICAgJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDYuMzsgV09XNjQ7IFRyaWRlbnQvNy4wOyBUb3VjaDsgVE5KQjsgcnY6MTEuMCkgbGlrZSBHZWNrbycsDQogICAgICAgICAgICAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NDsgVHJpZGVudC83LjA7IE5QMDY7IHJ2OjExLjApIGxpa2UgR2Vja28nLA0KICAgICAgICAgICAgJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDYuMzsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQ1LjAuMjQ1NC44NSBTYWZhcmkvNTM3LjM2JywNCiAgICAgICAgICAgICdNb3ppbGxhLzUuMCAoWDExOyBVYnVudHU7IExpbnV4IGk2ODY7IHJ2OjQwLjApIEdlY2tvLzIwMTAwMTAxIEZpcmVmb3gvNDAuMCcsDQogICAgICAgICAgICAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQ0LjAuMjQwMy4xNTUgU2FmYXJpLzUzNy4zNiBPUFIvMzEuMC4xODg5LjE3NCcsDQogICAgICAgICAgICAnTW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTBfMikgQXBwbGVXZWJLaXQvNjAwLjQuOCAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vOC4wLjMgU2FmYXJpLzYwMC40LjgnLA0KICAgICAgICAgICAgJ01vemlsbGEvNS4wIChpUGFkOyBDUFUgT1MgN18wXzYgbGlrZSBNYWMgT1MgWCkgQXBwbGVXZWJLaXQvNTM3LjUxLjEgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzcuMCBNb2JpbGUvMTFCNjUxIFNhZmFyaS85NTM3LjUzJywNCiAgICAgICAgICAgICdNb3ppbGxhLzUuMCAoWDExOyBMaW51eCB4ODZfNjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS80NS4wLjI0NTQuODUgU2FmYXJpLzUzNy4zNicsDQogICAgICAgICAgICAnTW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfOV81KSBBcHBsZVdlYktpdC82MDAuMy4xOCAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNy4xLjMgU2FmYXJpLzUzNy44NS4xMiddKQ0KICAgICAgICANCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgcGFzczEgPSBuYW1lDQogICAgICAgICAgICByYW5hID0gcmVxdWVzdHMuU2Vzc2lvbigpDQogICAgICAgICAgICByYW5hLmhlYWRlcnMudXBkYXRlKHsNCiAgICAgICAgICAgICAgICAnSG9zdCc6ICdtYmFzaWMuZmFjZWJvb2suY29tJywNCiAgICAgICAgICAgICAgICAnY2FjaGUtY29udHJvbCc6ICdtYXgtYWdlPTAnLA0KICAgICAgICAgICAgICAgICd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogJzEnLA0KICAgICAgICAgICAgICAgICd1c2VyLWFnZW50JzogbXlhZ2VudHMsDQogICAgICAgICAgICAgICAgJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44JywNCiAgICAgICAgICAgICAgICAnYWNjZXB0LWVuY29kaW5nJzogJ2d6aXAsIGRlZmxhdGUnLA0KICAgICAgICAgICAgICAgICd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogc3RyKHJhbmRvbS5yYW5kaW50KDEwMCwgMjAwKSksDQogICAgICAgICAgICAgICAgJ2FjY2VwdC1sYW5ndWFnZSc6ICdpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNycgfSkNCiAgICAgICAgICAgIHAgPSByYW5hLmdldCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tJykNCiAgICAgICAgICAgIGIgPSByYW5hLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi5waHAnLCBkYXRhID0gew0KICAgICAgICAgICAgICAgICdlbWFpbCc6IHVpZCwNCiAgICAgICAgICAgICAgICAncGFzcyc6IHBhc3MxLA0KICAgICAgICAgICAgICAgICdsb2dpbic6ICdzdWJtaXQnIH0pDQogICAgICAgICAgICBpZiAnY191c2VyJyBpbiByYW5hLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQogICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5Mm1bSU1USUFaLU9LXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzMQ0KICAgICAgICAgICAgICAgIG9rID0gb3BlbignSU1USUFaLW9rLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICBvay53cml0ZSh1aWQgKyAnIHwgJyArIHBhc3MxICsgJ1xuJykNCiAgICAgICAgICAgICAgICBvay5jbG9zZSgpDQogICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh1aWQgKyBwYXNzMSkNCiAgICAgICAgICAgIGVsaWYgJ2NoZWNrcG9pbnQnIGluIHJhbmEuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCiAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkxbVtJTVRJQVotQ1BdICcgKyB1aWQgKyAnIHwgJyArIHBhc3MxDQogICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdJTVRJQVotY3AudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgIGNwLndyaXRlKHVpZCArICcgfCAnICsgcGFzczEgKyAnXG4nKQ0KICAgICAgICAgICAgICAgIGNwLmNsb3NlKCkNCiAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHVpZCArIHBhc3MxKQ0KICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICBwYXNzMiA9IGZpcnN0ICsgJzEyMycNCiAgICAgICAgICAgICAgICByYW5hID0gcmVxdWVzdHMuU2Vzc2lvbigpDQogICAgICAgICAgICAgICAgcmFuYS5oZWFkZXJzLnVwZGF0ZSh7DQogICAgICAgICAgICAgICAgICAgICdIb3N0JzogJ21iYXNpYy5mYWNlYm9vay5jb20nLA0KICAgICAgICAgICAgICAgICAgICAnY2FjaGUtY29udHJvbCc6ICdtYXgtYWdlPTAnLA0KICAgICAgICAgICAgICAgICAgICAndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6ICcxJywNCiAgICAgICAgICAgICAgICAgICAgJ3VzZXItYWdlbnQnOiBteWFnZW50cywNCiAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44JywNCiAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdC1lbmNvZGluZyc6ICdnemlwLCBkZWZsYXRlJywNCiAgICAgICAgICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiBzdHIocmFuZG9tLnJhbmRpbnQoMTAwLCAyMDApKSwNCiAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdC1sYW5ndWFnZSc6ICdpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNycgfSkNCiAgICAgICAgICAgICAgICBwID0gcmFuYS5nZXQoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbScpDQogICAgICAgICAgICAgICAgYiA9IHJhbmEucG9zdCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luLnBocCcsIGRhdGEgPSB7DQogICAgICAgICAgICAgICAgICAgICdlbWFpbCc6IHVpZCwNCiAgICAgICAgICAgICAgICAgICAgJ3Bhc3MnOiBwYXNzMiwNCiAgICAgICAgICAgICAgICAgICAgJ2xvZ2luJzogJ3N1Ym1pdCcgfSkNCiAgICAgICAgICAgICAgICBpZiAnY191c2VyJyBpbiByYW5hLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQogICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTJtW0lNVElBWi1PS10gJyArIHVpZCArICcgfCAnICsgcGFzczINCiAgICAgICAgICAgICAgICAgICAgb2sgPSBvcGVuKCdJTVRJQVotb2sudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICBvay53cml0ZSh1aWQgKyAnIHwgJyArIHBhc3MyICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgb2suY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVpZCArIHBhc3MyKQ0KICAgICAgICAgICAgICAgIGVsaWYgJ2NoZWNrcG9pbnQnIGluIHJhbmEuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5MW1bSU1USUFaLUNQXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzMg0KICAgICAgICAgICAgICAgICAgICBjcCA9IG9wZW4oJ0lNVElBWi1jcC50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgIGNwLndyaXRlKHVpZCArICcgfCAnICsgcGFzczIgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICBjcC5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgIGNwcy5hcHBlbmQodWlkICsgcGFzczIpDQogICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgcGFzczMgPSBmaXJzdCArICcxMjM0Jw0KICAgICAgICAgICAgICAgICAgICByYW5hID0gcmVxdWVzdHMuU2Vzc2lvbigpDQogICAgICAgICAgICAgICAgICAgIHJhbmEuaGVhZGVycy51cGRhdGUoew0KICAgICAgICAgICAgICAgICAgICAgICAgJ0hvc3QnOiAnbWJhc2ljLmZhY2Vib29rLmNvbScsDQogICAgICAgICAgICAgICAgICAgICAgICAnY2FjaGUtY29udHJvbCc6ICdtYXgtYWdlPTAnLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsDQogICAgICAgICAgICAgICAgICAgICAgICAndXNlci1hZ2VudCc6IG15YWdlbnRzLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44JywNCiAgICAgICAgICAgICAgICAgICAgICAgICdhY2NlcHQtZW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZScsDQogICAgICAgICAgICAgICAgICAgICAgICAndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6IHN0cihyYW5kb20ucmFuZGludCgxMDAsIDIwMCkpLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdC1sYW5ndWFnZSc6ICdpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNycgfSkNCiAgICAgICAgICAgICAgICAgICAgcCA9IHJhbmEuZ2V0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nKQ0KICAgICAgICAgICAgICAgICAgICBiID0gcmFuYS5wb3N0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4ucGhwJywgZGF0YSA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICdlbWFpbCc6IHVpZCwNCiAgICAgICAgICAgICAgICAgICAgICAgICdwYXNzJzogcGFzczMsDQogICAgICAgICAgICAgICAgICAgICAgICAnbG9naW4nOiAnc3VibWl0JyB9KQ0KICAgICAgICAgICAgICAgICAgICBpZiAnY191c2VyJyBpbiByYW5hLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkybVtJTVRJQVotT0tdICcgKyB1aWQgKyAnIHwgJyArIHBhc3MzDQogICAgICAgICAgICAgICAgICAgICAgICBvayA9IG9wZW4oJ0lNVElBWi1vay50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICBvay53cml0ZSh1aWQgKyAnIHwgJyArIHBhc3MzICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodWlkICsgcGFzczMpDQogICAgICAgICAgICAgICAgICAgIGVsaWYgJ2NoZWNrcG9pbnQnIGluIHJhbmEuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTFtW0lNVElBWi1DUF0gJyArIHVpZCArICcgfCAnICsgcGFzczMNCiAgICAgICAgICAgICAgICAgICAgICAgIGNwID0gb3BlbignSU1USUFaLWNwLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgIGNwLndyaXRlKHVpZCArICcgfCAnICsgcGFzczMgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgY3AuY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgY3BzLmFwcGVuZCh1aWQgKyBwYXNzMykNCiAgICAgICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgICAgIHBhc3M0ID0gZmlyc3QgKyAnMTIzNDUnDQogICAgICAgICAgICAgICAgICAgICAgICByYW5hID0gcmVxdWVzdHMuU2Vzc2lvbigpDQogICAgICAgICAgICAgICAgICAgICAgICByYW5hLmhlYWRlcnMudXBkYXRlKHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnSG9zdCc6ICdtYmFzaWMuZmFjZWJvb2suY29tJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY2FjaGUtY29udHJvbCc6ICdtYXgtYWdlPTAnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogJzEnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICd1c2VyLWFnZW50JzogbXlhZ2VudHMsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44JywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYWNjZXB0LWVuY29kaW5nJzogJ2d6aXAsIGRlZmxhdGUnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogc3RyKHJhbmRvbS5yYW5kaW50KDEwMCwgMjAwKSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdC1sYW5ndWFnZSc6ICdpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNycgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHAgPSByYW5hLmdldCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tJykNCiAgICAgICAgICAgICAgICAgICAgICAgIGIgPSByYW5hLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi5waHAnLCBkYXRhID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdlbWFpbCc6IHVpZCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAncGFzcyc6IHBhc3M0LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdsb2dpbic6ICdzdWJtaXQnIH0pDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAnY191c2VyJyBpbiByYW5hLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5Mm1bSU1USUFaLU9LXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzNA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rID0gb3BlbignSU1USUFaLW9rLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvay53cml0ZSh1aWQgKyAnIHwgJyArIHBhc3M0ICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvay5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh1aWQgKyBwYXNzNCkNCiAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ2NoZWNrcG9pbnQnIGluIHJhbmEuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkxbVtJTVRJQVotQ1BdICcgKyB1aWQgKyAnIHwgJyArIHBhc3M0DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdJTVRJQVotY3AudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwLndyaXRlKHVpZCArICcgfCAnICsgcGFzczQgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHVpZCArIHBhc3M0KQ0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzNSA9IGxhc3QgKyAnMTIzJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmEgPSByZXF1ZXN0cy5TZXNzaW9uKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5hLmhlYWRlcnMudXBkYXRlKHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0hvc3QnOiAnbWJhc2ljLmZhY2Vib29rLmNvbScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjYWNoZS1jb250cm9sJzogJ21heC1hZ2U9MCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogJzEnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndXNlci1hZ2VudCc6IG15YWdlbnRzLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYWNjZXB0LWVuY29kaW5nJzogJ2d6aXAsIGRlZmxhdGUnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6IHN0cihyYW5kb20ucmFuZGludCgxMDAsIDIwMCkpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYWNjZXB0LWxhbmd1YWdlJzogJ2lkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43JyB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAgPSByYW5hLmdldCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiID0gcmFuYS5wb3N0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4ucGhwJywgZGF0YSA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2VtYWlsJzogdWlkLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncGFzcyc6IHBhc3M1LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbG9naW4nOiAnc3VibWl0JyB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICdjX3VzZXInIGluIHJhbmEuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5Mm1bSU1USUFaLU9LXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzNQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvayA9IG9wZW4oJ0lNVElBWi1vay50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rLndyaXRlKHVpZCArICcgfCAnICsgcGFzczUgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvay5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodWlkICsgcGFzczUpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnY2hlY2twb2ludCcgaW4gcmFuYS5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkxbVtJTVRJQVotQ1BdICcgKyB1aWQgKyAnIHwgJyArIHBhc3M1DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwID0gb3BlbignSU1USUFaLWNwLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Aud3JpdGUodWlkICsgJyB8ICcgKyBwYXNzNSArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3BzLmFwcGVuZCh1aWQgKyBwYXNzNSkNCiAgICAgICAgZXhjZXB0Og0KICAgICAgICAgICAgcGFzcw0KICAgICAgICANCg0KDQogICAgcCA9IFRocmVhZFBvb2woMzApDQogICAgcC5tYXAobWFpbiwgaWR4KQ0KICAgIHByaW50ICdceDFiWzE7OTdtJw0KICAgIHByaW50IDM5ICogJy0nDQogICAgcHJpbnQgJ1shXSBDbG9uaW5nIENvbXBsZXRlIFJlc3VsdCAuLi4uLi4uLicNCiAgICBwcmludCAzOSAqICctJw0KICAgIHByaW50ICdbIV0gVG90YWwgT2sgSWRzIDogJyArIHN0cihsZW4ob2tzKSkNCiAgICBwcmludCAnWyFdIFRvdGFsIENwIElkcyA6JyArIHN0cihsZW4oY3BzKSkNCiAgICBwcmludCAzOSAqICctJw0KICAgIHByaW50ICcnDQogICAgcmF3X2lucHV0KCcgUHJlc3MgRW50ZXIgVG8gQmFjayAnKQ0KICAgIGZiX21lbnUoKQ0KDQoNCmRlZiB4b2twKCk6DQogICAgb3Muc3lzdGVtKCdybSAtcmYga2sudHh0JykNCiAgICBob2sgPSAnam9rLnR4dCcNCiAgICBjb3VudCA9IFtdDQogICAgcmFuYSA9IFtdDQogICAgDQogICAgdHJ5Og0KICAgICAgICB0b2tlbiA9IG9wZW4oJ3Rva2VuLnR4dCcsICdyJykucmVhZCgpDQogICAgZXhjZXB0Og0KICAgICAgICBmYl9tZW51KCkNCg0KICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgIHByaW50IGxvZ28NCiAgICBwcmludCAnJw0KICAgIGlpaWQgPSByYXdfaW5wdXQoJ1s9XSBFbnRlciBJRCA6ICcpDQogICAgcHJpbnQgJycNCiAgICBwczEgPSByYXdfaW5wdXQoJ1sxXSBQYXNzd29yZCA6ICcpDQogICAgcHMyID0gcmF3X2lucHV0KCdbMl0gUGFzc3dvcmQgOiAnKQ0KICAgIHBzMyA9IHJhd19pbnB1dCgnWzNdIFBhc3N3b3JkIDogJykNCiAgICBwczQgPSByYXdfaW5wdXQoJ1s0XSBQYXNzd29yZCA6ICcpDQogICAgcHJpbnQgJycNCiAgICBycnAgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBpaWlkICsgJz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHEgPSBqc29uLmxvYWRzKHJycC50ZXh0KQ0KICAgIG5pZCA9IHFbJ25hbWUnXQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBpaWlkICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdsb29rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIHByaW50ICcnDQogICAgcHJpbnQgc20gKyAnWz1dIFRyYW5zZmVyIEZyb20gOiAnICsgbmlkICsgJyA+IFx4MWJbMTs5MW1GcmllbmRzJw0KICAgIHByaW50ICcnDQogICAgdGltZS5zbGVlcCgyKQ0KICAgIHByaW50IGcgKyAnWz1dIFRyYW5zZmVyIENvbXBsdGUgUHJvY2VzcyBTdGFydCAqJyArIHcNCiAgICBwcmludCAnJw0KICAgIG9zLnN5c3RlbSgnIGNhdCBsb29rLnR4dCB8IGdyZXAgIjEwMDA3NyIgPj4ga2sudHh0JykNCiAgICBvcy5zeXN0ZW0oJyBjYXQgbG9vay50eHQgfCBncmVwICIxMDAwNzgiID4+IGtrLnR4dCcpDQogICAgb3Muc3lzdGVtKCdybSAtcmYgbG9vay50eHQnKQ0KICAgIGZpbGUgPSBvcGVuKCdray50eHQnKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1s9XSBXZSBhcmUgZ3JhcGluZyBsaW5rcyBmb3Igb2sgaWRzIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbPV0gV2UgYXJlIGdyYXBpbmcgbGlua3MgZm9yIG9rIGlkcyA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWz1dIFdlIGFyZSBncmFwaW5nIGxpbmtzIGZvciBvayBpZHMgOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1s9XSBXZSBhcmUgZ3JhcGluZyBsaW5rcyBmb3Igb2sgaWRzIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbPV0gV2UgYXJlIGdyYXBpbmcgbGlua3MgZm9yIG9rIGlkcyA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWz1dIFdlIGFyZSBncmFwaW5nIGxpbmtzIGZvciBvayBpZHMgOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1s9XSBXZSBhcmUgZ3JhcGluZyBsaW5rcyBmb3Igb2sgaWRzIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbPV0gV2UgYXJlIGdyYXBpbmcgbGlua3MgZm9yIG9rIGlkcyA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWz1dIFdlIGFyZSBncmFwaW5nIGxpbmtzIGZvciBvayBpZHMgOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1s9XSBXZSBhcmUgZ3JhcGluZyBsaW5rcyBmb3Igb2sgaWRzIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbPV0gV2UgYXJlIGdyYXBpbmcgbGlua3MgZm9yIG9rIGlkcyA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWz1dIFdlIGFyZSBncmFwaW5nIGxpbmtzIGZvciBvayBpZHMgOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1s9XSBXZSBhcmUgZ3JhcGluZyBsaW5rcyBmb3Igb2sgaWRzIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbPV0gV2UgYXJlIGdyYXBpbmcgbGlua3MgZm9yIG9rIGlkcyA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWz1dIFdlIGFyZSBncmFwaW5nIGxpbmtzIGZvciBvayBpZHMgOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1s9XSBXZSBhcmUgZ3JhcGluZyBsaW5rcyBmb3Igb2sgaWRzIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbPV0gV2UgYXJlIGdyYXBpbmcgbGlua3MgZm9yIG9rIGlkcyA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWz1dIFdlIGFyZSBncmFwaW5nIGxpbmtzIGZvciBvayBpZHMgOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1s9XSBXZSBhcmUgZ3JhcGluZyBsaW5rcyBmb3Igb2sgaWRzIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbPV0gV2UgYXJlIGdyYXBpbmcgbGlua3MgZm9yIG9rIGlkcyA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgb3Muc3lzdGVtKCdybSAtcmYgbmV3bGlua3MudHh0JykNCiAgICBvcy5zeXN0ZW0oJ2NhdCBqb2sudHh0IHwgZ3JlcCAnICsgbDEgKyAnID4+IG5ld2xpbmtzLnR4dCcpDQogICAgb3Muc3lzdGVtKCdjYXQgam9rLnR4dCB8IGdyZXAgJyArIGwyICsgJyA+PiBuZXdsaW5rcy50eHQnKQ0KICAgIG9zLnN5c3RlbSgncm0gLXJmIGtrLnR4dCcpDQogICAgb3Muc3lzdGVtKCdybSAtcmYgam9rLnR4dCcpDQogICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgcHJpbnQgbG9nbw0KICAgIHByaW50ICcnDQogICAgDQogICAgdHJ5Og0KICAgICAgICBmb3IgbGluZSBpbiBvcGVuKCduZXdsaW5rcy50eHQnLCAncicpLnJlYWRsaW5lcygpOg0KICAgICAgICAgICAgaWR4LmFwcGVuZChsaW5lLnN0cmlwKCkpDQogICAgZXhjZXB0Og0KICAgICAgICBmYl9tZW51KCkNCg0KICAgIHByaW50ICdbIV0gdG90YWwgaWRzIDogJyArIHN0cihsZW4oaWR4KSkNCiAgICBvcy5zeXN0ZW0oJ2VjaG8gIiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSJ8IGxvbGNhdCcpDQogICAgcHJpbnQgJyAgICBjcmFja2luZyBzdGFydCBwbGVhc2Ugd2FpdCAuLiAgICcNCiAgICBvcy5zeXN0ZW0oJ2VjaG8gIiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSJ8IGxvbGNhdCcpDQogICAgDQogICAgZGVmIG1haW4oYXJnKToNCiAgICAgICAgdXNlciA9IGFyZw0KICAgICAgICAodWlkLCBuYW1lKSA9IHVzZXIuc3BsaXQoJ3wnKQ0KICAgICAgICBuYW1lID0gbmFtZS5sb3dlcigpDQogICAgICAgIGZpcnN0ID0gbmFtZS5yc3BsaXQoJyAnKVswXQ0KICAgICAgICANCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgbGFzdCA9IG5hbWUucnNwbGl0KCcgJylbMV0NCiAgICAgICAgZXhjZXB0Og0KICAgICAgICAgICAgcGFzcw0KDQogICAgICAgIG15YWdlbnRzID0gcmFuZG9tLmNob2ljZShbDQogICAgICAgICAgICAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQyLjAuMjMxMS4xNTIgU2FmYXJpLzUzNy4zNicsDQogICAgICAgICAgICAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4zOyBXT1c2NDsgVHJpZGVudC83LjA7IFRvdWNoOyBUTkpCOyBydjoxMS4wKSBsaWtlIEdlY2tvJywNCiAgICAgICAgICAgICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA2LjE7IFdPVzY0OyBUcmlkZW50LzcuMDsgTlAwNjsgcnY6MTEuMCkgbGlrZSBHZWNrbycsDQogICAgICAgICAgICAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4zOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNDUuMC4yNDU0Ljg1IFNhZmFyaS81MzcuMzYnLA0KICAgICAgICAgICAgJ01vemlsbGEvNS4wIChYMTE7IFVidW50dTsgTGludXggaTY4NjsgcnY6NDAuMCkgR2Vja28vMjAxMDAxMDEgRmlyZWZveC80MC4wJywNCiAgICAgICAgICAgICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA2LjE7IFdPVzY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNDQuMC4yNDAzLjE1NSBTYWZhcmkvNTM3LjM2IE9QUi8zMS4wLjE4ODkuMTc0JywNCiAgICAgICAgICAgICdNb3ppbGxhLzUuMCAoTWFjaW50b3NoOyBJbnRlbCBNYWMgT1MgWCAxMF8xMF8yKSBBcHBsZVdlYktpdC82MDAuNC44IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi84LjAuMyBTYWZhcmkvNjAwLjQuOCcsDQogICAgICAgICAgICAnTW96aWxsYS81LjAgKGlQYWQ7IENQVSBPUyA3XzBfNiBsaWtlIE1hYyBPUyBYKSBBcHBsZVdlYktpdC81MzcuNTEuMSAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNy4wIE1vYmlsZS8xMUI2NTEgU2FmYXJpLzk1MzcuNTMnLA0KICAgICAgICAgICAgJ01vemlsbGEvNS4wIChYMTE7IExpbnV4IHg4Nl82NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQ1LjAuMjQ1NC44NSBTYWZhcmkvNTM3LjM2JywNCiAgICAgICAgICAgICdNb3ppbGxhLzUuMCAoTWFjaW50b3NoOyBJbnRlbCBNYWMgT1MgWCAxMF85XzUpIEFwcGxlV2ViS2l0LzYwMC4zLjE4IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi83LjEuMyBTYWZhcmkvNTM3Ljg1LjEyJ10pDQogICAgICAgIA0KICAgICAgICB0cnk6DQogICAgICAgICAgICBwYXNzMSA9IG5hbWUNCiAgICAgICAgICAgIHJhbmEgPSByZXF1ZXN0cy5TZXNzaW9uKCkNCiAgICAgICAgICAgIHJhbmEuaGVhZGVycy51cGRhdGUoew0KICAgICAgICAgICAgICAgICdIb3N0JzogJ21iYXNpYy5mYWNlYm9vay5jb20nLA0KICAgICAgICAgICAgICAgICdjYWNoZS1jb250cm9sJzogJ21heC1hZ2U9MCcsDQogICAgICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsDQogICAgICAgICAgICAgICAgJ3VzZXItYWdlbnQnOiBteWFnZW50cywNCiAgICAgICAgICAgICAgICAnYWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgnLA0KICAgICAgICAgICAgICAgICdhY2NlcHQtZW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZScsDQogICAgICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiBzdHIocmFuZG9tLnJhbmRpbnQoMTAwLCAyMDApKSwNCiAgICAgICAgICAgICAgICAnYWNjZXB0LWxhbmd1YWdlJzogJ2lkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43JyB9KQ0KICAgICAgICAgICAgcCA9IHJhbmEuZ2V0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nKQ0KICAgICAgICAgICAgYiA9IHJhbmEucG9zdCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luLnBocCcsIGRhdGEgPSB7DQogICAgICAgICAgICAgICAgJ2VtYWlsJzogdWlkLA0KICAgICAgICAgICAgICAgICdwYXNzJzogcGFzczEsDQogICAgICAgICAgICAgICAgJ2xvZ2luJzogJ3N1Ym1pdCcgfSkNCiAgICAgICAgICAgIGlmICdjX3VzZXInIGluIHJhbmEuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCiAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkybVtJTVRJQVotT0tdICcgKyB1aWQgKyAnIHwgJyArIHBhc3MxDQogICAgICAgICAgICAgICAgb2sgPSBvcGVuKCdJTVRJQVotb2sudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgIG9rLndyaXRlKHVpZCArICcgfCAnICsgcGFzczEgKyAnXG4nKQ0KICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkNCiAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVpZCArIHBhc3MxKQ0KICAgICAgICAgICAgZWxpZiAnY2hlY2twb2ludCcgaW4gcmFuYS5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOg0KICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTFtW0lNVElBWi1DUF0gJyArIHVpZCArICcgfCAnICsgcGFzczENCiAgICAgICAgICAgICAgICBjcCA9IG9wZW4oJ0lNVElBWi1jcC50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgY3Aud3JpdGUodWlkICsgJyB8ICcgKyBwYXNzMSArICdcbicpDQogICAgICAgICAgICAgICAgY3AuY2xvc2UoKQ0KICAgICAgICAgICAgICAgIGNwcy5hcHBlbmQodWlkICsgcGFzczEpDQogICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgIHBhc3MyID0gcHMxDQogICAgICAgICAgICAgICAgcmFuYSA9IHJlcXVlc3RzLlNlc3Npb24oKQ0KICAgICAgICAgICAgICAgIHJhbmEuaGVhZGVycy51cGRhdGUoew0KICAgICAgICAgICAgICAgICAgICAnSG9zdCc6ICdtYmFzaWMuZmFjZWJvb2suY29tJywNCiAgICAgICAgICAgICAgICAgICAgJ2NhY2hlLWNvbnRyb2wnOiAnbWF4LWFnZT0wJywNCiAgICAgICAgICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsDQogICAgICAgICAgICAgICAgICAgICd1c2VyLWFnZW50JzogbXlhZ2VudHMsDQogICAgICAgICAgICAgICAgICAgICdhY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCcsDQogICAgICAgICAgICAgICAgICAgICdhY2NlcHQtZW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZScsDQogICAgICAgICAgICAgICAgICAgICd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogc3RyKHJhbmRvbS5yYW5kaW50KDEwMCwgMjAwKSksDQogICAgICAgICAgICAgICAgICAgICdhY2NlcHQtbGFuZ3VhZ2UnOiAnaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcnIH0pDQogICAgICAgICAgICAgICAgcCA9IHJhbmEuZ2V0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nKQ0KICAgICAgICAgICAgICAgIGIgPSByYW5hLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi5waHAnLCBkYXRhID0gew0KICAgICAgICAgICAgICAgICAgICAnZW1haWwnOiB1aWQsDQogICAgICAgICAgICAgICAgICAgICdwYXNzJzogcGFzczIsDQogICAgICAgICAgICAgICAgICAgICdsb2dpbic6ICdzdWJtaXQnIH0pDQogICAgICAgICAgICAgICAgaWYgJ2NfdXNlcicgaW4gcmFuYS5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOg0KICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkybVtJTVRJQVotT0tdICcgKyB1aWQgKyAnIHwgJyArIHBhc3MyDQogICAgICAgICAgICAgICAgICAgIG9rID0gb3BlbignSU1USUFaLW9rLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgb2sud3JpdGUodWlkICsgJyB8ICcgKyBwYXNzMiArICdcbicpDQogICAgICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh1aWQgKyBwYXNzMikNCiAgICAgICAgICAgICAgICBlbGlmICdjaGVja3BvaW50JyBpbiByYW5hLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQogICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTFtW0lNVElBWi1DUF0gJyArIHVpZCArICcgfCAnICsgcGFzczINCiAgICAgICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdJTVRJQVotY3AudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICBjcC53cml0ZSh1aWQgKyAnIHwgJyArIHBhc3MyICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgY3AuY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHVpZCArIHBhc3MyKQ0KICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgIHBhc3MzID0gcHMyDQogICAgICAgICAgICAgICAgICAgIHJhbmEgPSByZXF1ZXN0cy5TZXNzaW9uKCkNCiAgICAgICAgICAgICAgICAgICAgcmFuYS5oZWFkZXJzLnVwZGF0ZSh7DQogICAgICAgICAgICAgICAgICAgICAgICAnSG9zdCc6ICdtYmFzaWMuZmFjZWJvb2suY29tJywNCiAgICAgICAgICAgICAgICAgICAgICAgICdjYWNoZS1jb250cm9sJzogJ21heC1hZ2U9MCcsDQogICAgICAgICAgICAgICAgICAgICAgICAndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6ICcxJywNCiAgICAgICAgICAgICAgICAgICAgICAgICd1c2VyLWFnZW50JzogbXlhZ2VudHMsDQogICAgICAgICAgICAgICAgICAgICAgICAnYWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgnLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdC1lbmNvZGluZyc6ICdnemlwLCBkZWZsYXRlJywNCiAgICAgICAgICAgICAgICAgICAgICAgICd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogc3RyKHJhbmRvbS5yYW5kaW50KDEwMCwgMjAwKSksDQogICAgICAgICAgICAgICAgICAgICAgICAnYWNjZXB0LWxhbmd1YWdlJzogJ2lkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43JyB9KQ0KICAgICAgICAgICAgICAgICAgICBwID0gcmFuYS5nZXQoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbScpDQogICAgICAgICAgICAgICAgICAgIGIgPSByYW5hLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi5waHAnLCBkYXRhID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgJ2VtYWlsJzogdWlkLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ3Bhc3MnOiBwYXNzMywNCiAgICAgICAgICAgICAgICAgICAgICAgICdsb2dpbic6ICdzdWJtaXQnIH0pDQogICAgICAgICAgICAgICAgICAgIGlmICdjX3VzZXInIGluIHJhbmEuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTJtW0lNVElBWi1PS10gJyArIHVpZCArICcgfCAnICsgcGFzczMNCiAgICAgICAgICAgICAgICAgICAgICAgIG9rID0gb3BlbignSU1USUFaLW9rLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgIG9rLndyaXRlKHVpZCArICcgfCAnICsgcGFzczMgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgb2suY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh1aWQgKyBwYXNzMykNCiAgICAgICAgICAgICAgICAgICAgZWxpZiAnY2hlY2twb2ludCcgaW4gcmFuYS5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOg0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5MW1bSU1USUFaLUNQXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzMw0KICAgICAgICAgICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdJTVRJQVotY3AudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgY3Aud3JpdGUodWlkICsgJyB8ICcgKyBwYXNzMyArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICBjcC5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHVpZCArIHBhc3MzKQ0KICAgICAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICAgICAgcGFzczQgPSBwczMNCiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmEgPSByZXF1ZXN0cy5TZXNzaW9uKCkNCiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmEuaGVhZGVycy51cGRhdGUoew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdIb3N0JzogJ21iYXNpYy5mYWNlYm9vay5jb20nLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjYWNoZS1jb250cm9sJzogJ21heC1hZ2U9MCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3VzZXItYWdlbnQnOiBteWFnZW50cywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhY2NlcHQtZW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiBzdHIocmFuZG9tLnJhbmRpbnQoMTAwLCAyMDApKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYWNjZXB0LWxhbmd1YWdlJzogJ2lkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43JyB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgcCA9IHJhbmEuZ2V0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgYiA9IHJhbmEucG9zdCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luLnBocCcsIGRhdGEgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2VtYWlsJzogdWlkLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwYXNzJzogcGFzczQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2xvZ2luJzogJ3N1Ym1pdCcgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICdjX3VzZXInIGluIHJhbmEuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkybVtJTVRJQVotT0tdICcgKyB1aWQgKyAnIHwgJyArIHBhc3M0DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2sgPSBvcGVuKCdJTVRJQVotb2sudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rLndyaXRlKHVpZCArICcgfCAnICsgcGFzczQgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVpZCArIHBhc3M0KQ0KICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnY2hlY2twb2ludCcgaW4gcmFuYS5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTFtW0lNVElBWi1DUF0gJyArIHVpZCArICcgfCAnICsgcGFzczQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcCA9IG9wZW4oJ0lNVElBWi1jcC50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Aud3JpdGUodWlkICsgJyB8ICcgKyBwYXNzNCArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3AuY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwcy5hcHBlbmQodWlkICsgcGFzczQpDQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3M1ID0gcHM0DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuYSA9IHJlcXVlc3RzLlNlc3Npb24oKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmEuaGVhZGVycy51cGRhdGUoew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnSG9zdCc6ICdtYmFzaWMuZmFjZWJvb2suY29tJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NhY2hlLWNvbnRyb2wnOiAnbWF4LWFnZT0wJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd1c2VyLWFnZW50JzogbXlhZ2VudHMsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhY2NlcHQtZW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogc3RyKHJhbmRvbS5yYW5kaW50KDEwMCwgMjAwKSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhY2NlcHQtbGFuZ3VhZ2UnOiAnaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcnIH0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcCA9IHJhbmEuZ2V0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIgPSByYW5hLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi5waHAnLCBkYXRhID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZW1haWwnOiB1aWQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwYXNzJzogcGFzczUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdsb2dpbic6ICdzdWJtaXQnIH0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2NfdXNlcicgaW4gcmFuYS5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkybVtJTVRJQVotT0tdICcgKyB1aWQgKyAnIHwgJyArIHBhc3M1DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rID0gb3BlbignSU1USUFaLW9rLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2sud3JpdGUodWlkICsgJyB8ICcgKyBwYXNzNSArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh1aWQgKyBwYXNzNSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmICdjaGVja3BvaW50JyBpbiByYW5hLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTFtW0lNVElBWi1DUF0gJyArIHVpZCArICcgfCAnICsgcGFzczUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdJTVRJQVotY3AudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcC53cml0ZSh1aWQgKyAnIHwgJyArIHBhc3M1ICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3AuY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHVpZCArIHBhc3M1KQ0KICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICBwYXNzDQogICAgICAgIA0KDQoNCiAgICBwID0gVGhyZWFkUG9vbCgzMCkNCiAgICBwLm1hcChtYWluLCBpZHgpDQogICAgcHJpbnQgJ1x4MWJbMTs5N20nDQogICAgcHJpbnQgMzkgKiAnLScNCiAgICBwcmludCAnWyFdIGNsb25pbmcgY29tcGxldGUgcmVzdWx0IC4uLi4uLi4uJw0KICAgIHByaW50IDM5ICogJy0nDQogICAgcHJpbnQgJ1shXSBUb3RhbCBPayBJZHMgOiAnICsgc3RyKGxlbihva3MpKQ0KICAgIHByaW50ICdbIV0gVG90YWwgQ3AgSWRzIDogJyArIHN0cihsZW4oY3BzKSkNCiAgICBwcmludCAzOSAqICctJw0KICAgIHByaW50ICcnDQogICAgcmF3X2lucHV0KCcgUHJlc3MgRW50ZXIgVG8gQmFjayAnKQ0KICAgIGZiX21lbnUoKQ0KDQoNCmRlZiB4b2tucCgpOg0KICAgIG9zLnN5c3RlbSgncm0gLXJmIGtrLnR4dCcpDQogICAgaG9rID0gJ2pvay50eHQnDQogICAgY291bnQgPSBbXQ0KICAgIHJhbmEgPSBbXQ0KICAgIA0KICAgIHRyeToNCiAgICAgICAgdG9rZW4gPSBvcGVuKCd0b2tlbi50eHQnLCAncicpLnJlYWQoKQ0KICAgIGV4Y2VwdDoNCiAgICAgICAgZmJfbWVudSgpDQoNCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICBwcmludCBsb2dvDQogICAgcHJpbnQgJycNCiAgICBpaWlkID0gcmF3X2lucHV0KCdbMV0gRW50ZXIgSUQgOiAnKQ0KICAgIHByaW50ICcnDQogICAgcHJpbnQgJyBFeGFtcGxlIDEyMyArIDEyMzQgKzEyICsgNzg2Jw0KICAgIHByaW50ICcnDQogICAgcHMxID0gcmF3X2lucHV0KCdbMV0gbmFtZSArIGRpZ2l0IDogJykNCiAgICBwczIgPSByYXdfaW5wdXQoJ1syXSBuYW1lICsgZGlnaXQgOiAnKQ0KICAgIHBzMyA9IHJhd19pbnB1dCgnWzNdIG5hbWUgKyBkaWdpdCA6ICcpDQogICAgcHM0ID0gcmF3X2lucHV0KCdbNF0gbGFzdCArIG5hbWUgIDogJykNCiAgICBwcmludCAnJw0KICAgIHJycCA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGlpaWQgKyAnP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgcSA9IGpzb24ubG9hZHMocnJwLnRleHQpDQogICAgbmlkID0gcVsnbmFtZSddDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGlpaWQgKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2xvb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgcHJpbnQgJycNCiAgICBwcmludCBzbSArICdbPV0gVHJhbnNmZXIgRnJvbSA6ICcgKyBuaWQgKyAnID4gXHgxYlsxOzkxbUZyaWVuZHMnDQogICAgcHJpbnQgJycNCiAgICB0aW1lLnNsZWVwKDIpDQogICAgcHJpbnQgZyArICdbPV0gVHJhbnNmZXIgQ29tcGx0ZSBQcm9jZXNzIFN0YXJ0IConICsgdw0KICAgIHByaW50ICcnDQogICAgb3Muc3lzdGVtKCcgY2F0IGxvb2sudHh0IHwgZ3JlcCAiMTAwMDc3IiA+PiBray50eHQnKQ0KICAgIG9zLnN5c3RlbSgnIGNhdCBsb29rLnR4dCB8IGdyZXAgIjEwMDA3OCIgPj4ga2sudHh0JykNCiAgICBvcy5zeXN0ZW0oJ3JtIC1yZiBsb29rLnR4dCcpDQogICAgb3Muc3lzdGVtKCd0b2tlbi50eHQnKQ0KICAgIGZpbGUgPSBvcGVuKCdray50eHQnKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1s9XSBXZSBhcmUgZ3JhcGluZyBsaW5rcyBmb3Igb2sgaWRzIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbPV0gV2UgYXJlIGdyYXBpbmcgbGlua3MgZm9yIG9rIGlkcyA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWz1dIFdlIGFyZSBncmFwaW5nIGxpbmtzIGZvciBvayBpZHMgOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1s9XSBXZSBhcmUgZ3JhcGluZyBsaW5rcyBmb3Igb2sgaWRzIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbPV0gV2UgYXJlIGdyYXBpbmcgbGlua3MgZm9yIG9rIGlkcyA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWz1dIFdlIGFyZSBncmFwaW5nIGxpbmtzIGZvciBvayBpZHMgOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1s9XSBXZSBhcmUgZ3JhcGluZyBsaW5rcyBmb3Igb2sgaWRzIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbPV0gV2UgYXJlIGdyYXBpbmcgbGlua3MgZm9yIG9rIGlkcyA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWz1dIFdlIGFyZSBncmFwaW5nIGxpbmtzIGZvciBvayBpZHMgOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1s9XSBXZSBhcmUgZ3JhcGluZyBsaW5rcyBmb3Igb2sgaWRzIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbPV0gV2UgYXJlIGdyYXBpbmcgbGlua3MgZm9yIG9rIGlkcyA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWz1dIFdlIGFyZSBncmFwaW5nIGxpbmtzIGZvciBvayBpZHMgOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1s9XSBXZSBhcmUgZ3JhcGluZyBsaW5rcyBmb3Igb2sgaWRzIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbPV0gV2UgYXJlIGdyYXBpbmcgbGlua3MgZm9yIG9rIGlkcyA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWz1dIFdlIGFyZSBncmFwaW5nIGxpbmtzIGZvciBvayBpZHMgOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1s9XSBXZSBhcmUgZ3JhcGluZyBsaW5rcyBmb3Igb2sgaWRzIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbPV0gV2UgYXJlIGdyYXBpbmcgbGlua3MgZm9yIG9rIGlkcyA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWz1dIFdlIGFyZSBncmFwaW5nIGxpbmtzIGZvciBvayBpZHMgOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1s9XSBXZSBhcmUgZ3JhcGluZyBsaW5rcyBmb3Igb2sgaWRzIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbPV0gV2UgYXJlIGdyYXBpbmcgbGlua3MgZm9yIG9rIGlkcyA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgb3Muc3lzdGVtKCdybSAtcmYgbmV3bGlua3MudHh0JykNCiAgICBvcy5zeXN0ZW0oJ2NhdCBqb2sudHh0IHwgZ3JlcCAnICsgbDEgKyAnID4+IG5ld2xpbmtzLnR4dCcpDQogICAgb3Muc3lzdGVtKCdjYXQgam9rLnR4dCB8IGdyZXAgJyArIGwyICsgJyA+PiBuZXdsaW5rcy50eHQnKQ0KICAgIG9zLnN5c3RlbSgncm0gLXJmIGtrLnR4dCcpDQogICAgb3Muc3lzdGVtKCdybSAtcmYgam9rLnR4dCcpDQogICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgcHJpbnQgbG9nbw0KICAgIHByaW50ICcnDQogICAgDQogICAgdHJ5Og0KICAgICAgICBmb3IgbGluZSBpbiBvcGVuKCduZXdsaW5rcy50eHQnLCAncicpLnJlYWRsaW5lcygpOg0KICAgICAgICAgICAgaWR4LmFwcGVuZChsaW5lLnN0cmlwKCkpDQogICAgZXhjZXB0Og0KICAgICAgICBmYl9tZW51KCkNCg0KICAgIHByaW50ICdbIV0gdG90YWwgaWRzIDogJyArIHN0cihsZW4oaWR4KSkNCiAgICBvcy5zeXN0ZW0oJ2VjaG8gIiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSJ8IGxvbGNhdCcpDQogICAgcHJpbnQgJyAgICBDcmFja2luZyBTdGFydCBQbGVhc2UgV2FpdCAuLiAgICcNCiAgICBwcmludCAnICAgVXNlIEFpcnBsYW5lIE1vZCBGb3IgU3BlZWQgVXAnDQogICAgb3Muc3lzdGVtKCdlY2hvICIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0ifCBsb2xjYXQnKQ0KICAgIA0KICAgIGRlZiBtYWluKGFyZyk6DQogICAgICAgIHVzZXIgPSBhcmcNCiAgICAgICAgKHVpZCwgbmFtZSkgPSB1c2VyLnNwbGl0KCd8JykNCiAgICAgICAgbmFtZSA9IG5hbWUubG93ZXIoKQ0KICAgICAgICBmaXJzdCA9IG5hbWUucnNwbGl0KCcgJylbMF0NCiAgICAgICAgDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIGxhc3QgPSBuYW1lLnJzcGxpdCgnICcpWzFdDQogICAgICAgIGV4Y2VwdDoNCiAgICAgICAgICAgIHBhc3MNCg0KICAgICAgICBteWFnZW50cyA9IHJhbmRvbS5jaG9pY2UoWw0KICAgICAgICAgICAgJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDYuMTsgV09XNjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS80Mi4wLjIzMTEuMTUyIFNhZmFyaS81MzcuMzYnLA0KICAgICAgICAgICAgJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDYuMzsgV09XNjQ7IFRyaWRlbnQvNy4wOyBUb3VjaDsgVE5KQjsgcnY6MTEuMCkgbGlrZSBHZWNrbycsDQogICAgICAgICAgICAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NDsgVHJpZGVudC83LjA7IE5QMDY7IHJ2OjExLjApIGxpa2UgR2Vja28nLA0KICAgICAgICAgICAgJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDYuMzsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQ1LjAuMjQ1NC44NSBTYWZhcmkvNTM3LjM2JywNCiAgICAgICAgICAgICdNb3ppbGxhLzUuMCAoWDExOyBVYnVudHU7IExpbnV4IGk2ODY7IHJ2OjQwLjApIEdlY2tvLzIwMTAwMTAxIEZpcmVmb3gvNDAuMCcsDQogICAgICAgICAgICAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQ0LjAuMjQwMy4xNTUgU2FmYXJpLzUzNy4zNiBPUFIvMzEuMC4xODg5LjE3NCcsDQogICAgICAgICAgICAnTW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTBfMikgQXBwbGVXZWJLaXQvNjAwLjQuOCAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vOC4wLjMgU2FmYXJpLzYwMC40LjgnLA0KICAgICAgICAgICAgJ01vemlsbGEvNS4wIChpUGFkOyBDUFUgT1MgN18wXzYgbGlrZSBNYWMgT1MgWCkgQXBwbGVXZWJLaXQvNTM3LjUxLjEgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzcuMCBNb2JpbGUvMTFCNjUxIFNhZmFyaS85NTM3LjUzJywNCiAgICAgICAgICAgICdNb3ppbGxhLzUuMCAoWDExOyBMaW51eCB4ODZfNjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS80NS4wLjI0NTQuODUgU2FmYXJpLzUzNy4zNicsDQogICAgICAgICAgICAnTW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfOV81KSBBcHBsZVdlYktpdC82MDAuMy4xOCAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNy4xLjMgU2FmYXJpLzUzNy44NS4xMiddKQ0KICAgICAgICANCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgcGFzczEgPSBuYW1lDQogICAgICAgICAgICByYW5hID0gcmVxdWVzdHMuU2Vzc2lvbigpDQogICAgICAgICAgICByYW5hLmhlYWRlcnMudXBkYXRlKHsNCiAgICAgICAgICAgICAgICAnSG9zdCc6ICdtYmFzaWMuZmFjZWJvb2suY29tJywNCiAgICAgICAgICAgICAgICAnY2FjaGUtY29udHJvbCc6ICdtYXgtYWdlPTAnLA0KICAgICAgICAgICAgICAgICd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogJzEnLA0KICAgICAgICAgICAgICAgICd1c2VyLWFnZW50JzogbXlhZ2VudHMsDQogICAgICAgICAgICAgICAgJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44JywNCiAgICAgICAgICAgICAgICAnYWNjZXB0LWVuY29kaW5nJzogJ2d6aXAsIGRlZmxhdGUnLA0KICAgICAgICAgICAgICAgICd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogc3RyKHJhbmRvbS5yYW5kaW50KDEwMCwgMjAwKSksDQogICAgICAgICAgICAgICAgJ2FjY2VwdC1sYW5ndWFnZSc6ICdpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNycgfSkNCiAgICAgICAgICAgIHAgPSByYW5hLmdldCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tJykNCiAgICAgICAgICAgIGIgPSByYW5hLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi5waHAnLCBkYXRhID0gew0KICAgICAgICAgICAgICAgICdlbWFpbCc6IHVpZCwNCiAgICAgICAgICAgICAgICAncGFzcyc6IHBhc3MxLA0KICAgICAgICAgICAgICAgICdsb2dpbic6ICdzdWJtaXQnIH0pDQogICAgICAgICAgICBpZiAnY191c2VyJyBpbiByYW5hLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQogICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5Mm1bSU1USUFaLU9LXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzMQ0KICAgICAgICAgICAgICAgIG9rID0gb3BlbignSU1USUFaLW9rLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICBvay53cml0ZSh1aWQgKyAnIHwgJyArIHBhc3MxICsgJ1xuJykNCiAgICAgICAgICAgICAgICBvay5jbG9zZSgpDQogICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh1aWQgKyBwYXNzMSkNCiAgICAgICAgICAgIGVsaWYgJ2NoZWNrcG9pbnQnIGluIHJhbmEuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCiAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkxbVtJTVRJQVotQ1BdICcgKyB1aWQgKyAnIHwgJyArIHBhc3MxDQogICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdJTVRJQVotY3AudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgIGNwLndyaXRlKHVpZCArICcgfCAnICsgcGFzczEgKyAnXG4nKQ0KICAgICAgICAgICAgICAgIGNwLmNsb3NlKCkNCiAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHVpZCArIHBhc3MxKQ0KICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICBwYXNzMiA9IGZpcnN0ICsgcHMxDQogICAgICAgICAgICAgICAgcmFuYSA9IHJlcXVlc3RzLlNlc3Npb24oKQ0KICAgICAgICAgICAgICAgIHJhbmEuaGVhZGVycy51cGRhdGUoew0KICAgICAgICAgICAgICAgICAgICAnSG9zdCc6ICdtYmFzaWMuZmFjZWJvb2suY29tJywNCiAgICAgICAgICAgICAgICAgICAgJ2NhY2hlLWNvbnRyb2wnOiAnbWF4LWFnZT0wJywNCiAgICAgICAgICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsDQogICAgICAgICAgICAgICAgICAgICd1c2VyLWFnZW50JzogbXlhZ2VudHMsDQogICAgICAgICAgICAgICAgICAgICdhY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCcsDQogICAgICAgICAgICAgICAgICAgICdhY2NlcHQtZW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZScsDQogICAgICAgICAgICAgICAgICAgICd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogc3RyKHJhbmRvbS5yYW5kaW50KDEwMCwgMjAwKSksDQogICAgICAgICAgICAgICAgICAgICdhY2NlcHQtbGFuZ3VhZ2UnOiAnaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcnIH0pDQogICAgICAgICAgICAgICAgcCA9IHJhbmEuZ2V0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nKQ0KICAgICAgICAgICAgICAgIGIgPSByYW5hLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi5waHAnLCBkYXRhID0gew0KICAgICAgICAgICAgICAgICAgICAnZW1haWwnOiB1aWQsDQogICAgICAgICAgICAgICAgICAgICdwYXNzJzogcGFzczIsDQogICAgICAgICAgICAgICAgICAgICdsb2dpbic6ICdzdWJtaXQnIH0pDQogICAgICAgICAgICAgICAgaWYgJ2NfdXNlcicgaW4gcmFuYS5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOg0KICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkybVtJTVRJQVotT0tdICcgKyB1aWQgKyAnIHwgJyArIHBhc3MyDQogICAgICAgICAgICAgICAgICAgIG9rID0gb3BlbignSU1USUFaLW9rLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgb2sud3JpdGUodWlkICsgJyB8ICcgKyBwYXNzMiArICdcbicpDQogICAgICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh1aWQgKyBwYXNzMikNCiAgICAgICAgICAgICAgICBlbGlmICdjaGVja3BvaW50JyBpbiByYW5hLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQogICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTFtW0lNVElBWi1DUF0gJyArIHVpZCArICcgfCAnICsgcGFzczINCiAgICAgICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdJTVRJQVotY3AudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICBjcC53cml0ZSh1aWQgKyAnIHwgJyArIHBhc3MyICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgY3AuY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHVpZCArIHBhc3MyKQ0KICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgIHBhc3MzID0gZmlyc3QgKyBwczINCiAgICAgICAgICAgICAgICAgICAgcmFuYSA9IHJlcXVlc3RzLlNlc3Npb24oKQ0KICAgICAgICAgICAgICAgICAgICByYW5hLmhlYWRlcnMudXBkYXRlKHsNCiAgICAgICAgICAgICAgICAgICAgICAgICdIb3N0JzogJ21iYXNpYy5mYWNlYm9vay5jb20nLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ2NhY2hlLWNvbnRyb2wnOiAnbWF4LWFnZT0wJywNCiAgICAgICAgICAgICAgICAgICAgICAgICd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogJzEnLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ3VzZXItYWdlbnQnOiBteWFnZW50cywNCiAgICAgICAgICAgICAgICAgICAgICAgICdhY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCcsDQogICAgICAgICAgICAgICAgICAgICAgICAnYWNjZXB0LWVuY29kaW5nJzogJ2d6aXAsIGRlZmxhdGUnLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiBzdHIocmFuZG9tLnJhbmRpbnQoMTAwLCAyMDApKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICdhY2NlcHQtbGFuZ3VhZ2UnOiAnaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcnIH0pDQogICAgICAgICAgICAgICAgICAgIHAgPSByYW5hLmdldCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tJykNCiAgICAgICAgICAgICAgICAgICAgYiA9IHJhbmEucG9zdCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luLnBocCcsIGRhdGEgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICAnZW1haWwnOiB1aWQsDQogICAgICAgICAgICAgICAgICAgICAgICAncGFzcyc6IHBhc3MzLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ2xvZ2luJzogJ3N1Ym1pdCcgfSkNCiAgICAgICAgICAgICAgICAgICAgaWYgJ2NfdXNlcicgaW4gcmFuYS5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOg0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5Mm1bSU1USUFaLU9LXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzMw0KICAgICAgICAgICAgICAgICAgICAgICAgb2sgPSBvcGVuKCdJTVRJQVotb2sudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgb2sud3JpdGUodWlkICsgJyB8ICcgKyBwYXNzMyArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICBvay5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVpZCArIHBhc3MzKQ0KICAgICAgICAgICAgICAgICAgICBlbGlmICdjaGVja3BvaW50JyBpbiByYW5hLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkxbVtJTVRJQVotQ1BdICcgKyB1aWQgKyAnIHwgJyArIHBhc3MzDQogICAgICAgICAgICAgICAgICAgICAgICBjcCA9IG9wZW4oJ0lNVElBWi1jcC50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICBjcC53cml0ZSh1aWQgKyAnIHwgJyArIHBhc3MzICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgIGNwLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgIGNwcy5hcHBlbmQodWlkICsgcGFzczMpDQogICAgICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgICAgICBwYXNzNCA9IGZpcnN0ICsgcHMzDQogICAgICAgICAgICAgICAgICAgICAgICByYW5hID0gcmVxdWVzdHMuU2Vzc2lvbigpDQogICAgICAgICAgICAgICAgICAgICAgICByYW5hLmhlYWRlcnMudXBkYXRlKHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnSG9zdCc6ICdtYmFzaWMuZmFjZWJvb2suY29tJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY2FjaGUtY29udHJvbCc6ICdtYXgtYWdlPTAnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogJzEnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICd1c2VyLWFnZW50JzogbXlhZ2VudHMsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44JywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYWNjZXB0LWVuY29kaW5nJzogJ2d6aXAsIGRlZmxhdGUnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogc3RyKHJhbmRvbS5yYW5kaW50KDEwMCwgMjAwKSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdC1sYW5ndWFnZSc6ICdpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNycgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHAgPSByYW5hLmdldCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tJykNCiAgICAgICAgICAgICAgICAgICAgICAgIGIgPSByYW5hLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi5waHAnLCBkYXRhID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdlbWFpbCc6IHVpZCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAncGFzcyc6IHBhc3M0LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdsb2dpbic6ICdzdWJtaXQnIH0pDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAnY191c2VyJyBpbiByYW5hLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5Mm1bSU1USUFaLU9LXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzNA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rID0gb3BlbignSU1USUFaLW9rLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvay53cml0ZSh1aWQgKyAnIHwgJyArIHBhc3M0ICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvay5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh1aWQgKyBwYXNzNCkNCiAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ2NoZWNrcG9pbnQnIGluIHJhbmEuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkxbVtJTVRJQVotQ1BdICcgKyB1aWQgKyAnIHwgJyArIHBhc3M0DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdJTVRJQVotY3AudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwLndyaXRlKHVpZCArICcgfCAnICsgcGFzczQgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHVpZCArIHBhc3M0KQ0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzNSA9IGxhc3QgKyBwczQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5hID0gcmVxdWVzdHMuU2Vzc2lvbigpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuYS5oZWFkZXJzLnVwZGF0ZSh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdIb3N0JzogJ21iYXNpYy5mYWNlYm9vay5jb20nLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY2FjaGUtY29udHJvbCc6ICdtYXgtYWdlPTAnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6ICcxJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3VzZXItYWdlbnQnOiBteWFnZW50cywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44JywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdC1lbmNvZGluZyc6ICdnemlwLCBkZWZsYXRlJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiBzdHIocmFuZG9tLnJhbmRpbnQoMTAwLCAyMDApKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdC1sYW5ndWFnZSc6ICdpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNycgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwID0gcmFuYS5nZXQoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYiA9IHJhbmEucG9zdCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luLnBocCcsIGRhdGEgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdlbWFpbCc6IHVpZCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Bhc3MnOiBwYXNzNSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2xvZ2luJzogJ3N1Ym1pdCcgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnY191c2VyJyBpbiByYW5hLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTJtW0lNVElBWi1PS10gJyArIHVpZCArICcgfCAnICsgcGFzczUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2sgPSBvcGVuKCdJTVRJQVotb2sudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvay53cml0ZSh1aWQgKyAnIHwgJyArIHBhc3M1ICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2suY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVpZCArIHBhc3M1KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ2NoZWNrcG9pbnQnIGluIHJhbmEuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5MW1bSU1USUFaLUNQXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzNQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcCA9IG9wZW4oJ0lNVElBWi1jcC50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwLndyaXRlKHVpZCArICcgfCAnICsgcGFzczUgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcC5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwcy5hcHBlbmQodWlkICsgcGFzczUpDQogICAgICAgIGV4Y2VwdDoNCiAgICAgICAgICAgIHBhc3MNCiAgICAgICAgDQoNCg0KICAgIHAgPSBUaHJlYWRQb29sKDMwKQ0KICAgIHAubWFwKG1haW4sIGlkeCkNCiAgICBwcmludCAnXHgxYlsxOzk3bScNCiAgICBwcmludCAzOSAqICctJw0KICAgIHByaW50ICdbIV0gY2xvbmluZyBjb21wbGV0ZSByZXN1bHQgLi4uLi4uLi4nDQogICAgcHJpbnQgMzkgKiAnLScNCiAgICBwcmludCAnWyFdIHRvdGFsIG9rIGlkcyA6ICcgKyBzdHIobGVuKG9rcykpDQogICAgcHJpbnQgJ1shXSB0b3RhbCBjcCBpZHMgOiAnICsgc3RyKGxlbihjcHMpKQ0KICAgIHByaW50IDM5ICogJy0nDQogICAgcHJpbnQgJycNCiAgICByYXdfaW5wdXQoJyBQcmVzcyBlbnRlciB0byBiYWNrICcpDQogICAgZmJfbWVudSgpDQoNCg0KZGVmIG5fcF9wYXNzKCk6DQogICAgaWQxID0gJzQnDQogICAgaWQyID0gJzQnDQogICAgaWQzID0gJzQnDQogICAgaWQ0ID0gJzQnDQogICAgaWQ1ID0gJzQnDQogICAgdG9rZW4gPSBvcGVuKCd0b2tlbi50eHQnLCAncicpLnJlYWQoKQ0KICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgIHByaW50IGxvZ28NCiAgICBwcmludCAnJw0KICAgIHByaW50ICcgWyBNYXhpbXVtIExpbWl0IDUgXScNCiAgICBwcmludCAnJw0KICAgIHR5ID0gcmF3X2lucHV0KCdbIV0gaG93IG1hbnkgcGFzcyBEbyBZb3UgV2FudCBUbyBBZGQgOiAnKQ0KICAgIGlmIHR5ID09ICcxJzoNCiAgICAgICAgcHJpbnQgJycNCiAgICAgICAgcHMxID0gcmF3X2lucHV0KCdbMV0gRW50ZXIgZGlnaXQgOiAnKQ0KICAgIGVsaWYgdHkgPT0gJzInOg0KICAgICAgICBwczEgPSByYXdfaW5wdXQoJ1sxXSBFbnRlciBkaWdpdCA6ICcpDQogICAgICAgIHBzMiA9IHJhd19pbnB1dCgnWzJdIEVudGVyIGRpZ2l0IDogJykNCiAgICBlbGlmIHR5ID09ICczJzoNCiAgICAgICAgcHMxID0gcmF3X2lucHV0KCdbMV0gRW50ZXIgZGlnaXQgOiAnKQ0KICAgICAgICBwczIgPSByYXdfaW5wdXQoJ1syXSBFbnRlciBkaWdpdCA6ICcpDQogICAgICAgIHBzMyA9IHJhd19pbnB1dCgnWzNdIEVudGVyIGRpZ2l0IDogJykNCiAgICBlbGlmIHR5ID09ICc0JzoNCiAgICAgICAgcHMxID0gcmF3X2lucHV0KCdbMV0gRW50ZXIgZGlnaXQgOiAnKQ0KICAgICAgICBwczIgPSByYXdfaW5wdXQoJ1syXSBFbnRlciBkaWdpdCA6ICcpDQogICAgICAgIHBzMyA9IHJhd19pbnB1dCgnWzNdIEVudGVyIGRpZ2l0IDogJykNCiAgICAgICAgcHM0ID0gcmF3X2lucHV0KCdbNF0gRW50ZXIgZGlnaXQgOiAnKQ0KICAgIGVsaWYgdHkgPT0gJzUnOg0KICAgICAgICBwczEgPSByYXdfaW5wdXQoJ1sxXSBFbnRlciBkaWdpdCA6ICcpDQogICAgICAgIHBzMiA9IHJhd19pbnB1dCgnWzJdIEVudGVyIGRpZ2l0IDogJykNCiAgICAgICAgcHMzID0gcmF3X2lucHV0KCdbM10gRW50ZXIgZGlnaXQgOiAnKQ0KICAgICAgICBwczQgPSByYXdfaW5wdXQoJ1s0XSBFbnRlciBkaWdpdCA6ICcpDQogICAgICAgIHBzNSA9IHJhd19pbnB1dCgnWzVdIEVudGVyIGRpZ2l0IDogJykNCiAgICBwcmludCAnJw0KICAgIHByaW50ICcgWyBNYXhpbXVtIExpbWl0IDUgXScNCiAgICBwcmludCAnJw0KICAgIHR5ID0gcmF3X2lucHV0KCdbIV0gSG93IE1hbnkgTGlua3MgRG8gWW91IFdhbnQgVG8gQ2xvbmU6ICcpDQogICAgcHJpbnQgJycNCiAgICBpZiB0eSA9PSAnMSc6DQogICAgICAgIHByaW50ICcnDQogICAgICAgIGlkdCA9IHJhd19pbnB1dCgnWzFdIEVudGVyIElEIDogJykNCiAgICBlbGlmIHR5ID09ICcyJzoNCiAgICAgICAgaWR0ID0gcmF3X2lucHV0KCdbMV0gRW50ZXIgSUQgOiAnKQ0KICAgICAgICBpZDIgPSByYXdfaW5wdXQoJ1syXSBFbnRlciBJRCA6ICcpDQogICAgZWxpZiB0eSA9PSAnMyc6DQogICAgICAgIGlkdCA9IHJhd19pbnB1dCgnWzFdIEVudGVyIElEIDogJykNCiAgICAgICAgaWQyID0gcmF3X2lucHV0KCdbMl0gRW50ZXIgSUQgOiAnKQ0KICAgICAgICBpZDMgPSByYXdfaW5wdXQoJ1szXSBFbnRlciBJRCA6ICcpDQogICAgZWxpZiB0eSA9PSAnNCc6DQogICAgICAgIGlkdCA9IHJhd19pbnB1dCgnWzFdIEVudGVyIElEIDogJykNCiAgICAgICAgaWQyID0gcmF3X2lucHV0KCdbMl0gRW50ZXIgSUQgOiAnKQ0KICAgICAgICBpZDMgPSByYXdfaW5wdXQoJ1szXSBFbnRlciBJRCA6ICcpDQogICAgICAgIGlkNCA9IHJhd19pbnB1dCgnWzRdIEVudGVyIElEIDogJykNCiAgICBlbGlmIHR5ID09ICc1JzoNCiAgICAgICAgaWR0ID0gcmF3X2lucHV0KCdbMV0gRW50ZXIgSUQgOiAnKQ0KICAgICAgICBpZDIgPSByYXdfaW5wdXQoJ1syXSBFbnRlciBJRCA6ICcpDQogICAgICAgIGlkMyA9IHJhd19pbnB1dCgnWzNdIEVudGVyIElEIDogJykNCiAgICAgICAgaWQ0ID0gcmF3X2lucHV0KCdbNF0gRW50ZXIgSUQgOiAnKQ0KICAgICAgICBpZDUgPSByYXdfaW5wdXQoJ1s1XSBFbnRlciBJRCA6ICcpDQogICAgZWxzZToNCiAgICAgICAgcHJpbnQgJ2ludmxpZCBvcHRpb24nDQogICAgICAgIHRpbWUuc2xlZXAoMikNCiAgICAgICAgZmJfbWVudSgpDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGlkdCArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgaWR4LmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICANCiAgICByMiA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGlkMiArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIyLnRleHQpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIGlkeC5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgDQogICAgcjMgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBpZDMgKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyMy50ZXh0KQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICBpZHguYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgIA0KICAgIHI0ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgaWQ0ICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMocjQudGV4dCkNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgaWR4LmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICANCiAgICByNSA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGlkNSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHI1LnRleHQpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIGlkeC5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgDQogICAgcHJpbnQgJ1shXSB0b3RhbCBpZHMgOiAnICsgc3RyKGxlbihpZHgpKQ0KICAgIG9zLnN5c3RlbSgnZWNobyAiIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tInwgbG9sY2F0JykNCiAgICBwcmludCAnICAgICAgICBDcmFja2luZyBTdGFydCBQbGVhc2UgV2FpdCAuLiAnDQogICAgcHJpbnQgJyBBZ2FyIElkeiBOaGkgQWEgUmFoZSBUbyAoQWlycGxhbmUpIEZsaWdodCBNb2QgVXNlIEtybycNCiAgICBvcy5zeXN0ZW0oJ2VjaG8gIiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSJ8IGxvbGNhdCcpDQogICAgDQogICAgZGVmIG1haW4oYXJnKToNCiAgICAgICAgdXNlciA9IGFyZw0KICAgICAgICAodWlkLCBuYW1lKSA9IHVzZXIuc3BsaXQoJ3wnKQ0KICAgICAgICBuYW1lID0gbmFtZS5sb3dlcigpDQogICAgICAgIA0KICAgICAgICB0cnk6DQogICAgICAgICAgICBmaXJzdCA9IG5hbWUucnNwbGl0KCcgJylbMF0NCiAgICAgICAgICAgIGxhc3QgPSBuYW1lLnJzcGxpdCgnICcpWzFdDQogICAgICAgICAgICBwYXNzMSA9IG5hbWUNCiAgICAgICAgICAgIGRhdGEgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIHVpZCArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBwYXNzMSArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnLCBoZWFkZXJzID0gaGVhZGVyKS50ZXh0DQogICAgICAgICAgICBxID0ganNvbi5sb2FkcyhkYXRhKQ0KICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gcToNCiAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkybVtJTVRJQVotT0tdICcgKyB1aWQgKyAnIHwgJyArIHBhc3MxDQogICAgICAgICAgICAgICAgb2sgPSBvcGVuKCdJTVRJQVotb2sudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgIG9rLndyaXRlKHVpZCArICcgfCAnICsgcGFzczEgKyAnXG4nKQ0KICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkNCiAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVpZCArIHBhc3MxKQ0KICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsnZXJyb3JfbXNnJ106DQogICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5MW1bSU1USUFaLUNQXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzMQ0KICAgICAgICAgICAgICAgIGNwID0gb3BlbignSU1USUFaLWNwLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICBjcC53cml0ZSh1aWQgKyAnIHwgJyArIHBhc3MxICsgJ1xuJykNCiAgICAgICAgICAgICAgICBjcC5jbG9zZSgpDQogICAgICAgICAgICAgICAgY3BzLmFwcGVuZCh1aWQgKyBwYXNzMSkNCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgcGFzczIgPSBmaXJzdCArIHBzMQ0KICAgICAgICAgICAgICAgIGRhdGEgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIHVpZCArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBwYXNzMiArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnLCBoZWFkZXJzID0gaGVhZGVyKS50ZXh0DQogICAgICAgICAgICAgICAgcSA9IGpzb24ubG9hZHMoZGF0YSkNCiAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiBxOg0KICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkybVtJTVRJQVotT0tdICcgKyB1aWQgKyAnIHwgJyArIHBhc3MyDQogICAgICAgICAgICAgICAgICAgIG9rID0gb3BlbignSU1USUFaLW9rLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgb2sud3JpdGUodWlkICsgJyB8ICcgKyBwYXNzMiArICdcbicpDQogICAgICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh1aWQgKyBwYXNzMikNCiAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWydlcnJvcl9tc2cnXToNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5MW1bSU1USUFaLUNQXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzMg0KICAgICAgICAgICAgICAgICAgICBjcCA9IG9wZW4oJ0lNVElBWi1jcC50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgIGNwLndyaXRlKHVpZCArICcgfCAnICsgcGFzczIgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICBjcC5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgIGNwcy5hcHBlbmQodWlkICsgcGFzczIpDQogICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgcGFzczMgPSBmaXJzdCArIHBzMg0KICAgICAgICAgICAgICAgICAgICBkYXRhID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyB1aWQgKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgcGFzczMgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JywgaGVhZGVycyA9IGhlYWRlcikudGV4dA0KICAgICAgICAgICAgICAgICAgICBxID0ganNvbi5sb2FkcyhkYXRhKQ0KICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiBxOg0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5Mm1bSU1USUFaLU9LXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzMw0KICAgICAgICAgICAgICAgICAgICAgICAgb2sgPSBvcGVuKCdJTVRJQVotb2sudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgb2sud3JpdGUodWlkICsgJyB8ICcgKyBwYXNzMyArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICBvay5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVpZCArIHBhc3MzKQ0KICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWydlcnJvcl9tc2cnXToNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTFtW0lNVElBWi1DUF0gJyArIHVpZCArICcgfCAnICsgcGFzczMNCiAgICAgICAgICAgICAgICAgICAgICAgIGNwID0gb3BlbignSU1USUFaLWNwLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgIGNwLndyaXRlKHVpZCArICcgfCAnICsgcGFzczMgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgY3AuY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgY3BzLmFwcGVuZCh1aWQgKyBwYXNzMykNCiAgICAgICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgICAgIHBhc3M0ID0gZmlyc3QgKyBwczMNCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIHVpZCArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBwYXNzNCArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnLCBoZWFkZXJzID0gaGVhZGVyKS50ZXh0DQogICAgICAgICAgICAgICAgICAgICAgICBxID0ganNvbi5sb2FkcyhkYXRhKQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gcToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkybVtJTVRJQVotT0tdICcgKyB1aWQgKyAnIHwgJyArIHBhc3M0DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2sgPSBvcGVuKCdJTVRJQVotb2sudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rLndyaXRlKHVpZCArICcgfCAnICsgcGFzczQgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVpZCArIHBhc3M0KQ0KICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsnZXJyb3JfbXNnJ106DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5MW1bSU1USUFaLUNQXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzNA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwID0gb3BlbignSU1USUFaLWNwLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcC53cml0ZSh1aWQgKyAnIHwgJyArIHBhc3M0ICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcC5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3BzLmFwcGVuZCh1aWQgKyBwYXNzNCkNCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzczUgPSBsYXN0ICsgcHM0DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0nICsgdWlkICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIHBhc3M1ICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNicsIGhlYWRlcnMgPSBoZWFkZXIpLnRleHQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxID0ganNvbi5sb2FkcyhkYXRhKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIHE6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTJtW0lNVElBWi1PS10gJyArIHVpZCArICcgfCAnICsgcGFzczUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2sgPSBvcGVuKCdJTVRJQVotb2sudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvay53cml0ZSh1aWQgKyAnIHwgJyArIHBhc3M1ICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2suY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVpZCArIHBhc3M1KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbJ2Vycm9yX21zZyddOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkxbVtJTVRJQVotQ1BdICcgKyB1aWQgKyAnIHwgJyArIHBhc3M1DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwID0gb3BlbignSU1USUFaLWNwLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Aud3JpdGUodWlkICsgJyB8ICcgKyBwYXNzNSArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3BzLmFwcGVuZCh1aWQgKyBwYXNzNSkNCiAgICAgICAgZXhjZXB0Og0KICAgICAgICAgICAgcGFzcw0KICAgICAgICANCg0KDQogICAgcCA9IFRocmVhZFBvb2woMzApDQogICAgcC5tYXAobWFpbiwgaWR4KQ0KICAgIHByaW50ICdceDFiWzE7OTdtJw0KICAgIHByaW50IDM5ICogJy0nDQogICAgcHJpbnQgJ1shXSBjbG9uaW5nIGNvbXBsZXRlIHJlc3VsdCAuLi4uLi4uLicNCiAgICBwcmludCAzOSAqICctJw0KICAgIHByaW50ICdbIV0gdG90YWwgb2sgaWRzIDogJyArIHN0cihsZW4ob2tzKSkNCiAgICBwcmludCAnWyFdIHRvdGFsIGNwIGlkcyA6ICcgKyBzdHIobGVuKGNwcykpDQogICAgcHJpbnQgMzkgKiAnLScNCiAgICBwcmludCAnJw0KICAgIHJhd19pbnB1dCgnIFByZXNzIGVudGVyIHRvIGJhY2sgJykNCiAgICBmYl9tZW51KCkNCg0KDQpkZWYgbl9wX3Bhc3MoKToNCiAgICBpZDIgPSAnNCcNCiAgICBpZDMgPSAnNCcNCiAgICBpZDQgPSAnNCcNCiAgICBpZDUgPSAnNCcNCiAgICB0b2tlbiA9IG9wZW4oJ3Rva2VuLnR4dCcsICdyJykucmVhZCgpDQogICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgcHJpbnQgbG9nbw0KICAgIHByaW50ICcnDQogICAgcHJpbnQgJ0V4YW1wbGUgMTIzICsgMTIzNCArIDEyMzQ1ICsgNzg2Jw0KICAgIHByaW50ICcnDQogICAgcHMxID0gcmF3X2lucHV0KCdbMV0gbmFtZSArIGRpZ2l0IDogJykNCiAgICBwczIgPSByYXdfaW5wdXQoJ1syXSBuYW1lICsgZGlnaXQgOiAnKQ0KICAgIHBzMyA9IHJhd19pbnB1dCgnWzRdIG5hbWUgKyBkaWdpdCA6ICcpDQogICAgcHM0ID0gcmF3X2lucHV0KCdbNF0gTGFzdCArIE5hbWUgIDogJykNCg0KDQpkZWYgcF9wX3Bhc3MoKToNCiAgICBpZDIgPSAnNCcNCiAgICBpZDMgPSAnNCcNCiAgICBpZDQgPSAnNCcNCiAgICBpZDUgPSAnNCcNCiAgICB0b2tlbiA9IG9wZW4oJ3Rva2VuLnR4dCcsICdyJykucmVhZCgpDQogICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgcHJpbnQgbG9nbw0KICAgIHByaW50ICcnDQogICAgcHJpbnQgJyBbIE1heGltdW0gTGltaXQgNSBdJw0KICAgIHByaW50ICcnDQogICAgdHkgPSByYXdfaW5wdXQoJ1shXSBIb3cgTWFueSBQYXNzIERvIFlvdSBXYW50IFRvIEFkZDogJykNCiAgICBwcmludCAnJw0KICAgIGlmIHR5ID09ICcxJzoNCiAgICAgICAgcHJpbnQgJycNCiAgICAgICAgcHMxID0gcmF3X2lucHV0KCdbMV0gRW50ZXIgUGFzcyA6ICcpDQogICAgZWxpZiB0eSA9PSAnMic6DQogICAgICAgIHBzMSA9IHJhd19pbnB1dCgnWzFdIEVudGVyIFBhc3MgOiAnKQ0KICAgICAgICBwczEgPSByYXdfaW5wdXQoJ1syXSBFbnRlciBQYXNzIDogJykNCiAgICBlbGlmIHR5ID09ICczJzoNCiAgICAgICAgcHMxID0gcmF3X2lucHV0KCdbMV0gRW50ZXIgUGFzcyA6ICcpDQogICAgICAgIHBzMSA9IHJhd19pbnB1dCgnWzJdIEVudGVyIFBhc3MgOiAnKQ0KICAgICAgICBwczEgPSByYXdfaW5wdXQoJ1szXSBFbnRlciBQYXNzIDogJykNCiAgICBlbGlmIHR5ID09ICc0JzoNCiAgICAgICAgcHMxID0gcmF3X2lucHV0KCdbMV0gRW50ZXIgUGFzcyA6ICcpDQogICAgICAgIHBzMSA9IHJhd19pbnB1dCgnWzJdIEVudGVyIFBhc3MgOiAnKQ0KICAgICAgICBwczEgPSByYXdfaW5wdXQoJ1szXSBFbnRlciBQYXNzIDogJykNCiAgICAgICAgcHMxID0gcmF3X2lucHV0KCdbNF0gRW50ZXIgUGFzcyA6ICcpDQogICAgZWxpZiB0eSA9PSAnNSc6DQogICAgICAgIHBzMSA9IHJhd19pbnB1dCgnWzFdIEVudGVyIFBhc3MgOiAnKQ0KICAgICAgICBwczEgPSByYXdfaW5wdXQoJ1syXSBFbnRlciBQYXNzIDogJykNCiAgICAgICAgcHMxID0gcmF3X2lucHV0KCdbM10gRW50ZXIgUGFzcyA6ICcpDQogICAgICAgIHBzMSA9IHJhd19pbnB1dCgnWzRdIEVudGVyIFBhc3MgOiAnKQ0KICAgICAgICBwczEgPSByYXdfaW5wdXQoJ1s1XSBFbnRlciBQYXNzIDogJykNCiAgICBwcmludCAnJw0KICAgIHByaW50ICcgWyBNYXhpbXVtIExpbWl0NSBdJw0KICAgIHByaW50ICcnDQogICAgdHkgPSByYXdfaW5wdXQoJ1shXSBIb3cgTWFueSBMaW5rcyBEbyBZb3UgV2FudCBUbyBDbG9uZSA6ICcpDQogICAgcHJpbnQgJycNCiAgICBpZiB0eSA9PSAnMSc6DQogICAgICAgIHByaW50ICcnDQogICAgICAgIGlkdCA9IHJhd19pbnB1dCgnWzFdIEVudGVyIElEIDogJykNCiAgICBlbGlmIHR5ID09ICcyJzoNCiAgICAgICAgaWR0ID0gcmF3X2lucHV0KCdbMV0gRW50ZXIgSUQgOiAnKQ0KICAgICAgICBpZDIgPSByYXdfaW5wdXQoJ1syXSBFbnRlciBJRCA6ICcpDQogICAgZWxpZiB0eSA9PSAnMyc6DQogICAgICAgIGlkdCA9IHJhd19pbnB1dCgnWzFdIEVudGVyIElEIDogJykNCiAgICAgICAgaWQyID0gcmF3X2lucHV0KCdbMl0gRW50ZXIgSUQgOiAnKQ0KICAgICAgICBpZDMgPSByYXdfaW5wdXQoJ1szXSBFbnRlciBJRCA6ICcpDQogICAgZWxpZiB0eSA9PSAnNCc6DQogICAgICAgIGlkdCA9IHJhd19pbnB1dCgnWzFdIEVudGVyIElEIDogJykNCiAgICAgICAgaWQyID0gcmF3X2lucHV0KCdbMl0gRW50ZXIgSUQgOiAnKQ0KICAgICAgICBpZDMgPSByYXdfaW5wdXQoJ1szXSBFbnRlciBJRCA6ICcpDQogICAgICAgIGlkNCA9IHJhd19pbnB1dCgnWzRdIEVudGVyIElEIDogJykNCiAgICBlbGlmIHR5ID09ICc1JzoNCiAgICAgICAgaWR0ID0gcmF3X2lucHV0KCdbMV0gRW50ZXIgSUQgOiAnKQ0KICAgICAgICBpZDIgPSByYXdfaW5wdXQoJ1syXSBFbnRlciBJRCA6ICcpDQogICAgICAgIGlkMyA9IHJhd19pbnB1dCgnWzNdIEVudGVyIElEIDogJykNCiAgICAgICAgaWQ0ID0gcmF3X2lucHV0KCdbNF0gRW50ZXIgSUQgOiAnKQ0KICAgICAgICBpZDUgPSByYXdfaW5wdXQoJ1s1XSBFbnRlciBJRCA6ICcpDQogICAgZWxzZToNCiAgICAgICAgcHJpbnQgJ2ludmxpZCBvcHRpb24nDQogICAgICAgIHRpbWUuc2xlZXAoMikNCiAgICAgICAgZmJfbWVudSgpDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGlkdCArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgaWR4LmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICANCiAgICByMiA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGlkMiArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIyLnRleHQpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIGlkeC5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgDQogICAgcjMgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBpZDMgKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyMy50ZXh0KQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICBpZHguYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgIA0KICAgIHI0ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgaWQ0ICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMocjQudGV4dCkNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgaWR4LmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICANCiAgICByNSA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGlkNSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHI1LnRleHQpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIGlkeC5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgDQogICAgcHJpbnQgJ1shXSB0b3RhbCBpZHMgOiAnICsgc3RyKGxlbihpZHgpKQ0KICAgIG9zLnN5c3RlbSgnZWNobyAiIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tInwgbG9sY2F0JykNCiAgICBwcmludCAnICAgQ3JhY2tpbmcgU3RhcnQgUGxlYXNlIFdhaXQgLi4nDQogICAgcHJpbnQgJyAgVXNlIEZsaWdodCBNb2RlIEZvciBTcGVlZCBVcCcNCiAgICBvcy5zeXN0ZW0oJ2VjaG8gIiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSJ8IGxvbGNhdCcpDQogICAgDQogICAgZGVmIG1haW4oYXJnKToNCiAgICAgICAgdXNlciA9IGFyZw0KICAgICAgICAodWlkLCBuYW1lKSA9IHVzZXIuc3BsaXQoJ3wnKQ0KICAgICAgICBuYW1lID0gbmFtZS5sb3dlcigpDQogICAgICAgIA0KICAgICAgICB0cnk6DQogICAgICAgICAgICBwYXNzMSA9IHBzMQ0KICAgICAgICAgICAgZGF0YSA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0nICsgdWlkICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIHBhc3MxICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNicsIGhlYWRlcnMgPSBoZWFkZXIpLnRleHQNCiAgICAgICAgICAgIHEgPSBqc29uLmxvYWRzKGRhdGEpDQogICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiBxOg0KICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTJtW0lNVElBWi1PS10gJyArIHVpZCArICcgfCAnICsgcGFzczENCiAgICAgICAgICAgICAgICBvayA9IG9wZW4oJ0lNVElBWi1vay50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgb2sud3JpdGUodWlkICsgJyB8ICcgKyBwYXNzMSArICdcbicpDQogICAgICAgICAgICAgICAgb2suY2xvc2UoKQ0KICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodWlkICsgcGFzczEpDQogICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWydlcnJvcl9tc2cnXToNCiAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkxbVtJTVRJQVotQ1BdICcgKyB1aWQgKyAnIHwgJyArIHBhc3MxDQogICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdJTVRJV1otY3AudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgIGNwLndyaXRlKHVpZCArICcgfCAnICsgcGFzczEgKyAnXG4nKQ0KICAgICAgICAgICAgICAgIGNwLmNsb3NlKCkNCiAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHVpZCArIHBhc3MxKQ0KICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICBwYXNzMiA9IHBzMg0KICAgICAgICAgICAgICAgIGRhdGEgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIHVpZCArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBwYXNzMiArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnLCBoZWFkZXJzID0gaGVhZGVyKS50ZXh0DQogICAgICAgICAgICAgICAgcSA9IGpzb24ubG9hZHMoZGF0YSkNCiAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiBxOg0KICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkybVtJTVRJQVotT0tdICcgKyB1aWQgKyAnIHwgJyArIHBhc3MyDQogICAgICAgICAgICAgICAgICAgIG9rID0gb3BlbignSU1USUFaLW9rLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgb2sud3JpdGUodWlkICsgJyB8ICcgKyBwYXNzMiArICdcbicpDQogICAgICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh1aWQgKyBwYXNzMikNCiAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWydlcnJvcl9tc2cnXToNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5MW1bSU1USUFaLUNQXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzMg0KICAgICAgICAgICAgICAgICAgICBjcCA9IG9wZW4oJ0lNVElBWi1jcC50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgIGNwLndyaXRlKHVpZCArICcgfCAnICsgcGFzczIgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICBjcC5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgIGNwcy5hcHBlbmQodWlkICsgcGFzczIpDQogICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgcGFzczMgPSBwczMNCiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0nICsgdWlkICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIHBhc3MzICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNicsIGhlYWRlcnMgPSBoZWFkZXIpLnRleHQNCiAgICAgICAgICAgICAgICAgICAgcSA9IGpzb24ubG9hZHMoZGF0YSkNCiAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gcToNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTJtW0lNVElBWi1PS10gJyArIHVpZCArICcgfCAnICsgcGFzczMNCiAgICAgICAgICAgICAgICAgICAgICAgIG9rID0gb3BlbignSU1USUFaLW9rLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgIG9rLndyaXRlKHVpZCArICcgfCAnICsgcGFzczMgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgb2suY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh1aWQgKyBwYXNzMykNCiAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsnZXJyb3JfbXNnJ106DQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkxbVtJTVRJQVotQ1BdICcgKyB1aWQgKyAnIHwgJyArIHBhc3MzDQogICAgICAgICAgICAgICAgICAgICAgICBjcCA9IG9wZW4oJ0lNVElBWi1jcC50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICBjcC53cml0ZSh1aWQgKyAnIHwgJyArIHBhc3MzICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgIGNwLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgIGNwcy5hcHBlbmQodWlkICsgcGFzczMpDQogICAgICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgICAgICBwYXNzNCA9IHBzNA0KICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0nICsgdWlkICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIHBhc3M0ICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNicsIGhlYWRlcnMgPSBoZWFkZXIpLnRleHQNCiAgICAgICAgICAgICAgICAgICAgICAgIHEgPSBqc29uLmxvYWRzKGRhdGEpDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiBxOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTJtW0lNVElBWi1PS10gJyArIHVpZCArICcgfCAnICsgcGFzczQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvayA9IG9wZW4oJ0lNVElBWi1vay50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2sud3JpdGUodWlkICsgJyB8ICcgKyBwYXNzNCArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2suY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodWlkICsgcGFzczQpDQogICAgICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWydlcnJvcl9tc2cnXToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkxbVtJTVRJQVotQ1BdICcgKyB1aWQgKyAnIHwgJyArIHBhc3M0DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdJTVRJQVotY3AudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwLndyaXRlKHVpZCArICcgfCAnICsgcGFzczQgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHVpZCArIHBhc3M0KQ0KICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICBwYXNzDQogICAgICAgIA0KDQoNCiAgICBwID0gVGhyZWFkUG9vbCgzMCkNCiAgICBwLm1hcChtYWluLCBpZHgpDQogICAgcHJpbnQgJ1x4MWJbMTs5N20nDQogICAgcHJpbnQgMzkgKiAnLScNCiAgICBwcmludCAnWyFdIENsb25pbmcgQ29tcGxldGUgUmVzdWx0IC4uLi4uLi4uJw0KICAgIHByaW50IDM5ICogJy0nDQogICAgcHJpbnQgJ1shXSBUb3RhbCBPayBJZHM6ICcgKyBzdHIobGVuKG9rcykpDQogICAgcHJpbnQgJ1shXSBUb3RhbCBDcCBJZHMgOiAnICsgc3RyKGxlbihjcHMpKQ0KICAgIHByaW50IDM5ICogJy0nDQogICAgcHJpbnQgJycNCiAgICByYXdfaW5wdXQoJyBQcmVzcyBFbnRlciBUbyBCYWNrJykNCiAgICBmYl9tZW51KCkNCg0KDQpkZWYgZ3JhcCgpOg0KICAgIGlmIGRlYyBpbiBzZXJ2ZXI6DQogICAgICAgIHBhc3MNCiAgICBub3RmKCkNCiAgICANCiAgICB0cnk6DQogICAgICAgIHRva2VuID0gb3BlbigndG9rZW4udHh0JywgJ3InKS5yZWFkKCkNCiAgICBleGNlcHQ6DQogICAgICAgIDENCiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgICAgIHByaW50IGxvZ28NCiAgICAgICAgcHJpbnQgMzkgKiAnLScNCiAgICAgICAgcHJpbnQgJ1x4MWJbMTs5Mm1cblsxXSBMb2dpbiBXaXRoIFRva2VuJw0KICAgICAgICBwcmludCAnXHgxYlsxOzkzbVxuWzBdIEJhY2snDQogICAgICAgIHByaW50IDM5ICogJy0nDQogICAgICAgIHBwID0gcmF3X2lucHV0KCdceDFiWzE7OTRtXG5TZWxlY3QgOlx4MWJbMTs5MW0gJykNCiAgICAgICAgaWYgcHAgPT0gJzEnOg0KICAgICAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgICAgICAgICBwcmludCBsb2dvDQogICAgICAgICAgICBwcmludCAnXHgxYlsxOzkxbVxuWypdIEVudGVyIFlvdXIgVG9rZW4gSGVhcicNCiAgICAgICAgICAgIHByaW50ICcnDQogICAgICAgICAgICB0b2sgPSByYXdfaW5wdXQoJ1x4MWJbMTs5Mm1cblsqXVBBU1RFIFRPS0VOIDpceDFiWzE7OTdtICcpDQogICAgICAgICAgICBqID0gb3BlbigndG9rZW4udHh0JywgJ3cnKQ0KICAgICAgICAgICAgai53cml0ZSh0b2spDQogICAgICAgICAgICBqLmNsb3NlKCkNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lP2FjY2Vzc190b2tlbj0nICsgdG9rKQ0KICAgICAgICAgICAgICAgIHEgPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICAgICAgICAgICAgICBtID0gcVsnbmFtZSddDQogICAgICAgICAgICAgICAgcHJpbnQgJycNCiAgICAgICAgICAgICAgICBwcmludCAnV0VMQ09NRSA6ICcgKyBtDQogICAgICAgICAgICAgICAgdGltZS5zbGVlcCgyKQ0KICAgICAgICAgICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgICAgICAgICAgICAgIGdyYXAoKQ0KICAgICAgICAgICAgZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KICAgICAgICAgICAgICAgIHByaW50IGxvZ28NCiAgICAgICAgICAgICAgICBwcmludCAnJw0KICAgICAgICAgICAgICAgIHByaW50ICdUcnVuIE9uIERhdGEgQW4gVGhlbiBcdCcNCiAgICAgICAgICAgICAgICBwcmludCAnJw0KICAgICAgICAgICAgZXhjZXB0Og0KICAgICAgICAgICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgICAgICAgICAgICAgIHByaW50ICcnDQogICAgICAgICAgICAgICAgcHJpbnQgJycNCiAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkxbSAgICAgWW91ciBUb2tlbiBJcyBFeHBpcmUnDQogICAgICAgICAgICAgICAgdGltZS5zbGVlcCgzKQ0KICAgICAgICAgICAgICAgIG9zLnN5c3RlbSgncm0gLXJmIHRva2VuLnR4dCcpDQogICAgICAgICAgICAgICAgb3Muc3lzdGVtKCdybSAtcmYgZmlsZS50eHQnKQ0KICAgICAgICAgICAgICAgIG9zLnN5c3RlbSgncm0gLXJmIG5ld2xpbmtzLnR4dCcpDQogICAgICAgICAgICAgICAgbWFpbl9zeXN0ZW0oKQ0KICAgICAgICAgICAgDQoNCiAgICAgICAgbWFpbl9zeXN0ZW0oKQ0KICAgICAgICBwcmludCBsb2dvDQogICAgICAgIHByaW50ICcnDQogICAgICAgIHByaW50ICcnDQogICAgICAgIHByaW50ICdceDFiWzE7OTFtICAgICBbIEZpbGUgTWFraW5nIF0nDQogICAgICAgIHByaW50ICcnDQogICAgICAgIHByaW50ICdceDFiWzE7OTJtICBbIE1heGltdW0gTGltaXQgMTAgSURzIF0nDQogICAgICAgIHByaW50ICcnDQogICAgICAgIGMgPSByYXdfaW5wdXQoJ1x4MWJbMTs5Nm1bKl0gSG93IE1hbnkgTGlua3MgRG8gWW91IFdhbnQgVG8gRHVtcCA6ICcpDQogICAgICAgIGlmIGMgPT0gJzEnOg0KICAgICAgICAgICAgZXh0MSgpDQogICAgICAgIGVsaWYgYyA9PSAnMic6DQogICAgICAgICAgICBleHQyKCkNCiAgICAgICAgZWxpZiBjID09ICczJzoNCiAgICAgICAgICAgIGV4dDMoKQ0KICAgICAgICBlbGlmIGMgPT0gJzQnOg0KICAgICAgICAgICAgZXh0NCgpDQogICAgICAgIGVsaWYgYyA9PSAnNSc6DQogICAgICAgICAgICBleHQ1KCkNCiAgICAgICAgZWxpZiBjID09ICc2JzoNCiAgICAgICAgICAgIGV4dDYoKQ0KICAgICAgICBlbGlmIGMgPT0gJzcnOg0KICAgICAgICAgICAgZXh0NygpDQogICAgICAgIGVsaWYgYyA9PSAnOCc6DQogICAgICAgICAgICBleHQ4KCkNCiAgICAgICAgZWxpZiBjID09ICc5JzoNCiAgICAgICAgICAgIGV4dDkoKQ0KICAgICAgICBlbGlmIGMgPT0gJzEwJzoNCiAgICAgICAgICAgIGV4dDEwKCkNCiAgICAgICAgZWxzZToNCiAgICAgICAgICAgIG1haW5fc3lzdGVtKCkNCiAgICAgICAgbWFpbl9zeXN0ZW0oKQ0KDQoNCg0KZGVmIG1pbmVFeHQoKToNCiAgICBob2sgPSAnam9rLnR4dCcNCiAgICBjb3VudCA9IFtdDQogICAgcmFuYSA9IFtdDQogICAgDQogICAgdHJ5Og0KICAgICAgICB0b2tlbiA9IG9wZW4oJ3Rva2VuLnR4dCcsICdyJykucmVhZCgpDQogICAgZXhjZXB0Og0KICAgICAgICBtYWluX3N5c3RlbSgpDQoNCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICBwcmludCBsb2dvDQogICAgcHJpbnQgJycNCiAgICBpaWlkID0gcmF3X2lucHV0KCdbKl0gRW50ZXIgSUQgOiAnKQ0KICAgIHJycCA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGlpaWQgKyAnP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgcSA9IGpzb24ubG9hZHMocnJwLnRleHQpDQogICAgbmlkID0gcVsnbmFtZSddDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGlpaWQgKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2xvb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgcHJpbnQgJycNCiAgICBwcmludCBzbSArICdbKl0gRXh0cmFjdGluZyBGcm9tIDogJyArIG5pZCArICcgPiBceDFiWzE7OTFtRnJpZW5kcycNCiAgICBwcmludCAnJw0KICAgIHRpbWUuc2xlZXAoMikNCiAgICBwcmludCBndSArICdbKl0gR3JhcGluZyBVUkxzIC4uLi4uLicgKyB3DQogICAgcHJpbnQgJycNCiAgICB0aW1lLnNsZWVwKDIpDQogICAgcHJpbnQgZyArICdbKl0gR3JhcGluZyBDb21wbHRlIFByb2Nlc3MgU3RhcnQgKicgKyB3DQogICAgcHJpbnQgJycNCiAgICBvcy5zeXN0ZW0oJyBjYXQgbG9vay50eHQgfCBncmVwICIxMDAwNzciID4+IGtrLnR4dCcpDQogICAgb3Muc3lzdGVtKCcgY2F0IGxvb2sudHh0IHwgZ3JlcCAiMTAwMDc4IiA+PiBray50eHQnKQ0KICAgIG9zLnN5c3RlbSgncm0gLXJmIGxvb2sudHh0JykNCiAgICBmaWxlID0gb3Blbigna2sudHh0JykNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbKl0gRXh0cmFjdGluZyBGcm9tIElNVElBWiA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWypdIEV4dHJhY3RpbmcgRnJvbSBJTVRJQVogOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1sqXSBFeHRyYWN0aW5nIEZyb20gSU1USUFaIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbKl0gRXh0cmFjdGluZyBGcm9tIElNVElBWiA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWypdIEV4dHJhY3RpbmcgRnJvbSBJTVRJQVogOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1sqXSBFeHRyYWN0aW5nIEZyb20gSU1USUFaIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbKl0gRXh0cmFjdGluZyBGcm9tIElNVElBWiA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWypdIEV4dHJhY3RpbmcgRnJvbSBJTVRJQVogOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1sqXSBFeHRyYWN0aW5nIEZyb20gSU1USUFaIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbKl0gRXh0cmFjdGluZyBGcm9tIElNVElBWiA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWypdIEV4dHJhY3RpbmcgRnJvbSBJTVRJQVogOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1s9XSBFeHRyYWN0aW5nIEZyb20gSU1USUFaIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbKl0gRXh0cmFjdGluZyBGcm9tIElNVElBWiA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWypdIEV4dHJhY3RpbmcgRnJvbSBJTVRJQVogOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1sqXSBFeHRyYWN0aW5nIEZyb20gSU1USUFaIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbKl0gRXh0cmFjdGluZyBGcm9tIElNVElBWiA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWypdIEV4dHJhY3RpbmcgRnJvbSBJTVRJQVogOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIG15X2xpbmUgPSBmaWxlLnJlYWRsaW5lKCkNCiAgICBjb3VudC5hcHBlbmQobXlfbGluZSkNCiAgICBwcmludCBnICsgJ1sqXSBFeHRyYWN0aW5nIEZyb20gSU1USUFaIDogJyArIG15X2xpbmVbOjE1XQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBteV9saW5lWzoxNV0gKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oJ2pvay50eHQnLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBteV9saW5lID0gZmlsZS5yZWFkbGluZSgpDQogICAgY291bnQuYXBwZW5kKG15X2xpbmUpDQogICAgcHJpbnQgZyArICdbKl0gRXh0cmFjdGluZyBGcm9tIElNVElBWiA6ICcgKyBteV9saW5lWzoxNV0NCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgbXlfbGluZVs6MTVdICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKCdqb2sudHh0JywgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgbXlfbGluZSA9IGZpbGUucmVhZGxpbmUoKQ0KICAgIGNvdW50LmFwcGVuZChteV9saW5lKQ0KICAgIHByaW50IGcgKyAnWypdIEV4dHJhY3RpbmcgRnJvbSBJTVRJQVogOiAnICsgbXlfbGluZVs6MTVdDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIG15X2xpbmVbOjE1XSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3Blbignam9rLnR4dCcsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIHByaW50ICcnDQogICAgcHJpbnQgJycNCiAgICBwcmludCBzbSArICdbKl0gVG90YWwgRXh0cmFjdCBpZHMgOiAnICsgc3RyKGxlbihjb3VudCkpICsgdw0KICAgIHByaW50ICcnDQogICAgbXZ0ID0gcmF3X2lucHV0KCdbPV0gRW50ZXIgUGF0aCBUbyBTYXZlIEZpbGUgOiAnKQ0KICAgIHByaW50ICdbKl0gWW91ciBGaWxlIFNhdmUgaW4gOiAnICsgbXZ0DQogICAgc2h1dGlsLm1vdmUoaG9rLCBtdnQpDQogICAgb3Muc3lzdGVtKCdybSAtcmYgam9rLnR4dCcpDQogICAgcmF3X2lucHV0KCdbPV0gUHJlc3MgRW50ZXIgVG8gQmFjaycpDQogICAgbWFpbl9zeXN0ZW0oKQ0KDQpmaWxlID0gJ2ZpbGUudHh0Jw0KDQpkZWYgZXh0MSgpOg0KICAgIHJhbmEgPSBbXQ0KICAgIA0KICAgIHRyeToNCiAgICAgICAgdG9rZW4gPSBvcGVuKCd0b2tlbi50eHQnKS5yZWFkKCkNCiAgICBleGNlcHQ6DQogICAgICAgIG1haW5fc3lzdGVtKCkNCg0KICAgIHByaW50ICcnDQogICAgZDEgPSByYXdfaW5wdXQoJ1sxXSBFbnRlciBJRCA6ICcpDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGQxICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKGZpbGUsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIGNvcCA9IHJhd19pbnB1dCgnWyFdIEZpbGUgcGF0aCA6ICcpDQogICAgc2h1dGlsLm1vdmUoZmlsZSwgY29wKQ0KICAgIHByaW50ICcgWypdIFlvdXIgRmlsZSBTYXZlIEluIDogJyArIGNvcA0KICAgIHJhd19pbnB1dCgnWyFdIFByZXNzIEVudGVyIFRvIEJhY2snKQ0KICAgIG1haW5fc3lzdGVtKCkNCg0KDQpkZWYgZXh0MigpOg0KICAgIHJhbmEgPSBbXQ0KICAgIA0KICAgIHRyeToNCiAgICAgICAgdG9rZW4gPSBvcGVuKCd0b2tlbi50eHQnKS5yZWFkKCkNCiAgICBleGNlcHQ6DQogICAgICAgIG1haW5fc3lzdGVtKCkNCg0KICAgIHByaW50ICcnDQogICAgZDEgPSByYXdfaW5wdXQoJ1sxXSBFbnRlciBJRCA6ICcpDQogICAgZDIgPSByYXdfaW5wdXQoJ1syXSBFbnRlciBJRCA6ICcpDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGQxICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKGZpbGUsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIHIyID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgZDIgKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyMi50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKGZpbGUsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIGNvcCA9IHJhd19pbnB1dCgnWyFdIEZpbGUgcGF0aCA6ICcpDQogICAgc2h1dGlsLm1vdmUoZmlsZSwgY29wKQ0KICAgIHByaW50ICdbKl0gWW91ciBGaWxlIFNhdmUgSW4gOiAnICsgY29wDQogICAgcmF3X2lucHV0KCdbKl0gUHJlc3MgRW50ZXIgVG8gQmFjaycpDQogICAgbWFpbl9zeXN0ZW0oKQ0KDQoNCmRlZiBleHQzKCk6DQogICAgcmFuYSA9IFtdDQogICAgDQogICAgdHJ5Og0KICAgICAgICB0b2tlbiA9IG9wZW4oJ3Rva2VuLnR4dCcpLnJlYWQoKQ0KICAgIGV4Y2VwdDoNCiAgICAgICAgbWFpbl9zeXN0ZW0oKQ0KDQogICAgcHJpbnQgJycNCiAgICBkMSA9IHJhd19pbnB1dCgnWzFdIEVudGVyIElEIDogJykNCiAgICBkMiA9IHJhd19pbnB1dCgnWzJdIEVudGVyIElEIDogJykNCiAgICBkMyA9IHJhd19pbnB1dCgnWzNdIEVudGVyIElEIDogJykNCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgZDEgKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oZmlsZSwgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgcjIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBkMiArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIyLnRleHQpDQogICAgZnVjayA9IG9wZW4oZmlsZSwgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgcjMgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBkMyArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIzLnRleHQpDQogICAgZnVjayA9IG9wZW4oZmlsZSwgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgY29wID0gcmF3X2lucHV0KCdbIV0gRmlsZSBwYXRoIDogJykNCiAgICBzaHV0aWwubW92ZShmaWxlLCBjb3ApDQogICAgcHJpbnQgJ1sqXSBZb3VyIEZpbGUgU2F2ZSBJbiA6ICcgKyBjb3ANCiAgICByYXdfaW5wdXQoJ1sqXSBQcmVzcyBFbnRlciBUbyBCYWNrJykNCiAgICBtYWluX3N5c3RlbSgpDQoNCg0KZGVmIGV4dDQoKToNCiAgICByYW5hID0gW10NCiAgICANCiAgICB0cnk6DQogICAgICAgIHRva2VuID0gb3BlbigndG9rZW4udHh0JykucmVhZCgpDQogICAgZXhjZXB0Og0KICAgICAgICBtYWluX3N5c3RlbSgpDQoNCiAgICBwcmludCAnJw0KICAgIGQxID0gcmF3X2lucHV0KCdbMV0gRW50ZXIgSUQgOiAnKQ0KICAgIGQyID0gcmF3X2lucHV0KCdbMl0gRW50ZXIgSUQgOiAnKQ0KICAgIGQzID0gcmF3X2lucHV0KCdbM10gRW50ZXIgSUQgOiAnKQ0KICAgIGQ0ID0gcmF3X2lucHV0KCdbNF0gRW50ZXIgSUQgOiAnKQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBkMSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3BlbihmaWxlLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICByMiA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGQyICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMocjIudGV4dCkNCiAgICBmdWNrID0gb3BlbihmaWxlLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICByMyA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGQzICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMocjMudGV4dCkNCiAgICBmdWNrID0gb3BlbihmaWxlLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICByNCA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGQ0ICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMocjQudGV4dCkNCiAgICBmdWNrID0gb3BlbihmaWxlLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBjb3AgPSByYXdfaW5wdXQoJ1sqXSBGaWxlIHBhdGggOiAnKQ0KICAgIHNodXRpbC5tb3ZlKGZpbGUsIGNvcCkNCiAgICBwcmludCAnWypdIFlvdXIgRmlsZSBTYXZlIEluIDogJyArIGNvcA0KICAgIHJhd19pbnB1dCgnWypdIFByZXNzIEVudGVyIFRvIEJhY2snKQ0KICAgIG1haW5fc3lzdGVtKCkNCg0KDQpkZWYgZXh0NSgpOg0KICAgIHJhbmEgPSBbXQ0KICAgIA0KICAgIHRyeToNCiAgICAgICAgdG9rZW4gPSBvcGVuKCd0b2tlbi50eHQnKS5yZWFkKCkNCiAgICBleGNlcHQ6DQogICAgICAgIG1haW5fc3lzdGVtKCkNCg0KICAgIHByaW50ICcnDQogICAgZDEgPSByYXdfaW5wdXQoJ1sxXSBFbnRlciBJRCA6ICcpDQogICAgZDIgPSByYXdfaW5wdXQoJ1syXSBFbnRlciBJRCA6ICcpDQogICAgZDMgPSByYXdfaW5wdXQoJ1szXSBFbnRlciBJRCA6ICcpDQogICAgZDQgPSByYXdfaW5wdXQoJ1s0XSBFbnRlciBJRCA6ICcpDQogICAgZDUgPSByYXdfaW5wdXQoJ1s1XSBFbnRlciBJRCA6ICcpDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGQxICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKGZpbGUsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIHIyID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgZDIgKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyMi50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKGZpbGUsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIHIzID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgZDMgKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyMy50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKGZpbGUsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIHI0ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgZDQgKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyNC50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKGZpbGUsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIHI1ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgZDUgKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyNS50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKGZpbGUsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIGNvcCA9IHJhd19pbnB1dCgnWyFdIEZpbGUgcGF0aCA6ICcpDQogICAgc2h1dGlsLm1vdmUoZmlsZSwgY29wKQ0KICAgIHByaW50ICdbKl0gWW91ciBGaWxlIFNhdmUgSW4gOiAnICsgY29wDQogICAgcmF3X2lucHV0KCdbKl0gUHJlc3MgRW50ZXIgVG8gQmFjaycpDQogICAgbWFpbl9zeXN0ZW0oKQ0KDQoNCmRlZiBleHQ2KCk6DQogICAgcmFuYSA9IFtdDQogICAgDQogICAgdHJ5Og0KICAgICAgICB0b2tlbiA9IG9wZW4oJ3Rva2VuLnR4dCcpLnJlYWQoKQ0KICAgIGV4Y2VwdDoNCiAgICAgICAgbWFpbl9zeXN0ZW0oKQ0KDQogICAgcHJpbnQgJycNCiAgICBkMSA9IHJhd19pbnB1dCgnWzFdIEVudGVyIElEIDogJykNCiAgICBkMiA9IHJhd19pbnB1dCgnWzJdIEVudGVyIElEIDogJykNCiAgICBkMyA9IHJhd19pbnB1dCgnWzNdIEVudGVyIElEIDogJykNCiAgICBkNCA9IHJhd19pbnB1dCgnWzRdIEVudGVyIElEIDogJykNCiAgICBkNSA9IHJhd19pbnB1dCgnWzVdIEVudGVyIElEIDogJykNCiAgICBkNiA9IHJhd19pbnB1dCgnWzZdIEVudGVyIElEIDogJykNCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgZDEgKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oZmlsZSwgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgcjIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBkMiArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIyLnRleHQpDQogICAgZnVjayA9IG9wZW4oZmlsZSwgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgcjMgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBkMyArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIzLnRleHQpDQogICAgZnVjayA9IG9wZW4oZmlsZSwgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgcjQgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBkNCArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHI0LnRleHQpDQogICAgZnVjayA9IG9wZW4oZmlsZSwgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgcjUgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBkNSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHI1LnRleHQpDQogICAgZnVjayA9IG9wZW4oZmlsZSwgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgcjYgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBkNiArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHI2LnRleHQpDQogICAgZnVjayA9IG9wZW4oZmlsZSwgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgY29wID0gcmF3X2lucHV0KCdbIV0gRmlsZSBwYXRoIDogJykNCiAgICBzaHV0aWwubW92ZShmaWxlLCBjb3ApDQogICAgcHJpbnQgJ1sqXSBZb3VyIEZpbGUgU2F2ZSBJbiA6ICcgKyBjb3ANCiAgICByYXdfaW5wdXQoJ1sqXSBQcmVzcyBFbnRlciBUbyBCYWNrJykNCiAgICBtYWluX3N5c3RlbSgpDQoNCg0KZGVmIGV4dDcoKToNCiAgICByYW5hID0gW10NCiAgICANCiAgICB0cnk6DQogICAgICAgIHRva2VuID0gb3BlbigndG9rZW4udHh0JykucmVhZCgpDQogICAgZXhjZXB0Og0KICAgICAgICBtYWluX3N5c3RlbSgpDQoNCiAgICBwcmludCAnJw0KICAgIGQxID0gcmF3X2lucHV0KCdbMV0gRW50ZXIgSUQgOiAnKQ0KICAgIGQyID0gcmF3X2lucHV0KCdbMl0gRW50ZXIgSUQgOiAnKQ0KICAgIGQzID0gcmF3X2lucHV0KCdbM10gRW50ZXIgSUQgOiAnKQ0KICAgIGQ0ID0gcmF3X2lucHV0KCdbNF0gRW50ZXIgSUQgOiAnKQ0KICAgIGQ1ID0gcmF3X2lucHV0KCdbNV0gRW50ZXIgSUQgOiAnKQ0KICAgIGQ2ID0gcmF3X2lucHV0KCdbNl0gRW50ZXIgSUQgOiAnKQ0KICAgIGQ3ID0gcmF3X2lucHV0KCdbN10gRW50ZXIgSUQgOiAnKQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBkMSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3BlbihmaWxlLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICByMiA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGQyICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMocjIudGV4dCkNCiAgICBmdWNrID0gb3BlbihmaWxlLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICByMyA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGQzICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMocjMudGV4dCkNCiAgICBmdWNrID0gb3BlbihmaWxlLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICByNCA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGQ0ICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMocjQudGV4dCkNCiAgICBmdWNrID0gb3BlbihmaWxlLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICByNSA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGQ1ICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMocjUudGV4dCkNCiAgICBmdWNrID0gb3BlbihmaWxlLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICByNiA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGQ2ICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMocjYudGV4dCkNCiAgICBmdWNrID0gb3BlbihmaWxlLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICByNyA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGQ3ICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMocjcudGV4dCkNCiAgICBmdWNrID0gb3BlbihmaWxlLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBjb3AgPSByYXdfaW5wdXQoJ1shXSBGaWxlIHBhdGggOiAnKQ0KICAgIHNodXRpbC5tb3ZlKGZpbGUsIGNvcCkNCiAgICBwcmludCAnWypdIFlvdXIgRmlsZSBTYXZlIEluIDogJyArIGNvcA0KICAgIHJhd19pbnB1dCgnWypdIFByZXNzIEVudGVyIFRvIEJhY2snKQ0KICAgIG1haW5fc3lzdGVtKCkNCg0KDQpkZWYgZXh0OCgpOg0KICAgIHJhbmEgPSBbXQ0KICAgIA0KICAgIHRyeToNCiAgICAgICAgdG9rZW4gPSBvcGVuKCd0b2tlbi50eHQnKS5yZWFkKCkNCiAgICBleGNlcHQ6DQogICAgICAgIG1haW5fc3lzdGVtKCkNCg0KICAgIHByaW50ICcnDQogICAgZDEgPSByYXdfaW5wdXQoJ1sxXSBFbnRlciBJRCA6ICcpDQogICAgZDIgPSByYXdfaW5wdXQoJ1syXSBFbnRlciBJRCA6ICcpDQogICAgZDMgPSByYXdfaW5wdXQoJ1szXSBFbnRlciBJRCA6ICcpDQogICAgZDQgPSByYXdfaW5wdXQoJ1s0XSBFbnRlciBJRCA6ICcpDQogICAgZDUgPSByYXdfaW5wdXQoJ1s1XSBFbnRlciBJRCA6ICcpDQogICAgZDYgPSByYXdfaW5wdXQoJ1s2XSBFbnRlciBJRCA6ICcpDQogICAgZDcgPSByYXdfaW5wdXQoJ1s3XSBFbnRlciBJRCA6ICcpDQogICAgZDggPSByYXdfaW5wdXQoJ1s4XSBFbnRlciBJRCA6ICcpDQogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGQxICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKGZpbGUsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIHIyID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgZDIgKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyMi50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKGZpbGUsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIHIzID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgZDMgKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyMy50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKGZpbGUsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIHI0ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgZDQgKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyNC50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKGZpbGUsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIHI1ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgZDUgKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyNS50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKGZpbGUsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIHI2ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgZDYgKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyNi50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKGZpbGUsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIHI3ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgZDcgKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyNy50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKGZpbGUsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIHI4ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgZDggKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyOC50ZXh0KQ0KICAgIGZ1Y2sgPSBvcGVuKGZpbGUsICdhJykNCiAgICBmb3IgaSBpbiB6WydkYXRhJ106DQogICAgICAgIHVpZCA9IGlbJ2lkJ10NCiAgICAgICAgbmEgPSBpWyduYW1lJ10NCiAgICAgICAgcmFuYS5hcHBlbmQodWlkICsgJ3wnICsgbmEpDQogICAgICAgIGZ1Y2sud3JpdGUodWlkICsgJ3wnICsgbmEgKyAnXG4nKQ0KICAgIA0KICAgIGZ1Y2suY2xvc2UoKQ0KICAgIGNvcCA9IHJhd19pbnB1dCgnWyFdIEZpbGUgcGF0aCA6ICcpDQogICAgc2h1dGlsLm1vdmUoZmlsZSwgY29wKQ0KICAgIHByaW50ICdbKl0gWW91ciBGaWxlIFNhdmUgSW4gOiAnICsgY29wDQogICAgcmF3X2lucHV0KCdbKl0gUHJlc3MgRW50ZXIgVG8gQmFjaycpDQogICAgbWFpbl9zeXN0ZW0oKQ0KDQoNCmRlZiBleHQ5KCk6DQogICAgcmFuYSA9IFtdDQogICAgDQogICAgdHJ5Og0KICAgICAgICB0b2tlbiA9IG9wZW4oJ3Rva2VuLnR4dCcpLnJlYWQoKQ0KICAgIGV4Y2VwdDoNCiAgICAgICAgbWFpbl9zeXN0ZW0oKQ0KDQogICAgcHJpbnQgJycNCiAgICBkMSA9IHJhd19pbnB1dCgnWzFdIEVudGVyIElEIDogJykNCiAgICBkMiA9IHJhd19pbnB1dCgnWzJdIEVudGVyIElEIDogJykNCiAgICBkMyA9IHJhd19pbnB1dCgnWzNdIEVudGVyIElEIDogJykNCiAgICBkNCA9IHJhd19pbnB1dCgnWzRdIEVudGVyIElEIDogJykNCiAgICBkNSA9IHJhd19pbnB1dCgnWzVdIEVudGVyIElEIDogJykNCiAgICBkNiA9IHJhd19pbnB1dCgnWzZdIEVudGVyIElEIDogJykNCiAgICBkNyA9IHJhd19pbnB1dCgnWzddIEVudGVyIElEIDogJykNCiAgICBkOCA9IHJhd19pbnB1dCgnWzhdIEVudGVyIElEIDogJykNCiAgICBkOSA9IHJhd19pbnB1dCgnWzldIEVudGVyIElEIDogJykNCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgZDEgKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpDQogICAgZnVjayA9IG9wZW4oZmlsZSwgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgcjIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBkMiArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIyLnRleHQpDQogICAgZnVjayA9IG9wZW4oZmlsZSwgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgcjMgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBkMyArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIzLnRleHQpDQogICAgZnVjayA9IG9wZW4oZmlsZSwgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgcjQgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBkNCArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHI0LnRleHQpDQogICAgZnVjayA9IG9wZW4oZmlsZSwgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgcjUgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBkNSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHI1LnRleHQpDQogICAgZnVjayA9IG9wZW4oZmlsZSwgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgcjYgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBkNiArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHI2LnRleHQpDQogICAgZnVjayA9IG9wZW4oZmlsZSwgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgcjcgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBkNyArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHI3LnRleHQpDQogICAgZnVjayA9IG9wZW4oZmlsZSwgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgcjggPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBkOCArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHI4LnRleHQpDQogICAgZnVjayA9IG9wZW4oZmlsZSwgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgcjkgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBkOSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHI5LnRleHQpDQogICAgZnVjayA9IG9wZW4oZmlsZSwgJ2EnKQ0KICAgIGZvciBpIGluIHpbJ2RhdGEnXToNCiAgICAgICAgdWlkID0gaVsnaWQnXQ0KICAgICAgICBuYSA9IGlbJ25hbWUnXQ0KICAgICAgICByYW5hLmFwcGVuZCh1aWQgKyAnfCcgKyBuYSkNCiAgICAgICAgZnVjay53cml0ZSh1aWQgKyAnfCcgKyBuYSArICdcbicpDQogICAgDQogICAgZnVjay5jbG9zZSgpDQogICAgY29wID0gcmF3X2lucHV0KCdbIV0gRmlsZSBwYXRoIDogJykNCiAgICBzaHV0aWwubW92ZShmaWxlLCBjb3ApDQogICAgcHJpbnQgJ1sqXSBZb3VyIEZpbGUgU2F2ZSBJbiA6ICcgKyBjb3ANCiAgICByYXdfaW5wdXQoJ1sqXSBQcmVzcyBFbnRlciBUbyBCYWNrJykNCiAgICBtYWluX3N5c3RlbSgpDQoNCg0KZGVmIGV4dDEwKCk6DQogICAgcmFuYSA9IFtdDQogICAgDQogICAgdHJ5Og0KICAgICAgICB0b2tlbiA9IG9wZW4oJ3Rva2VuLnR4dCcpLnJlYWQoKQ0KICAgIGV4Y2VwdDoNCiAgICAgICAgbWFpbl9zeXN0ZW0oKQ0KDQogICAgcHJpbnQgJycNCiAgICBkMSA9IHJhd19pbnB1dCgnWzFdIEVudGVyIElEIDogJykNCiAgICBkMiA9IHJhd19pbnB1dCgnWzJdIEVudGVyIElEIDogJykNCiAgICBkMyA9IHJhd19pbnB1dCgnWzNdIEVudGVyIElEIDogJykNCiAgICBkNCA9IHJhd19pbnB1dCgnWzRdIEVudGVyIElEIDogJykNCiAgICBkNSA9IHJhd19pbnB1dCgnWzVdIEVudGVyIElEIDogJykNCiAgICBkNiA9IHJhd19pbnB1dCgnWzZdIEVudGVyIElEIDogJykNCiAgICBkNyA9IHJhd19pbnB1dCgnWzddIEVudGVyIElEIDogJykNCiAgICBkOCA9IHJhd19pbnB1dCgnWzhdIEVudGVyIElEIDogJykNCiAgICBkOSA9IHJhd19pbnB1dCgnWzldIEVudGVyIElEIDogJykNCiAgICBkMTAgPSByYXdfaW5wdXQoJ1sxMF0gRW50ZXIgSUQgOiAnKQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBkMSArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQ0KICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICBmdWNrID0gb3BlbihmaWxlLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICByMiA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGQyICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMocjIudGV4dCkNCiAgICBmdWNrID0gb3BlbihmaWxlLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICByMyA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGQzICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMocjMudGV4dCkNCiAgICBmdWNrID0gb3BlbihmaWxlLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICByNCA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGQ0ICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMocjQudGV4dCkNCiAgICBmdWNrID0gb3BlbihmaWxlLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICByNSA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGQ1ICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMocjUudGV4dCkNCiAgICBmdWNrID0gb3BlbihmaWxlLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICByNiA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGQ2ICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMocjYudGV4dCkNCiAgICBmdWNrID0gb3BlbihmaWxlLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICByNyA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGQ3ICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMocjcudGV4dCkNCiAgICBmdWNrID0gb3BlbihmaWxlLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICByOCA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGQ4ICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMocjgudGV4dCkNCiAgICBmdWNrID0gb3BlbihmaWxlLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICByOSA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGQ5ICsgJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pDQogICAgeiA9IGpzb24ubG9hZHMocjkudGV4dCkNCiAgICBmdWNrID0gb3BlbihmaWxlLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICByMTAgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBkMTAgKyAnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICB6ID0ganNvbi5sb2FkcyhyMTAudGV4dCkNCiAgICBmdWNrID0gb3BlbihmaWxlLCAnYScpDQogICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICB1aWQgPSBpWydpZCddDQogICAgICAgIG5hID0gaVsnbmFtZSddDQogICAgICAgIHJhbmEuYXBwZW5kKHVpZCArICd8JyArIG5hKQ0KICAgICAgICBmdWNrLndyaXRlKHVpZCArICd8JyArIG5hICsgJ1xuJykNCiAgICANCiAgICBmdWNrLmNsb3NlKCkNCiAgICBjb3AgPSByYXdfaW5wdXQoJ1shXSBGaWxlIHBhdGggOiAnKQ0KICAgIHNodXRpbC5tb3ZlKGZpbGUsIGNvcCkNCiAgICBwcmludCAnWypdIFlvdXIgRmlsZSBTYXZlIEluIDogJyArIGNvcA0KICAgIHJhd19pbnB1dCgnWypdIFByZXNzIEVudGVyIFRvIEJhY2snKQ0KICAgIG1haW5fc3lzdGVtKCkNCg0KDQpkZWYgY19mX3BfcGFzcygpOg0KICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgIHByaW50IGxvZ28NCiAgICBwcmludCAnJw0KICAgIHByaW50ICcnDQogICAgDQogICAgdHJ5Og0KICAgICAgICBtZiA9IHJhd19pbnB1dCgnWyFdIEVudGVyIHBhdGggOiAnKQ0KICAgICAgICBwcmludCAnJw0KICAgICAgICBmb3IgbGluZSBpbiBvcGVuKG1mLCAncicpLnJlYWRsaW5lcygpOg0KICAgICAgICAgICAgaWR4LmFwcGVuZChsaW5lLnN0cmlwKCkpDQogICAgZXhjZXB0Og0KICAgICAgICBwcmludCAnZmlsZSBub3QgZm91bmQnDQogICAgICAgIHRpbWUuc2xlZXAoMikNCiAgICAgICAgZmlsZWF1dG8oKQ0KDQogICAgcHJpbnQgJ1shXSB0b3RhbCBpZHMgOiAnICsgc3RyKGxlbihpZHgpKQ0KICAgIG9zLnN5c3RlbSgnZWNobyAiIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tInwgbG9sY2F0JykNCiAgICBwcmludCAnICAgIENyYWNraW5nIFN0YXJ0IFBsZWFzZSBXYWl0IC4uLicNCiAgICBwcmludCAnICAgIFVzZSBGbGlnaHQgTW9kIEZvciBGb3IgU3BlZWQgVXAnDQogICAgb3Muc3lzdGVtKCdlY2hvICIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0ifCBsb2xjYXQnKQ0KICAgIA0KICAgIGRlZiBtYWluKGFyZyk6DQogICAgICAgIHVzZXIgPSBhcmcNCiAgICAgICAgKHVpZCwgbmFtZSkgPSB1c2VyLnNwbGl0KCd8JykNCiAgICAgICAgbmFtZSA9IG5hbWUubG93ZXIoKQ0KICAgICAgICBmaXJzdCA9IG5hbWUucnNwbGl0KCcgJylbMF0NCiAgICAgICAgDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIG5hbWUgPSBmaXJzdC5yc3BsaXQoJyAnKVsxXQ0KICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICBwYXNzDQoNCiAgICAgICAgbGluZXMgPSByYW5kb20uY2hvaWNlKFsNCiAgICAgICAgICAgICdEYWx2aWsvMS42LjAgKExpbnV4OyBVOyBBbmRyb2lkIDQuNC4yOyBOWDU1IEJ1aWxkL0tPVDU1MDYpIFtGQkFOL0ZCNEE7RkJBVi8xMDYuMC4wLjI2LjY4O0ZCQlYvNDU5MDQxNjA7RkJETS97ZGVuc2l0eT0zLjAsd2lkdGg9MTA4MCxoZWlnaHQ9MTkyMH07RkJMQy9pdF9JVDtGQlJWLzQ1OTA0MTYwO0ZCQ1IvUG9zdGVNb2JpbGU7RkJNRi9hc3VzO0ZCQkQvYXN1cztGQlBOL2NvbS5mYWNlYm9vay5rYXRhbmE7RkJEVi9BU1VTX1owMDc7RkJTVi81LjA7RkJPUC8xO0ZCQ0EveDg2OmFybWVhYmktdjdhO10nLA0KICAgICAgICAgICAgJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMDsgTWkgOVQgUHJvIEJ1aWxkL1FLUTEuMTkwODI1LjAwMjsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84OC4wLjQzMjQuMTgxIE1vYmlsZSBTYWZhcmkvNTM3LjM2IFtGQkFOL0VNQTtGQkxDL2lkX0lEO0ZCQVYvMjM5LjAuMC4xMC4xMDk7XScsDQogICAgICAgICAgICAnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDExOyBTTS1NMzA3Rk4pIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS85Ni4wLjQ2NjQuNDUgTW9iaWxlIFNhZmFyaS81MzcuMzYnLA0KICAgICAgICAgICAgJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMDsgTWkgOVQgUHJvIEJ1aWxkL1FLUTEuMTkwODI1LjAwMjsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84OC4wLjQzMjQuMTgxIE1vYmlsZSBTYWZhcmkvNTM3LjM2W0ZCQU4vRU1BO0ZCTEMvaXRfSVQ7RkJBVi8yMzkuMC4wLjEwLjEwOTtdJ10pDQogICAgICAgIA0KICAgICAgICB0cnk6DQogICAgICAgICAgICBwYXNzMSA9IG5hbWUNCiAgICAgICAgICAgIHJhbmEgPSByZXF1ZXN0cy5TZXNzaW9uKCkNCiAgICAgICAgICAgIHJhbmEuaGVhZGVycy51cGRhdGUoew0KICAgICAgICAgICAgICAgICdIb3N0JzogJ20uZmFjZWJvb2suY29tJywNCiAgICAgICAgICAgICAgICAnY2FjaGUtY29udHJvbCc6ICdtYXgtYWdlPTAnLA0KICAgICAgICAgICAgICAgICd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogJzEnLA0KICAgICAgICAgICAgICAgICd1c2VyLWFnZW50JzogbGluZXMsDQogICAgICAgICAgICAgICAgJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44JywNCiAgICAgICAgICAgICAgICAnYWNjZXB0LWVuY29kaW5nJzogJ2d6aXAsIGRlZmxhdGUnLA0KICAgICAgICAgICAgICAgICd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogc3RyKHJhbmRvbS5yYW5kaW50KDEwMCwgMjAwKSksDQogICAgICAgICAgICAgICAgJ2FjY2VwdC1sYW5ndWFnZSc6ICdpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNycgfSkNCiAgICAgICAgICAgIHAgPSByYW5hLmdldCgnaHR0cHM6Ly9tLmZhY2Vib29rLmNvbScpDQogICAgICAgICAgICBiID0gcmFuYS5wb3N0KCdodHRwczovL20uZmFjZWJvb2suY29tL2xvZ2luLnBocCcsIGRhdGEgPSB7DQogICAgICAgICAgICAgICAgJ2VtYWlsJzogdWlkLA0KICAgICAgICAgICAgICAgICdwYXNzJzogcGFzczEsDQogICAgICAgICAgICAgICAgJ2xvZ2luJzogJ3N1Ym1pdCcgfSkNCiAgICAgICAgICAgIGlmICdjX3VzZXInIGluIHJhbmEuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCiAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkybVtJTVRJQVotT0tdICcgKyB1aWQgKyAnIHwgJyArIHBhc3MxDQogICAgICAgICAgICAgICAgb2sgPSBvcGVuKCdJTVRJQVotb2sudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgIG9rLndyaXRlKHVpZCArICcgfCAnICsgcGFzczEgKyAnXG4nKQ0KICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkNCiAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVpZCArIHBhc3MxKQ0KICAgICAgICAgICAgZWxpZiAnY2hlY2twb2ludCcgaW4gcmFuYS5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOg0KICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTFtW0lNVElBWi1DUF0gJyArIHVpZCArICcgfCAnICsgcGFzczENCiAgICAgICAgICAgICAgICBjcCA9IG9wZW4oJ0lNVElBWi1jcC50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgY3Aud3JpdGUodWlkICsgJyB8ICcgKyBwYXNzMSArICdcbicpDQogICAgICAgICAgICAgICAgY3AuY2xvc2UoKQ0KICAgICAgICAgICAgICAgIGNwcy5hcHBlbmQodWlkICsgcGFzczEpDQogICAgICAgIGV4Y2VwdDoNCiAgICAgICAgICAgIHBhc3MNCg0KDQogICAgcCA9IFRocmVhZFBvb2woMzApDQogICAgcC5tYXAobWFpbiwgaWR4KQ0KICAgIHByaW50ICdceDFiWzE7OTdtJw0KICAgIHByaW50IDM5ICogJy0nDQogICAgcHJpbnQgJ1shXSBDbG9uaW5nIENvbXBsZXRlIFJlc3VsdCAuLi4uLi4uLicNCiAgICBwcmludCAzOSAqICctJw0KICAgIHByaW50ICdbIV0gdG90YWwgb2sgaWRzIDogJyArIHN0cihsZW4oY3BzKSkNCiAgICBwcmludCAnWyFdIHRvdGFsIGNwIGlkcyA6ICcgKyBzdHIobGVuKG9rcykpDQogICAgcHJpbnQgMzkgKiAnLScNCiAgICBwcmludCAnJw0KICAgIHJhd19pbnB1dCgnIFByZXNzIGVudGVyIHRvIGJhY2sgJykNCiAgICBtYWluX3N5c3RlbSgpDQoNCg0KZGVmIGZpbGVhdXRvKCk6DQogICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgcHJpbnQgbG9nbw0KICAgIHByaW50ICcnDQogICAgcHJpbnQgJycNCiAgICANCiAgICB0cnk6DQogICAgICAgIG1mID0gcmF3X2lucHV0KCdbIV0gRW50ZXIgcGF0aCA6ICcpDQogICAgICAgIHByaW50ICcnDQogICAgICAgIGZvciBsaW5lIGluIG9wZW4obWYsICdyJykucmVhZGxpbmVzKCk6DQogICAgICAgICAgICBpZHguYXBwZW5kKGxpbmUuc3RyaXAoKSkNCiAgICBleGNlcHQ6DQogICAgICAgIHByaW50ICdmaWxlIG5vdCBmb3VuZCcNCiAgICAgICAgdGltZS5zbGVlcCgyKQ0KICAgICAgICBuX2ZfcF9wYXNzKCkNCg0KICAgIHByaW50ICdbIV0gdG90YWwgaWRzIDogJyArIHN0cihsZW4oaWR4KSkNCiAgICBvcy5zeXN0ZW0oJ2VjaG8gIiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSJ8IGxvbGNhdCcpDQogICAgcHJpbnQgJyAgICBDcmFja2luZyBTdGFydCBQbGVhc2UgV2FpdCAuLicNCiAgICBwcmludCAnICAgIFVzZSBGbGlnaHQgTW9kIEZvciBGb3IgU3BlZWQgVXAnDQogICAgb3Muc3lzdGVtKCdlY2hvICIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0ifCBsb2xjYXQnKQ0KICAgIA0KICAgIGRlZiBtYWluKGFyZyk6DQogICAgICAgIHVzZXIgPSBhcmcNCiAgICAgICAgKHVpZCwgbmFtZSkgPSB1c2VyLnNwbGl0KCd8JykNCiAgICAgICAgbmFtZSA9IG5hbWUubG93ZXIoKQ0KICAgICAgICBmaXJzdCA9IG5hbWUucnNwbGl0KCcgJylbMF0NCiAgICAgICAgDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIGxhc3QgPSBuYW1lLnJzcGxpdCgnICcpWzFdDQogICAgICAgIGV4Y2VwdDoNCiAgICAgICAgICAgIHBhc3MNCg0KICAgICAgICBsaW5lcyA9IHJhbmRvbS5jaG9pY2UoWw0KICAgICAgICAgICAgJ0RhbHZpay8xLjYuMCAoTGludXg7IFU7IEFuZHJvaWQgNC40LjI7IE5YNTUgQnVpbGQvS09UNTUwNikgW0ZCQU4vRkI0QTtGQkFWLzEwNi4wLjAuMjYuNjg7RkJCVi80NTkwNDE2MDtGQkRNL3tkZW5zaXR5PTMuMCx3aWR0aD0xMDgwLGhlaWdodD0xOTIwfTtGQkxDL2l0X0lUO0ZCUlYvNDU5MDQxNjA7RkJDUi9Qb3N0ZU1vYmlsZTtGQk1GL2FzdXM7RkJCRC9hc3VzO0ZCUE4vY29tLmZhY2Vib29rLmthdGFuYTtGQkRWL0FTVVNfWjAwNztGQlNWLzUuMDtGQk9QLzE7RkJDQS94ODY6YXJtZWFiaS12N2E7XScsDQogICAgICAgICAgICAnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBNaSA5VCBQcm8gQnVpbGQvUUtRMS4xOTA4MjUuMDAyOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzg4LjAuNDMyNC4xODEgTW9iaWxlIFNhZmFyaS81MzcuMzYgW0ZCQU4vRU1BO0ZCTEMvaWRfSUQ7RkJBVi8yMzkuMC4wLjEwLjEwOTtdJywNCiAgICAgICAgICAgICdNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTE7IFNNLU0zMDdGTikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzk2LjAuNDY2NC40NSBNb2JpbGUgU2FmYXJpLzUzNy4zNicsDQogICAgICAgICAgICAnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBNaSA5VCBQcm8gQnVpbGQvUUtRMS4xOTA4MjUuMDAyOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzg4LjAuNDMyNC4xODEgTW9iaWxlIFNhZmFyaS81MzcuMzZbRkJBTi9FTUE7RkJMQy9pdF9JVDtGQkFWLzIzOS4wLjAuMTAuMTA5O10nXSkNCiAgICAgICAgDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIHBhc3MxID0gbmFtZQ0KICAgICAgICAgICAgcmFuYSA9IHJlcXVlc3RzLlNlc3Npb24oKQ0KICAgICAgICAgICAgcmFuYS5oZWFkZXJzLnVwZGF0ZSh7DQogICAgICAgICAgICAgICAgJ0hvc3QnOiAnbWJhc2ljLmZhY2Vib29rLmNvbScsDQogICAgICAgICAgICAgICAgJ2NhY2hlLWNvbnRyb2wnOiAnbWF4LWFnZT0wJywNCiAgICAgICAgICAgICAgICAndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6ICcxJywNCiAgICAgICAgICAgICAgICAndXNlci1hZ2VudCc6IGxpbmVzLA0KICAgICAgICAgICAgICAgICdhY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCcsDQogICAgICAgICAgICAgICAgJ2FjY2VwdC1lbmNvZGluZyc6ICdnemlwLCBkZWZsYXRlJywNCiAgICAgICAgICAgICAgICAndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6IHN0cihyYW5kb20ucmFuZGludCgxMDAsIDIwMCkpLA0KICAgICAgICAgICAgICAgICdhY2NlcHQtbGFuZ3VhZ2UnOiAnaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcnIH0pDQogICAgICAgICAgICBwID0gcmFuYS5nZXQoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbScpDQogICAgICAgICAgICBiID0gcmFuYS5wb3N0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4ucGhwJywgZGF0YSA9IHsNCiAgICAgICAgICAgICAgICAnZW1haWwnOiB1aWQsDQogICAgICAgICAgICAgICAgJ3Bhc3MnOiBwYXNzMSwNCiAgICAgICAgICAgICAgICAnbG9naW4nOiAnc3VibWl0JyB9KQ0KICAgICAgICAgICAgaWYgJ2NfdXNlcicgaW4gcmFuYS5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOg0KICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTJtW0lNVElBWi1PS10gJyArIHVpZCArICcgfCAnICsgcGFzczENCiAgICAgICAgICAgICAgICBvayA9IG9wZW4oJ0lNVElBWi1vay50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgb2sud3JpdGUodWlkICsgJyB8ICcgKyBwYXNzMSArICdcbicpDQogICAgICAgICAgICAgICAgb2suY2xvc2UoKQ0KICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodWlkICsgcGFzczEpDQogICAgICAgICAgICBlbGlmICdjaGVja3BvaW50JyBpbiByYW5hLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQogICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N21bSU1USUFaLUNQXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzMQ0KICAgICAgICAgICAgICAgIGNwID0gb3BlbignSU1USUFaLWNwLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICBjcC53cml0ZSh1aWQgKyAnIHwgJyArIHBhc3MxICsgJ1xuJykNCiAgICAgICAgICAgICAgICBjcC5jbG9zZSgpDQogICAgICAgICAgICAgICAgY3BzLmFwcGVuZCh1aWQgKyBwYXNzMSkNCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgcGFzczIgPSBmaXJzdCArICcxMjMnDQogICAgICAgICAgICAgICAgcmFuYSA9IHJlcXVlc3RzLlNlc3Npb24oKQ0KICAgICAgICAgICAgICAgIHJhbmEuaGVhZGVycy51cGRhdGUoew0KICAgICAgICAgICAgICAgICAgICAnSG9zdCc6ICdtYmFzaWMuZmFjZWJvb2suY29tJywNCiAgICAgICAgICAgICAgICAgICAgJ2NhY2hlLWNvbnRyb2wnOiAnbWF4LWFnZT0wJywNCiAgICAgICAgICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsDQogICAgICAgICAgICAgICAgICAgICd1c2VyLWFnZW50JzogbGluZXMsDQogICAgICAgICAgICAgICAgICAgICdhY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCcsDQogICAgICAgICAgICAgICAgICAgICdhY2NlcHQtZW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZScsDQogICAgICAgICAgICAgICAgICAgICd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogc3RyKHJhbmRvbS5yYW5kaW50KDEwMCwgMjAwKSksDQogICAgICAgICAgICAgICAgICAgICdhY2NlcHQtbGFuZ3VhZ2UnOiAnaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcnIH0pDQogICAgICAgICAgICAgICAgcCA9IHJhbmEuZ2V0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nKQ0KICAgICAgICAgICAgICAgIGIgPSByYW5hLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi5waHAnLCBkYXRhID0gew0KICAgICAgICAgICAgICAgICAgICAnZW1haWwnOiB1aWQsDQogICAgICAgICAgICAgICAgICAgICdwYXNzJzogcGFzczIsDQogICAgICAgICAgICAgICAgICAgICdsb2dpbic6ICdzdWJtaXQnIH0pDQogICAgICAgICAgICAgICAgaWYgJ2NfdXNlcicgaW4gcmFuYS5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOg0KICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkybVtJTVRJQVotT0tdICcgKyB1aWQgKyAnIHwgJyArIHBhc3MyDQogICAgICAgICAgICAgICAgICAgIG9rID0gb3BlbignSU1USUFaLW9rLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgb2sud3JpdGUodWlkICsgJyB8ICcgKyBwYXNzMiArICdcbicpDQogICAgICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh1aWQgKyBwYXNzMikNCiAgICAgICAgICAgICAgICBlbGlmICdjaGVja3BvaW50JyBpbiByYW5hLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQogICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdtW0lNVElBWi1DUF0gJyArIHVpZCArICcgfCAnICsgcGFzczINCiAgICAgICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdJTVRJQVotY3AudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICBjcC53cml0ZSh1aWQgKyAnIHwgJyArIHBhc3MyICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgY3AuY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHVpZCArIHBhc3MyKQ0KICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgIHBhc3MzID0gZmlyc3QgKyAnbGFzdCcNCiAgICAgICAgICAgICAgICAgICAgcmFuYSA9IHJlcXVlc3RzLlNlc3Npb24oKQ0KICAgICAgICAgICAgICAgICAgICByYW5hLmhlYWRlcnMudXBkYXRlKHsNCiAgICAgICAgICAgICAgICAgICAgICAgICdIb3N0JzogJ21iYXNpYy5mYWNlYm9vay5jb20nLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ2NhY2hlLWNvbnRyb2wnOiAnbWF4LWFnZT0wJywNCiAgICAgICAgICAgICAgICAgICAgICAgICd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogJzEnLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ3VzZXItYWdlbnQnOiBsaW5lcywNCiAgICAgICAgICAgICAgICAgICAgICAgICdhY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCcsDQogICAgICAgICAgICAgICAgICAgICAgICAnYWNjZXB0LWVuY29kaW5nJzogJ2d6aXAsIGRlZmxhdGUnLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiBzdHIocmFuZG9tLnJhbmRpbnQoMTAwLCAyMDApKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICdhY2NlcHQtbGFuZ3VhZ2UnOiAnaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcnIH0pDQogICAgICAgICAgICAgICAgICAgIHAgPSByYW5hLmdldCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tJykNCiAgICAgICAgICAgICAgICAgICAgYiA9IHJhbmEucG9zdCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luLnBocCcsIGRhdGEgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICAnZW1haWwnOiB1aWQsDQogICAgICAgICAgICAgICAgICAgICAgICAncGFzcyc6IHBhc3MzLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ2xvZ2luJzogJ3N1Ym1pdCcgfSkNCiAgICAgICAgICAgICAgICAgICAgaWYgJ2NfdXNlcicgaW4gcmFuYS5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOg0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5Mm1bSU1USUFaLU9LXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzMw0KICAgICAgICAgICAgICAgICAgICAgICAgb2sgPSBvcGVuKCdJTVRJQVotb2sudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgb2sud3JpdGUodWlkICsgJyB8ICcgKyBwYXNzMyArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICBvay5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVpZCArIHBhc3MzKQ0KICAgICAgICAgICAgICAgICAgICBlbGlmICdjaGVja3BvaW50JyBpbiByYW5hLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bVtJTVRJQVotQ1BdICcgKyB1aWQgKyAnIHwgJyArIHBhc3MzDQogICAgICAgICAgICAgICAgICAgICAgICBjcCA9IG9wZW4oJ0lNVElBWi1jcC50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICBjcC53cml0ZSh1aWQgKyAnIHwgJyArIHBhc3MzICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgIGNwLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgIGNwcy5hcHBlbmQodWlkICsgcGFzczMpDQogICAgICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgICAgICBwYXNzNCA9IGZpcnN0ICsgJzEyMzQ1Jw0KICAgICAgICAgICAgICAgICAgICAgICAgcmFuYSA9IHJlcXVlc3RzLlNlc3Npb24oKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmFuYS5oZWFkZXJzLnVwZGF0ZSh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0hvc3QnOiAnbWJhc2ljLmZhY2Vib29rLmNvbScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NhY2hlLWNvbnRyb2wnOiAnbWF4LWFnZT0wJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6ICcxJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndXNlci1hZ2VudCc6IGxpbmVzLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdC1lbmNvZGluZyc6ICdnemlwLCBkZWZsYXRlJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6IHN0cihyYW5kb20ucmFuZGludCgxMDAsIDIwMCkpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhY2NlcHQtbGFuZ3VhZ2UnOiAnaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcnIH0pDQogICAgICAgICAgICAgICAgICAgICAgICBwID0gcmFuYS5nZXQoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbScpDQogICAgICAgICAgICAgICAgICAgICAgICBiID0gcmFuYS5wb3N0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4ucGhwJywgZGF0YSA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZW1haWwnOiB1aWQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Bhc3MnOiBwYXNzNCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbG9naW4nOiAnc3VibWl0JyB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2NfdXNlcicgaW4gcmFuYS5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTJtW0lNVElBWi1PS10gJyArIHVpZCArICcgfCAnICsgcGFzczQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvayA9IG9wZW4oJ0lNVElBWi1vay50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2sud3JpdGUodWlkICsgJyB8ICcgKyBwYXNzNCArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2suY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodWlkICsgcGFzczQpDQogICAgICAgICAgICAgICAgICAgICAgICBlbGlmICdjaGVja3BvaW50JyBpbiByYW5hLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N21bSU1USUFaLUNQXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzNA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwID0gb3BlbignSU1USUFaLWNwLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcC53cml0ZSh1aWQgKyAnIHwgJyArIHBhc3M0ICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcC5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3BzLmFwcGVuZCh1aWQgKyBwYXNzNCkNCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzczUgPSBmaXJzdCArICc3ODYnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuYSA9IHJlcXVlc3RzLlNlc3Npb24oKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmEuaGVhZGVycy51cGRhdGUoew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnSG9zdCc6ICdtYmFzaWMuZmFjZWJvb2suY29tJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NhY2hlLWNvbnRyb2wnOiAnbWF4LWFnZT0wJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd1c2VyLWFnZW50JzogbGluZXMsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhY2NlcHQtZW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogc3RyKHJhbmRvbS5yYW5kaW50KDEwMCwgMjAwKSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhY2NlcHQtbGFuZ3VhZ2UnOiAnaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcnIH0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcCA9IHJhbmEuZ2V0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIgPSByYW5hLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi5waHAnLCBkYXRhID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZW1haWwnOiB1aWQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwYXNzJzogcGFzczUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdsb2dpbic6ICdzdWJtaXQnIH0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2NfdXNlcicgaW4gcmFuYS5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkybVtJTVRJQVotT0tdICcgKyB1aWQgKyAnIHwgJyArIHBhc3M1DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rID0gb3BlbignSU1USUFaLW9rLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2sud3JpdGUodWlkICsgJyB8ICcgKyBwYXNzNSArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh1aWQgKyBwYXNzNSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmICdjaGVja3BvaW50JyBpbiByYW5hLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdtW0lNVElBWi1DUF0gJyArIHVpZCArICcgfCAnICsgcGFzczUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdJTVRJQVotY3AudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcC53cml0ZSh1aWQgKyAnIHwgJyArIHBhc3M1ICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3AuY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHVpZCArIHBhc3M1KQ0KICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICBwYXNzDQogICAgICAgIA0KDQoNCiAgICBwID0gVGhyZWFkUG9vbCgzMCkNCiAgICBwLm1hcChtYWluLCBpZHgpDQogICAgcHJpbnQgJ1x4MWJbMTs5N20nDQogICAgcHJpbnQgMzkgKiAnLScNCiAgICBwcmludCAnWyFdIENsb25pbmcgQ29tcGxldGUgUmVzdWx0IC4uLi4uLi4uJw0KICAgIHByaW50IDM5ICogJy0nDQogICAgcHJpbnQgJ1shXSB0b3RhbCBvayBpZHMgOiAnICsgc3RyKGxlbihjcHMpKQ0KICAgIHByaW50ICdbIV0gdG90YWwgY3AgaWRzIDogJyArIHN0cihsZW4ob2tzKSkNCiAgICBwcmludCAzOSAqICctJw0KICAgIHByaW50ICcnDQogICAgcmF3X2lucHV0KCcgUHJlc3MgZW50ZXIgdG8gYmFjayAnKQ0KICAgIG1haW5fc3lzdGVtKCkNCg0KDQpkZWYgbl9mX3BfcGFzcygpOg0KICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgIHByaW50IGxvZ28NCiAgICBwcmludCAnJw0KICAgIHByaW50ICdFeGFtcGxlIDEyMyArIDEyMzQgKyAxMjM0NSArIDc4NicNCiAgICBwcmludCAnJw0KICAgIHBzMSA9IHJhd19pbnB1dCgnWzFdIG5hbWUgKyBkaWdpdCA6ICcpDQogICAgcHMyID0gcmF3X2lucHV0KCdbMl0gbmFtZSArIGRpZ2l0IDogJykNCiAgICBwczMgPSByYXdfaW5wdXQoJ1szXSBuYW1lICsgZGlnaXQgOiAnKQ0KICAgIHBzNCA9IHJhd19pbnB1dCgnWzRdIG5hbWUgKyBkaWdpdCA6ICcpDQogICAgcHJpbnQgJycNCiAgICANCiAgICB0cnk6DQogICAgICAgIG1mID0gcmF3X2lucHV0KCdbKl0gRW50ZXIgcGF0aCA6ICcpDQogICAgICAgIHByaW50ICcnDQogICAgICAgIGZvciBsaW5lIGluIG9wZW4obWYsICdyJykucmVhZGxpbmVzKCk6DQogICAgICAgICAgICBpZHguYXBwZW5kKGxpbmUuc3RyaXAoKSkNCiAgICBleGNlcHQ6DQogICAgICAgIHByaW50ICdmaWxlIG5vdCBmb3VuZCcNCiAgICAgICAgdGltZS5zbGVlcCgyKQ0KICAgICAgICBtYWluX3N5c3RlbSgpDQoNCiAgICBwcmludCAnWyFdIHRvdGFsIGlkcyA6ICcgKyBzdHIobGVuKGlkeCkpDQogICAgb3Muc3lzdGVtKCdlY2hvICIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0ifCBsb2xjYXQnKQ0KICAgIHByaW50ICcgICAgQ3JhY2tpbmcgU3RhcnQgUGxlYXNlIFdhaXQgLi4gJw0KICAgIHByaW50ICcgICAgVXNlIEZsaWdodCBNb2QgRm9yIFNwZWVkIFVwJw0KICAgIG9zLnN5c3RlbSgnZWNobyAiIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tInwgbG9sY2F0JykNCiAgICANCiAgICBkZWYgbWFpbihhcmcpOg0KICAgICAgICB1c2VyID0gYXJnDQogICAgICAgICh1aWQsIG5hbWUpID0gdXNlci5zcGxpdCgnfCcpDQogICAgICAgIG5hbWUgPSBuYW1lLmxvd2VyKCkNCiAgICAgICAgZmlyc3QgPSBuYW1lLnJzcGxpdCgnICcpWzBdDQogICAgICAgIA0KICAgICAgICB0cnk6DQogICAgICAgICAgICBsYXN0ID0gbmFtZS5yc3BsaXQoJyAnKVsxXQ0KICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICBwYXNzDQoNCiAgICAgICAgbGluZXMgPSByYW5kb20uY2hvaWNlKFsNCiAgICAgICAgICAgICdEYWx2aWsvMS42LjAgKExpbnV4OyBVOyBBbmRyb2lkIDQuNC4yOyBOWDU1IEJ1aWxkL0tPVDU1MDYpIFtGQkFOL0ZCNEE7RkJBVi8xMDYuMC4wLjI2LjY4O0ZCQlYvNDU5MDQxNjA7RkJETS97ZGVuc2l0eT0zLjAsd2lkdGg9MTA4MCxoZWlnaHQ9MTkyMH07RkJMQy9pdF9JVDtGQlJWLzQ1OTA0MTYwO0ZCQ1IvUG9zdGVNb2JpbGU7RkJNRi9hc3VzO0ZCQkQvYXN1cztGQlBOL2NvbS5mYWNlYm9vay5rYXRhbmE7RkJEVi9BU1VTX1owMDc7RkJTVi81LjA7RkJPUC8xO0ZCQ0EveDg2OmFybWVhYmktdjdhO10nLA0KICAgICAgICAgICAgJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMDsgTWkgOVQgUHJvIEJ1aWxkL1FLUTEuMTkwODI1LjAwMjsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84OC4wLjQzMjQuMTgxIE1vYmlsZSBTYWZhcmkvNTM3LjM2IFtGQkFOL0VNQTtGQkxDL2lkX0lEO0ZCQVYvMjM5LjAuMC4xMC4xMDk7XScsDQogICAgICAgICAgICAnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDExOyBTTS1NMzA3Rk4pIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS85Ni4wLjQ2NjQuNDUgTW9iaWxlIFNhZmFyaS81MzcuMzYnLA0KICAgICAgICAgICAgJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMDsgTWkgOVQgUHJvIEJ1aWxkL1FLUTEuMTkwODI1LjAwMjsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84OC4wLjQzMjQuMTgxIE1vYmlsZSBTYWZhcmkvNTM3LjM2W0ZCQU4vRU1BO0ZCTEMvaXRfSVQ7RkJBVi8yMzkuMC4wLjEwLjEwOTtdJ10pDQogICAgICAgIA0KICAgICAgICB0cnk6DQogICAgICAgICAgICBwYXNzMSA9IG5hbWUNCiAgICAgICAgICAgIHJhbmEgPSByZXF1ZXN0cy5TZXNzaW9uKCkNCiAgICAgICAgICAgIHJhbmEuaGVhZGVycy51cGRhdGUoew0KICAgICAgICAgICAgICAgICdIb3N0JzogJ21iYXNpYy5mYWNlYm9vay5jb20nLA0KICAgICAgICAgICAgICAgICdjYWNoZS1jb250cm9sJzogJ21heC1hZ2U9MCcsDQogICAgICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsDQogICAgICAgICAgICAgICAgJ3VzZXItYWdlbnQnOiBsaW5lcywNCiAgICAgICAgICAgICAgICAnYWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgnLA0KICAgICAgICAgICAgICAgICdhY2NlcHQtZW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZScsDQogICAgICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiBzdHIocmFuZG9tLnJhbmRpbnQoMTAwLCAyMDApKSwNCiAgICAgICAgICAgICAgICAnYWNjZXB0LWxhbmd1YWdlJzogJ2lkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43JyB9KQ0KICAgICAgICAgICAgcCA9IHJhbmEuZ2V0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nKQ0KICAgICAgICAgICAgYiA9IHJhbmEucG9zdCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luLnBocCcsIGRhdGEgPSB7DQogICAgICAgICAgICAgICAgJ2VtYWlsJzogdWlkLA0KICAgICAgICAgICAgICAgICdwYXNzJzogcGFzczEsDQogICAgICAgICAgICAgICAgJ2xvZ2luJzogJ3N1Ym1pdCcgfSkNCiAgICAgICAgICAgIGlmICdjX3VzZXInIGluIHJhbmEuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCiAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkybVtJTVRJQVotT0tdICcgKyB1aWQgKyAnIHwgJyArIHBhc3MxDQogICAgICAgICAgICAgICAgb2sgPSBvcGVuKCdJTVRJQVotb2sudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgIG9rLndyaXRlKHVpZCArICcgfCAnICsgcGFzczEgKyAnXG4nKQ0KICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkNCiAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVpZCArIHBhc3MxKQ0KICAgICAgICAgICAgZWxpZiAnY2hlY2twb2ludCcgaW4gcmFuYS5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOg0KICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTFtW0lNVElBWi1DUF0gJyArIHVpZCArICcgfCAnICsgcGFzczENCiAgICAgICAgICAgICAgICBjcCA9IG9wZW4oJ0lNVElBWi1jcC50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgY3Aud3JpdGUodWlkICsgJyB8ICcgKyBwYXNzMSArICdcbicpDQogICAgICAgICAgICAgICAgY3AuY2xvc2UoKQ0KICAgICAgICAgICAgICAgIGNwcy5hcHBlbmQodWlkICsgcGFzczEpDQogICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgIHBhc3MyID0gZmlyc3QgKyBwczENCiAgICAgICAgICAgICAgICByYW5hID0gcmVxdWVzdHMuU2Vzc2lvbigpDQogICAgICAgICAgICAgICAgcmFuYS5oZWFkZXJzLnVwZGF0ZSh7DQogICAgICAgICAgICAgICAgICAgICdIb3N0JzogJ21iYXNpYy5mYWNlYm9vay5jb20nLA0KICAgICAgICAgICAgICAgICAgICAnY2FjaGUtY29udHJvbCc6ICdtYXgtYWdlPTAnLA0KICAgICAgICAgICAgICAgICAgICAndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6ICcxJywNCiAgICAgICAgICAgICAgICAgICAgJ3VzZXItYWdlbnQnOiBsaW5lcywNCiAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44JywNCiAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdC1lbmNvZGluZyc6ICdnemlwLCBkZWZsYXRlJywNCiAgICAgICAgICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiBzdHIocmFuZG9tLnJhbmRpbnQoMTAwLCAyMDApKSwNCiAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdC1sYW5ndWFnZSc6ICdpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNycgfSkNCiAgICAgICAgICAgICAgICBwID0gcmFuYS5nZXQoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbScpDQogICAgICAgICAgICAgICAgYiA9IHJhbmEucG9zdCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luLnBocCcsIGRhdGEgPSB7DQogICAgICAgICAgICAgICAgICAgICdlbWFpbCc6IHVpZCwNCiAgICAgICAgICAgICAgICAgICAgJ3Bhc3MnOiBwYXNzMiwNCiAgICAgICAgICAgICAgICAgICAgJ2xvZ2luJzogJ3N1Ym1pdCcgfSkNCiAgICAgICAgICAgICAgICBpZiAnY191c2VyJyBpbiByYW5hLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQogICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTJtW0lNVElBWi1PS10gJyArIHVpZCArICcgfCAnICsgcGFzczINCiAgICAgICAgICAgICAgICAgICAgb2sgPSBvcGVuKCdJTVRJQVotb2sudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICBvay53cml0ZSh1aWQgKyAnIHwgJyArIHBhc3MyICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgb2suY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVpZCArIHBhc3MyKQ0KICAgICAgICAgICAgICAgIGVsaWYgJ2NoZWNrcG9pbnQnIGluIHJhbmEuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5MW1bSU1USUFaLUNQXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzMg0KICAgICAgICAgICAgICAgICAgICBjcCA9IG9wZW4oJ0lNVElBWi1jcC50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgIGNwLndyaXRlKHVpZCArICcgfCAnICsgcGFzczIgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICBjcC5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgIGNwcy5hcHBlbmQodWlkICsgcGFzczIpDQogICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgcGFzczMgPSBmaXJzdCArIHBzMg0KICAgICAgICAgICAgICAgICAgICByYW5hID0gcmVxdWVzdHMuU2Vzc2lvbigpDQogICAgICAgICAgICAgICAgICAgIHJhbmEuaGVhZGVycy51cGRhdGUoew0KICAgICAgICAgICAgICAgICAgICAgICAgJ0hvc3QnOiAnbWJhc2ljLmZhY2Vib29rLmNvbScsDQogICAgICAgICAgICAgICAgICAgICAgICAnY2FjaGUtY29udHJvbCc6ICdtYXgtYWdlPTAnLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsDQogICAgICAgICAgICAgICAgICAgICAgICAndXNlci1hZ2VudCc6IGxpbmVzLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44JywNCiAgICAgICAgICAgICAgICAgICAgICAgICdhY2NlcHQtZW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZScsDQogICAgICAgICAgICAgICAgICAgICAgICAndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6IHN0cihyYW5kb20ucmFuZGludCgxMDAsIDIwMCkpLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdC1sYW5ndWFnZSc6ICdpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNycgfSkNCiAgICAgICAgICAgICAgICAgICAgcCA9IHJhbmEuZ2V0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nKQ0KICAgICAgICAgICAgICAgICAgICBiID0gcmFuYS5wb3N0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4ucGhwJywgZGF0YSA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICdlbWFpbCc6IHVpZCwNCiAgICAgICAgICAgICAgICAgICAgICAgICdwYXNzJzogcGFzczMsDQogICAgICAgICAgICAgICAgICAgICAgICAnbG9naW4nOiAnc3VibWl0JyB9KQ0KICAgICAgICAgICAgICAgICAgICBpZiAnY191c2VyJyBpbiByYW5hLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkybVtJTVRJQVotT0tdICcgKyB1aWQgKyAnIHwgJyArIHBhc3MzDQogICAgICAgICAgICAgICAgICAgICAgICBvayA9IG9wZW4oJ0lNVElBWi1vay50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICBvay53cml0ZSh1aWQgKyAnIHwgJyArIHBhc3MzICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodWlkICsgcGFzczMpDQogICAgICAgICAgICAgICAgICAgIGVsaWYgJ2NoZWNrcG9pbnQnIGluIHJhbmEuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTFtW0lNVElBWi1DUF0gJyArIHVpZCArICcgfCAnICsgcGFzczMNCiAgICAgICAgICAgICAgICAgICAgICAgIGNwID0gb3BlbignSU1USUFaLWNwLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgIGNwLndyaXRlKHVpZCArICcgfCAnICsgcGFzczMgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgY3AuY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgY3BzLmFwcGVuZCh1aWQgKyBwYXNzMykNCiAgICAgICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgICAgIHBhc3M0ID0gZmlyc3QgKyBwczMNCiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmEgPSByZXF1ZXN0cy5TZXNzaW9uKCkNCiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmEuaGVhZGVycy51cGRhdGUoew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdIb3N0JzogJ21iYXNpYy5mYWNlYm9vay5jb20nLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjYWNoZS1jb250cm9sJzogJ21heC1hZ2U9MCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3VzZXItYWdlbnQnOiBsaW5lcywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhY2NlcHQtZW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiBzdHIocmFuZG9tLnJhbmRpbnQoMTAwLCAyMDApKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYWNjZXB0LWxhbmd1YWdlJzogJ2lkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43JyB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgcCA9IHJhbmEuZ2V0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgYiA9IHJhbmEucG9zdCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luLnBocCcsIGRhdGEgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2VtYWlsJzogdWlkLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwYXNzJzogcGFzczQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2xvZ2luJzogJ3N1Ym1pdCcgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICdjX3VzZXInIGluIHJhbmEuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkybVtJTVRJQVotT0tdICcgKyB1aWQgKyAnIHwgJyArIHBhc3M0DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2sgPSBvcGVuKCdJTVRJQVotb2sudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rLndyaXRlKHVpZCArICcgfCAnICsgcGFzczQgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVpZCArIHBhc3M0KQ0KICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnY2hlY2twb2ludCcgaW4gcmFuYS5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTFtW0lNVElBWi1DUF0gJyArIHVpZCArICcgfCAnICsgcGFzczQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcCA9IG9wZW4oJ0lNVElBWi1jcC50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Aud3JpdGUodWlkICsgJyB8ICcgKyBwYXNzNCArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3AuY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwcy5hcHBlbmQodWlkICsgcGFzczQpDQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3M1ID0gZmlyc3QgKyBwczQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5hID0gcmVxdWVzdHMuU2Vzc2lvbigpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuYS5oZWFkZXJzLnVwZGF0ZSh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdIb3N0JzogJ21iYXNpYy5mYWNlYm9vay5jb20nLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY2FjaGUtY29udHJvbCc6ICdtYXgtYWdlPTAnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6ICcxJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3VzZXItYWdlbnQnOiBsaW5lcywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44JywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdC1lbmNvZGluZyc6ICdnemlwLCBkZWZsYXRlJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiBzdHIocmFuZG9tLnJhbmRpbnQoMTAwLCAyMDApKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdC1sYW5ndWFnZSc6ICdpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNycgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwID0gcmFuYS5nZXQoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYiA9IHJhbmEucG9zdCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luLnBocCcsIGRhdGEgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdlbWFpbCc6IHVpZCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Bhc3MnOiBwYXNzNSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2xvZ2luJzogJ3N1Ym1pdCcgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnY191c2VyJyBpbiByYW5hLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTJtW0lNWUlBWi1PS10gJyArIHVpZCArICcgfCAnICsgcGFzczUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2sgPSBvcGVuKCdJTVRJQVotb2sudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvay53cml0ZSh1aWQgKyAnIHwgJyArIHBhc3M1ICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2suY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVpZCArIHBhc3M1KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ2NoZWNrcG9pbnQnIGluIHJhbmEuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5MW1bSU1USUFaLUNQXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzNQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcCA9IG9wZW4oJ0lNVElBWi1jcC50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwLndyaXRlKHVpZCArICcgfCAnICsgcGFzczUgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcC5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwcy5hcHBlbmQodWlkICsgcGFzczUpDQogICAgICAgIGV4Y2VwdDoNCiAgICAgICAgICAgIHBhc3MNCiAgICAgICAgDQoNCg0KICAgIHAgPSBUaHJlYWRQb29sKDMwKQ0KICAgIHAubWFwKG1haW4sIGlkeCkNCiAgICBwcmludCAnXHgxYlsxOzk3bScNCiAgICBwcmludCAzOSAqICctJw0KICAgIHByaW50ICdbIV0gQ2xvbmluZyBDb21wbGV0ZSBSZXN1bHQgLi4uLi4uLi4nDQogICAgcHJpbnQgMzkgKiAnLScNCiAgICBwcmludCAnWyFdIFRvdGFsIE9rIElkcyA6ICcgKyBzdHIobGVuKG9rcykpDQogICAgcHJpbnQgJ1shXSBUb3RhbCBDcCBJZHM6ICcgKyBzdHIobGVuKGNwcykpDQogICAgcHJpbnQgMzkgKiAnLScNCiAgICBwcmludCAnJw0KICAgIHJhd19pbnB1dCgnIFByZXNzIEVudGVyIFRvIEJhY2sgJykNCiAgICBtYWluX3N5c3RlbSgpDQoNCg0KZGVmIGZfcF9wYXNzKCk6DQogICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgcHJpbnQgbG9nbw0KICAgIHByaW50ICcnDQogICAgcHMxID0gcmF3X2lucHV0KCdbMV0gUGFzc3dvcmQgOiAnKQ0KICAgIHBzMiA9IHJhd19pbnB1dCgnWzJdIFBhc3N3b3JkIDogJykNCiAgICBwczMgPSByYXdfaW5wdXQoJ1szXSBQYXNzd29yZCA6ICcpDQogICAgcHM0ID0gcmF3X2lucHV0KCdbNF0gUGFzc3dvcmQgOiAnKQ0KICAgIHBzNSA9IHJhd19pbnB1dCgnWzVdIFBhc3N3b3JkIDogJykNCiAgICBwczYgPSByYXdfaW5wdXQoJ1s2XSBQYXNzd29yZCA6ICcpDQogICAgcHJpbnQgJycNCiAgICANCiAgICB0cnk6DQogICAgICAgIG1mID0gcmF3X2lucHV0KCdbIV0gRW50ZXIgcGF0aCA6JykNCiAgICAgICAgcHJpbnQgJycNCiAgICAgICAgZm9yIGxpbmUgaW4gb3BlbihtZiwgJ3InKS5yZWFkbGluZXMoKToNCiAgICAgICAgICAgIGlkeC5hcHBlbmQobGluZS5zdHJpcCgpKQ0KICAgIGV4Y2VwdDoNCiAgICAgICAgcHJpbnQgJ2ZpbGUgbm90IGZvdW5kJw0KICAgICAgICB0aW1lLnNsZWVwKDIpDQogICAgICAgIG5fZl9wX3Bhc3MoKQ0KDQogICAgcHJpbnQgJ1shXSB0b3RhbCBpZHMgOiAnICsgc3RyKGxlbihpZHgpKQ0KICAgIG9zLnN5c3RlbSgnZWNobyAiIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tInwgbG9sY2F0JykNCiAgICBwcmludCAnICAgIENyYWNraW5nIFN0YXJ0IFBsZWFzZSBXYWl0IC4uJw0KICAgIHByaW50ICcgICAgVXNlIEZsaWdodCBNb2QgRm9yIFNwZWVkIFVwJw0KICAgIG9zLnN5c3RlbSgnZWNobyAiIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tInwgbG9sY2F0JykNCiAgICANCiAgICBkZWYgbWFpbihhcmcpOg0KICAgICAgICB1c2VyID0gYXJnDQogICAgICAgICh1aWQsIG5hbWUpID0gdXNlci5zcGxpdCgnfCcpDQogICAgICAgIGxpbmVzID0gcmFuZG9tLmNob2ljZShbDQogICAgICAgICAgICAnRGFsdmlrLzEuNi4wIChMaW51eDsgVTsgQW5kcm9pZCA0LjQuMjsgTlg1NSBCdWlsZC9LT1Q1NTA2KSBbRkJBTi9GQjRBO0ZCQVYvMTA2LjAuMC4yNi42ODtGQkJWLzQ1OTA0MTYwO0ZCRE0ve2RlbnNpdHk9My4wLHdpZHRoPTEwODAsaGVpZ2h0PTE5MjB9O0ZCTEMvaXRfSVQ7RkJSVi80NTkwNDE2MDtGQkNSL1Bvc3RlTW9iaWxlO0ZCTUYvYXN1cztGQkJEL2FzdXM7RkJQTi9jb20uZmFjZWJvb2sua2F0YW5hO0ZCRFYvQVNVU19aMDA3O0ZCU1YvNS4wO0ZCT1AvMTtGQkNBL3g4Njphcm1lYWJpLXY3YTtdJywNCiAgICAgICAgICAgICdNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTA7IE1pIDlUIFBybyBCdWlsZC9RS1ExLjE5MDgyNS4wMDI7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvODguMC40MzI0LjE4MSBNb2JpbGUgU2FmYXJpLzUzNy4zNiBbRkJBTi9FTUE7RkJMQy9pZF9JRDtGQkFWLzIzOS4wLjAuMTAuMTA5O10nLA0KICAgICAgICAgICAgJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMTsgU00tTTMwN0ZOKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvOTYuMC40NjY0LjQ1IE1vYmlsZSBTYWZhcmkvNTM3LjM2JywNCiAgICAgICAgICAgICdNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTA7IE1pIDlUIFBybyBCdWlsZC9RS1ExLjE5MDgyNS4wMDI7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvODguMC40MzI0LjE4MSBNb2JpbGUgU2FmYXJpLzUzNy4zNltGQkFOL0VNQTtGQkxDL2l0X0lUO0ZCQVYvMjM5LjAuMC4xMC4xMDk7XSddKQ0KICAgICAgICANCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgcGFzczEgPSBwczENCiAgICAgICAgICAgIHJhbmEgPSByZXF1ZXN0cy5TZXNzaW9uKCkNCiAgICAgICAgICAgIHJhbmEuaGVhZGVycy51cGRhdGUoew0KICAgICAgICAgICAgICAgICdIb3N0JzogJ21iYXNpYy5mYWNlYm9vay5jb20nLA0KICAgICAgICAgICAgICAgICdjYWNoZS1jb250cm9sJzogJ21heC1hZ2U9MCcsDQogICAgICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsDQogICAgICAgICAgICAgICAgJ3VzZXItYWdlbnQnOiBsaW5lcywNCiAgICAgICAgICAgICAgICAnYWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgnLA0KICAgICAgICAgICAgICAgICdhY2NlcHQtZW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZScsDQogICAgICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiBzdHIocmFuZG9tLnJhbmRpbnQoMTAwLCAyMDApKSwNCiAgICAgICAgICAgICAgICAnYWNjZXB0LWxhbmd1YWdlJzogJ2lkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43JyB9KQ0KICAgICAgICAgICAgcCA9IHJhbmEuZ2V0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nKQ0KICAgICAgICAgICAgYiA9IHJhbmEucG9zdCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luLnBocCcsIGRhdGEgPSB7DQogICAgICAgICAgICAgICAgJ2VtYWlsJzogdWlkLA0KICAgICAgICAgICAgICAgICdwYXNzJzogcGFzczEsDQogICAgICAgICAgICAgICAgJ2xvZ2luJzogJ3N1Ym1pdCcgfSkNCiAgICAgICAgICAgIGlmICdjX3VzZXInIGluIHJhbmEuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCiAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkybVtJTVRJQVotT0tdICcgKyB1aWQgKyAnIHwgJyArIHBhc3MxDQogICAgICAgICAgICAgICAgb2sgPSBvcGVuKCdJTVRJQVotb2sudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgIG9rLndyaXRlKHVpZCArICcgfCAnICsgcGFzczEgKyAnXG4nKQ0KICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkNCiAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVpZCArIHBhc3MxKQ0KICAgICAgICAgICAgZWxpZiAnY2hlY2twb2ludCcgaW4gcmFuYS5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOg0KICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTFtW0lNVElBWi1DUF0gJyArIHVpZCArICcgfCAnICsgcGFzczENCiAgICAgICAgICAgICAgICBjcCA9IG9wZW4oJ0lNVElBWi1jcC50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgY3Aud3JpdGUodWlkICsgJyB8ICcgKyBwYXNzMSArICdcbicpDQogICAgICAgICAgICAgICAgY3AuY2xvc2UoKQ0KICAgICAgICAgICAgICAgIGNwcy5hcHBlbmQodWlkICsgcGFzczEpDQogICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgIHBhc3MyID0gcHMxDQogICAgICAgICAgICAgICAgcmFuYSA9IHJlcXVlc3RzLlNlc3Npb24oKQ0KICAgICAgICAgICAgICAgIHJhbmEuaGVhZGVycy51cGRhdGUoew0KICAgICAgICAgICAgICAgICAgICAnSG9zdCc6ICdtYmFzaWMuZmFjZWJvb2suY29tJywNCiAgICAgICAgICAgICAgICAgICAgJ2NhY2hlLWNvbnRyb2wnOiAnbWF4LWFnZT0wJywNCiAgICAgICAgICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsDQogICAgICAgICAgICAgICAgICAgICd1c2VyLWFnZW50JzogbGluZXMsDQogICAgICAgICAgICAgICAgICAgICdhY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCcsDQogICAgICAgICAgICAgICAgICAgICdhY2NlcHQtZW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZScsDQogICAgICAgICAgICAgICAgICAgICd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogc3RyKHJhbmRvbS5yYW5kaW50KDEwMCwgMjAwKSksDQogICAgICAgICAgICAgICAgICAgICdhY2NlcHQtbGFuZ3VhZ2UnOiAnaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcnIH0pDQogICAgICAgICAgICAgICAgcCA9IHJhbmEuZ2V0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nKQ0KICAgICAgICAgICAgICAgIGIgPSByYW5hLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi5waHAnLCBkYXRhID0gew0KICAgICAgICAgICAgICAgICAgICAnZW1haWwnOiB1aWQsDQogICAgICAgICAgICAgICAgICAgICdwYXNzJzogcGFzczIsDQogICAgICAgICAgICAgICAgICAgICdsb2dpbic6ICdzdWJtaXQnIH0pDQogICAgICAgICAgICAgICAgaWYgJ2NfdXNlcicgaW4gcmFuYS5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOg0KICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkybVtJTVRJQVotT0tdICcgKyB1aWQgKyAnIHwgJyArIHBhc3MyDQogICAgICAgICAgICAgICAgICAgIG9rID0gb3BlbignSU1USUFaLW9rLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgb2sud3JpdGUodWlkICsgJyB8ICcgKyBwYXNzMiArICdcbicpDQogICAgICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh1aWQgKyBwYXNzMikNCiAgICAgICAgICAgICAgICBlbGlmICdjaGVja3BvaW50JyBpbiByYW5hLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQogICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTFtW0lNVElBWi1DUF0gJyArIHVpZCArICcgfCAnICsgcGFzczINCiAgICAgICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdJTVRJQVotY3AudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICBjcC53cml0ZSh1aWQgKyAnIHwgJyArIHBhc3MyICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgY3AuY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHVpZCArIHBhc3MyKQ0KICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgIHBhc3MzID0gcHMzDQogICAgICAgICAgICAgICAgICAgIHJhbmEgPSByZXF1ZXN0cy5TZXNzaW9uKCkNCiAgICAgICAgICAgICAgICAgICAgcmFuYS5oZWFkZXJzLnVwZGF0ZSh7DQogICAgICAgICAgICAgICAgICAgICAgICAnSG9zdCc6ICdtYmFzaWMuZmFjZWJvb2suY29tJywNCiAgICAgICAgICAgICAgICAgICAgICAgICdjYWNoZS1jb250cm9sJzogJ21heC1hZ2U9MCcsDQogICAgICAgICAgICAgICAgICAgICAgICAndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6ICcxJywNCiAgICAgICAgICAgICAgICAgICAgICAgICd1c2VyLWFnZW50JzogbGluZXMsDQogICAgICAgICAgICAgICAgICAgICAgICAnYWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgnLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdC1lbmNvZGluZyc6ICdnemlwLCBkZWZsYXRlJywNCiAgICAgICAgICAgICAgICAgICAgICAgICd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogc3RyKHJhbmRvbS5yYW5kaW50KDEwMCwgMjAwKSksDQogICAgICAgICAgICAgICAgICAgICAgICAnYWNjZXB0LWxhbmd1YWdlJzogJ2lkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43JyB9KQ0KICAgICAgICAgICAgICAgICAgICBwID0gcmFuYS5nZXQoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbScpDQogICAgICAgICAgICAgICAgICAgIGIgPSByYW5hLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi5waHAnLCBkYXRhID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgJ2VtYWlsJzogdWlkLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ3Bhc3MnOiBwYXNzMywNCiAgICAgICAgICAgICAgICAgICAgICAgICdsb2dpbic6ICdzdWJtaXQnIH0pDQogICAgICAgICAgICAgICAgICAgIGlmICdjX3VzZXInIGluIHJhbmEuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTJtW0lNVElBWi1PS10gJyArIHVpZCArICcgfCAnICsgcGFzczMNCiAgICAgICAgICAgICAgICAgICAgICAgIG9rID0gb3BlbignSU1USUFaLW9rLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgIG9rLndyaXRlKHVpZCArICcgfCAnICsgcGFzczMgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgb2suY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh1aWQgKyBwYXNzMykNCiAgICAgICAgICAgICAgICAgICAgZWxpZiAnY2hlY2twb2ludCcgaW4gcmFuYS5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOg0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5MW1bSU1USUFaLUNQXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzMw0KICAgICAgICAgICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdJTVRJQVotY3AudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgY3Aud3JpdGUodWlkICsgJyB8ICcgKyBwYXNzMyArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICBjcC5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHVpZCArIHBhc3MzKQ0KICAgICAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICAgICAgcGFzczQgPSBwczQNCiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmEgPSByZXF1ZXN0cy5TZXNzaW9uKCkNCiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmEuaGVhZGVycy51cGRhdGUoew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdIb3N0JzogJ21iYXNpYy5mYWNlYm9vay5jb20nLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjYWNoZS1jb250cm9sJzogJ21heC1hZ2U9MCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3VzZXItYWdlbnQnOiBsaW5lcywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhY2NlcHQtZW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiBzdHIocmFuZG9tLnJhbmRpbnQoMTAwLCAyMDApKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYWNjZXB0LWxhbmd1YWdlJzogJ2lkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43JyB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgcCA9IHJhbmEuZ2V0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgYiA9IHJhbmEucG9zdCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luLnBocCcsIGRhdGEgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2VtYWlsJzogdWlkLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwYXNzJzogcGFzczQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2xvZ2luJzogJ3N1Ym1pdCcgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICdjX3VzZXInIGluIHJhbmEuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkybVtJTVRJQVotT0tdICcgKyB1aWQgKyAnIHwgJyArIHBhc3M0DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2sgPSBvcGVuKCdJTVRJQVotb2sudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rLndyaXRlKHVpZCArICcgfCAnICsgcGFzczQgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVpZCArIHBhc3M0KQ0KICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnY2hlY2twb2ludCcgaW4gcmFuYS5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTFtW0lNVElBWi1DUF0gJyArIHVpZCArICcgfCAnICsgcGFzczQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcCA9IG9wZW4oJ0lNVElBWi1jcC50eHQnLCAnYScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Aud3JpdGUodWlkICsgJyB8ICcgKyBwYXNzNCArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3AuY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwcy5hcHBlbmQodWlkICsgcGFzczQpDQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3M1ID0gcHM1DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuYSA9IHJlcXVlc3RzLlNlc3Npb24oKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmEuaGVhZGVycy51cGRhdGUoew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnSG9zdCc6ICdtYmFzaWMuZmFjZWJvb2suY29tJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NhY2hlLWNvbnRyb2wnOiAnbWF4LWFnZT0wJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd1c2VyLWFnZW50JzogbGluZXMsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhY2NlcHQtZW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogc3RyKHJhbmRvbS5yYW5kaW50KDEwMCwgMjAwKSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhY2NlcHQtbGFuZ3VhZ2UnOiAnaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcnIH0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcCA9IHJhbmEuZ2V0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIgPSByYW5hLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi5waHAnLCBkYXRhID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZW1haWwnOiB1aWQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwYXNzJzogcGFzczUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdsb2dpbic6ICdzdWJtaXQnIH0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2NfdXNlcicgaW4gcmFuYS5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkybVtJTVRJQVotT0tdICcgKyB1aWQgKyAnIHwgJyArIHBhc3M1DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rID0gb3BlbignSU1USUFaLW9rLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2sud3JpdGUodWlkICsgJyB8ICcgKyBwYXNzNSArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh1aWQgKyBwYXNzNSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmICdjaGVja3BvaW50JyBpbiByYW5hLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTFtW0lNVElBWi1DUF0gJyArIHVpZCArICcgfCAnICsgcGFzczUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdJTVRJQVotY3AudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcC53cml0ZSh1aWQgKyAnIHwgJyArIHBhc3M1ICsgJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3AuY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHVpZCArIHBhc3M1KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3M2ID0gcHM2DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmEgPSByZXF1ZXN0cy5TZXNzaW9uKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuYS5oZWFkZXJzLnVwZGF0ZSh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnSG9zdCc6ICdtYmFzaWMuZmFjZWJvb2suY29tJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjYWNoZS1jb250cm9sJzogJ21heC1hZ2U9MCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6ICcxJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd1c2VyLWFnZW50JzogbGluZXMsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdC1lbmNvZGluZyc6ICdnemlwLCBkZWZsYXRlJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogc3RyKHJhbmRvbS5yYW5kaW50KDEwMCwgMjAwKSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYWNjZXB0LWxhbmd1YWdlJzogJ2lkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43JyB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwID0gcmFuYS5nZXQoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIgPSByYW5hLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi5waHAnLCBkYXRhID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2VtYWlsJzogdWlkLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Bhc3MnOiBwYXNzNiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdsb2dpbic6ICdzdWJtaXQnIH0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICdjX3VzZXInIGluIHJhbmEuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTJtW0lNVElBWi1PS10gJyArIHVpZCArICcgfCAnICsgcGFzczYNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rID0gb3BlbignSU1USVNaLW9rLnR4dCcsICdhJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rLndyaXRlKHVpZCArICcgfCAnICsgcGFzczYgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2suY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh1aWQgKyBwYXNzNikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnY2hlY2twb2ludCcgaW4gcmFuYS5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5MW1bSU1USUFaLUNQXSAnICsgdWlkICsgJyB8ICcgKyBwYXNzNg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdJTVRJQVotY3AudHh0JywgJ2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Aud3JpdGUodWlkICsgJyB8ICcgKyBwYXNzNiArICdcbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcC5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHVpZCArIHBhc3M2KQ0KICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICBwYXNzDQogICAgICAgIA0KDQoNCiAgICBwID0gVGhyZWFkUG9vbCgzMCkNCiAgICBwLm1hcChtYWluLCBpZHgpDQogICAgcHJpbnQgJ1x4MWJbMTs5N20nDQogICAgcHJpbnQgMzkgKiAnLScNCiAgICBwcmludCAnWyFdIENsb25pbmcgQ29tcGxldGUgUmVzdWx0IC4uLi4uLi4uJw0KICAgIHByaW50IDM5ICogJy0nDQogICAgcHJpbnQgJ1shXSBUb3RhbCBPSyBJRFMgOiAnICsgc3RyKGxlbihva3MpKQ0KICAgIHByaW50ICdbIV0gVG90YWwgQ1AgSURTOicgKyBzdHIobGVuKGNwcykpDQogICAgcHJpbnQgMzkgKiAnLScNCiAgICBwcmludCAnJw0KICAgIHJhd19pbnB1dCgnIFByZXNzIEVudGVyIFRvIEJhY2sgJykNCiAgICBmYl9tZW51KCkNCiAgICBvcy5zeXN0ZW0oJ3JtLSByZiB0b2tlbi50eHQnKQ0KDQppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOg0KICAgIG1haW5fYXB2KCkNCg=="))